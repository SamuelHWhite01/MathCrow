var IS=Object.defineProperty;var DS=(r,t,e)=>t in r?IS(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var oe=(r,t,e)=>DS(r,typeof t!="symbol"?t+"":t,e);function NS(r,t){for(var e=0;e<t.length;e++){const s=t[e];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in r)){const u=Object.getOwnPropertyDescriptor(s,o);u&&Object.defineProperty(r,o,u.get?u:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();var ef=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ym={exports:{}},jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function OS(){if(M_)return jl;M_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return jl.Fragment=t,jl.jsx=e,jl.jsxs=e,jl}var k_;function MS(){return k_||(k_=1,ym.exports=OS()),ym.exports}var B=MS(),vm={exports:{}},Ot={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function kS(){if(L_)return Ot;L_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function T(P){return P===null||typeof P!="object"?null:(P=w&&P[w]||P["@@iterator"],typeof P=="function"?P:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,O={};function L(P,nt,ft){this.props=P,this.context=nt,this.refs=O,this.updater=ft||I}L.prototype.isReactComponent={},L.prototype.setState=function(P,nt){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,nt,"setState")},L.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function z(){}z.prototype=L.prototype;function G(P,nt,ft){this.props=P,this.context=nt,this.refs=O,this.updater=ft||I}var K=G.prototype=new z;K.constructor=G,D(K,L.prototype),K.isPureReactComponent=!0;var J=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},ct=Object.prototype.hasOwnProperty;function R(P,nt,ft,W,st,dt){return ft=dt.ref,{$$typeof:r,type:P,key:nt,ref:ft!==void 0?ft:null,props:dt}}function E(P,nt){return R(P.type,nt,void 0,void 0,void 0,P.props)}function A(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function M(P){var nt={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ft){return nt[ft]})}var V=/\/+/g;function U(P,nt){return typeof P=="object"&&P!==null&&P.key!=null?M(""+P.key):nt.toString(36)}function N(){}function Mt(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(N,N):(P.status="pending",P.then(function(nt){P.status==="pending"&&(P.status="fulfilled",P.value=nt)},function(nt){P.status==="pending"&&(P.status="rejected",P.reason=nt)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function Rt(P,nt,ft,W,st){var dt=typeof P;(dt==="undefined"||dt==="boolean")&&(P=null);var bt=!1;if(P===null)bt=!0;else switch(dt){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(P.$$typeof){case r:case t:bt=!0;break;case v:return bt=P._init,Rt(bt(P._payload),nt,ft,W,st)}}if(bt)return st=st(P),bt=W===""?"."+U(P,0):W,J(st)?(ft="",bt!=null&&(ft=bt.replace(V,"$&/")+"/"),Rt(st,nt,ft,"",function(ve){return ve})):st!=null&&(A(st)&&(st=E(st,ft+(st.key==null||P&&P.key===st.key?"":(""+st.key).replace(V,"$&/")+"/")+bt)),nt.push(st)),1;bt=0;var gt=W===""?".":W+":";if(J(P))for(var Pt=0;Pt<P.length;Pt++)W=P[Pt],dt=gt+U(W,Pt),bt+=Rt(W,nt,ft,dt,st);else if(Pt=T(P),typeof Pt=="function")for(P=Pt.call(P),Pt=0;!(W=P.next()).done;)W=W.value,dt=gt+U(W,Pt++),bt+=Rt(W,nt,ft,dt,st);else if(dt==="object"){if(typeof P.then=="function")return Rt(Mt(P),nt,ft,W,st);throw nt=String(P),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return bt}function X(P,nt,ft){if(P==null)return P;var W=[],st=0;return Rt(P,W,"","",function(dt){return nt.call(ft,dt,st++)}),W}function ut(P){if(P._status===-1){var nt=P._result;nt=nt(),nt.then(function(ft){(P._status===0||P._status===-1)&&(P._status=1,P._result=ft)},function(ft){(P._status===0||P._status===-1)&&(P._status=2,P._result=ft)}),P._status===-1&&(P._status=0,P._result=nt)}if(P._status===1)return P._result.default;throw P._result}var et=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function St(){}return Ot.Children={map:X,forEach:function(P,nt,ft){X(P,function(){nt.apply(this,arguments)},ft)},count:function(P){var nt=0;return X(P,function(){nt++}),nt},toArray:function(P){return X(P,function(nt){return nt})||[]},only:function(P){if(!A(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ot.Component=L,Ot.Fragment=e,Ot.Profiler=o,Ot.PureComponent=G,Ot.StrictMode=s,Ot.Suspense=p,Ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Ot.__COMPILER_RUNTIME={__proto__:null,c:function(P){return F.H.useMemoCache(P)}},Ot.cache=function(P){return function(){return P.apply(null,arguments)}},Ot.cloneElement=function(P,nt,ft){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var W=D({},P.props),st=P.key,dt=void 0;if(nt!=null)for(bt in nt.ref!==void 0&&(dt=void 0),nt.key!==void 0&&(st=""+nt.key),nt)!ct.call(nt,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&nt.ref===void 0||(W[bt]=nt[bt]);var bt=arguments.length-2;if(bt===1)W.children=ft;else if(1<bt){for(var gt=Array(bt),Pt=0;Pt<bt;Pt++)gt[Pt]=arguments[Pt+2];W.children=gt}return R(P.type,st,void 0,void 0,dt,W)},Ot.createContext=function(P){return P={$$typeof:f,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},Ot.createElement=function(P,nt,ft){var W,st={},dt=null;if(nt!=null)for(W in nt.key!==void 0&&(dt=""+nt.key),nt)ct.call(nt,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(st[W]=nt[W]);var bt=arguments.length-2;if(bt===1)st.children=ft;else if(1<bt){for(var gt=Array(bt),Pt=0;Pt<bt;Pt++)gt[Pt]=arguments[Pt+2];st.children=gt}if(P&&P.defaultProps)for(W in bt=P.defaultProps,bt)st[W]===void 0&&(st[W]=bt[W]);return R(P,dt,void 0,void 0,null,st)},Ot.createRef=function(){return{current:null}},Ot.forwardRef=function(P){return{$$typeof:d,render:P}},Ot.isValidElement=A,Ot.lazy=function(P){return{$$typeof:v,_payload:{_status:-1,_result:P},_init:ut}},Ot.memo=function(P,nt){return{$$typeof:g,type:P,compare:nt===void 0?null:nt}},Ot.startTransition=function(P){var nt=F.T,ft={};F.T=ft;try{var W=P(),st=F.S;st!==null&&st(ft,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(St,et)}catch(dt){et(dt)}finally{F.T=nt}},Ot.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Ot.use=function(P){return F.H.use(P)},Ot.useActionState=function(P,nt,ft){return F.H.useActionState(P,nt,ft)},Ot.useCallback=function(P,nt){return F.H.useCallback(P,nt)},Ot.useContext=function(P){return F.H.useContext(P)},Ot.useDebugValue=function(){},Ot.useDeferredValue=function(P,nt){return F.H.useDeferredValue(P,nt)},Ot.useEffect=function(P,nt,ft){var W=F.H;if(typeof ft=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(P,nt)},Ot.useId=function(){return F.H.useId()},Ot.useImperativeHandle=function(P,nt,ft){return F.H.useImperativeHandle(P,nt,ft)},Ot.useInsertionEffect=function(P,nt){return F.H.useInsertionEffect(P,nt)},Ot.useLayoutEffect=function(P,nt){return F.H.useLayoutEffect(P,nt)},Ot.useMemo=function(P,nt){return F.H.useMemo(P,nt)},Ot.useOptimistic=function(P,nt){return F.H.useOptimistic(P,nt)},Ot.useReducer=function(P,nt,ft){return F.H.useReducer(P,nt,ft)},Ot.useRef=function(P){return F.H.useRef(P)},Ot.useState=function(P){return F.H.useState(P)},Ot.useSyncExternalStore=function(P,nt,ft){return F.H.useSyncExternalStore(P,nt,ft)},Ot.useTransition=function(){return F.H.useTransition()},Ot.version="19.1.0",Ot}var V_;function bp(){return V_||(V_=1,vm.exports=kS()),vm.exports}var x=bp();const le=Lb(x),LS=NS({__proto__:null,default:le},[x]);var _m={exports:{}},Bl={},bm={exports:{}},Tm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function VS(){return P_||(P_=1,function(r){function t(X,ut){var et=X.length;X.push(ut);t:for(;0<et;){var St=et-1>>>1,P=X[St];if(0<o(P,ut))X[St]=ut,X[et]=P,et=St;else break t}}function e(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var ut=X[0],et=X.pop();if(et!==ut){X[0]=et;t:for(var St=0,P=X.length,nt=P>>>1;St<nt;){var ft=2*(St+1)-1,W=X[ft],st=ft+1,dt=X[st];if(0>o(W,et))st<P&&0>o(dt,W)?(X[St]=dt,X[st]=et,St=st):(X[St]=W,X[ft]=et,St=ft);else if(st<P&&0>o(dt,et))X[St]=dt,X[st]=et,St=st;else break t}}return ut}function o(X,ut){var et=X.sortIndex-ut.sortIndex;return et!==0?et:X.id-ut.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,d=f.now();r.unstable_now=function(){return f.now()-d}}var p=[],g=[],v=1,w=null,T=3,I=!1,D=!1,O=!1,L=!1,z=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function J(X){for(var ut=e(g);ut!==null;){if(ut.callback===null)s(g);else if(ut.startTime<=X)s(g),ut.sortIndex=ut.expirationTime,t(p,ut);else break;ut=e(g)}}function F(X){if(O=!1,J(X),!D)if(e(p)!==null)D=!0,ct||(ct=!0,U());else{var ut=e(g);ut!==null&&Rt(F,ut.startTime-X)}}var ct=!1,R=-1,E=5,A=-1;function M(){return L?!0:!(r.unstable_now()-A<E)}function V(){if(L=!1,ct){var X=r.unstable_now();A=X;var ut=!0;try{t:{D=!1,O&&(O=!1,G(R),R=-1),I=!0;var et=T;try{e:{for(J(X),w=e(p);w!==null&&!(w.expirationTime>X&&M());){var St=w.callback;if(typeof St=="function"){w.callback=null,T=w.priorityLevel;var P=St(w.expirationTime<=X);if(X=r.unstable_now(),typeof P=="function"){w.callback=P,J(X),ut=!0;break e}w===e(p)&&s(p),J(X)}else s(p);w=e(p)}if(w!==null)ut=!0;else{var nt=e(g);nt!==null&&Rt(F,nt.startTime-X),ut=!1}}break t}finally{w=null,T=et,I=!1}ut=void 0}}finally{ut?U():ct=!1}}}var U;if(typeof K=="function")U=function(){K(V)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Mt=N.port2;N.port1.onmessage=V,U=function(){Mt.postMessage(null)}}else U=function(){z(V,0)};function Rt(X,ut){R=z(function(){X(r.unstable_now())},ut)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_next=function(X){switch(T){case 1:case 2:case 3:var ut=3;break;default:ut=T}var et=T;T=ut;try{return X()}finally{T=et}},r.unstable_requestPaint=function(){L=!0},r.unstable_runWithPriority=function(X,ut){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var et=T;T=X;try{return ut()}finally{T=et}},r.unstable_scheduleCallback=function(X,ut,et){var St=r.unstable_now();switch(typeof et=="object"&&et!==null?(et=et.delay,et=typeof et=="number"&&0<et?St+et:St):et=St,X){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=et+P,X={id:v++,callback:ut,priorityLevel:X,startTime:et,expirationTime:P,sortIndex:-1},et>St?(X.sortIndex=et,t(g,X),e(p)===null&&X===e(g)&&(O?(G(R),R=-1):O=!0,Rt(F,et-St))):(X.sortIndex=P,t(p,X),D||I||(D=!0,ct||(ct=!0,U()))),X},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(X){var ut=T;return function(){var et=T;T=ut;try{return X.apply(this,arguments)}finally{T=et}}}}(Tm)),Tm}var U_;function PS(){return U_||(U_=1,bm.exports=VS()),bm.exports}var Em={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function US(){if(z_)return tn;z_=1;var r=bp();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:v}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,tn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},tn.flushSync=function(p){var g=f.T,v=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=v,s.d.f()}},tn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},tn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},tn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,w=d(v,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:T,fetchPriority:I}):v==="script"&&s.d.X(p,{crossOrigin:w,integrity:T,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},tn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},tn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,w=d(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},tn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},tn.requestFormReset=function(p){s.d.r(p)},tn.unstable_batchedUpdates=function(p,g){return p(g)},tn.useFormState=function(p,g,v){return f.H.useFormState(p,g,v)},tn.useFormStatus=function(){return f.H.useHostTransitionStatus()},tn.version="19.1.0",tn}var j_;function Vb(){if(j_)return Em.exports;j_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Em.exports=US(),Em.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function zS(){if(B_)return Bl;B_=1;var r=PS(),t=bp(),e=Vb();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function f(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function d(n){if(u(n)!==n)throw Error(s(188))}function p(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,l=i;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return d(h),n;if(m===l)return d(h),i;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=m;else{for(var b=!1,S=h.child;S;){if(S===a){b=!0,a=h,l=m;break}if(S===l){b=!0,l=h,a=m;break}S=S.sibling}if(!b){for(S=m.child;S;){if(S===a){b=!0,a=m,l=h;break}if(S===l){b=!0,l=m,a=h;break}S=S.sibling}if(!b)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),K=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),ct=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=V&&n[V]||n["@@iterator"],typeof n=="function"?n:null)}var N=Symbol.for("react.client.reference");function Mt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===N?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case D:return"Fragment";case L:return"Profiler";case O:return"StrictMode";case F:return"Suspense";case ct:return"SuspenseList";case A:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case I:return"Portal";case K:return(n.displayName||"Context")+".Provider";case G:return(n._context.displayName||"Context")+".Consumer";case J:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case R:return i=n.displayName||null,i!==null?i:Mt(n.type)||"Memo";case E:i=n._payload,n=n._init;try{return Mt(n(i))}catch{}}return null}var Rt=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et={pending:!1,data:null,method:null,action:null},St=[],P=-1;function nt(n){return{current:n}}function ft(n){0>P||(n.current=St[P],St[P]=null,P--)}function W(n,i){P++,St[P]=n.current,n.current=i}var st=nt(null),dt=nt(null),bt=nt(null),gt=nt(null);function Pt(n,i){switch(W(bt,i),W(dt,n),W(st,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?o_(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=o_(i),n=l_(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ft(st),W(st,n)}function ve(){ft(st),ft(dt),ft(bt)}function We(n){n.memoizedState!==null&&W(gt,n);var i=st.current,a=l_(i,n.type);i!==a&&(W(dt,n),W(st,a))}function _n(n){dt.current===n&&(ft(st),ft(dt)),gt.current===n&&(ft(gt),Ll._currentValue=et)}var In=Object.prototype.hasOwnProperty,os=r.unstable_scheduleCallback,ls=r.unstable_cancelCallback,Oo=r.unstable_shouldYield,Nu=r.unstable_requestPaint,Dn=r.unstable_now,yh=r.unstable_getCurrentPriorityLevel,Mo=r.unstable_ImmediatePriority,la=r.unstable_UserBlockingPriority,us=r.unstable_NormalPriority,vh=r.unstable_LowPriority,ua=r.unstable_IdlePriority,ko=r.log,Ou=r.unstable_setDisableYieldValue,pe=null,Zt=null;function bn(n){if(typeof ko=="function"&&Ou(n),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(pe,n)}catch{}}var Ze=Math.clz32?Math.clz32:cs,Mu=Math.log,_h=Math.LN2;function cs(n){return n>>>=0,n===0?32:31-(Mu(n)/_h|0)|0}var fs=256,hs=4194304;function Hn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ca(n,i,a){var l=n.pendingLanes;if(l===0)return 0;var h=0,m=n.suspendedLanes,b=n.pingedLanes;n=n.warmLanes;var S=l&134217727;return S!==0?(l=S&~m,l!==0?h=Hn(l):(b&=S,b!==0?h=Hn(b):a||(a=S&~n,a!==0&&(h=Hn(a))))):(S=l&~m,S!==0?h=Hn(S):b!==0?h=Hn(b):a||(a=l&~n,a!==0&&(h=Hn(a)))),h===0?0:i!==0&&i!==h&&(i&m)===0&&(m=h&-h,a=i&-i,m>=a||m===32&&(a&4194048)!==0)?i:h}function ds(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Lo(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vo(){var n=fs;return fs<<=1,(fs&4194048)===0&&(fs=256),n}function Po(){var n=hs;return hs<<=1,(hs&62914560)===0&&(hs=4194304),n}function Rr(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function xr(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Uo(n,i,a,l,h,m){var b=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,k=n.expirationTimes,Q=n.hiddenUpdates;for(a=b&~a;0<a;){var rt=31-Ze(a),at=1<<rt;S[rt]=0,k[rt]=-1;var Y=Q[rt];if(Y!==null)for(Q[rt]=null,rt=0;rt<Y.length;rt++){var Z=Y[rt];Z!==null&&(Z.lane&=-536870913)}a&=~at}l!==0&&sr(n,l,0),m!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=m&~(b&~i))}function sr(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-Ze(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function zo(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-Ze(a),h=1<<l;h&i|n[l]&i&&(n[l]|=i),a&=~h}}function mi(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function fa(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function pi(){var n=ut.p;return n!==0?n:(n=window.event,n===void 0?32:R_(n.type))}function ku(n,i){var a=ut.p;try{return ut.p=n,i()}finally{ut.p=a}}var ce=Math.random().toString(36).slice(2),Ie="__reactFiber$"+ce,we="__reactProps$"+ce,Nn="__reactContainer$"+ce,jo="__reactEvents$"+ce,bh="__reactListeners$"+ce,gi="__reactHandles$"+ce,Lu="__reactResources$"+ce,ms="__reactMarker$"+ce;function yi(n){delete n[Ie],delete n[we],delete n[jo],delete n[bh],delete n[gi]}function Ir(n){var i=n[Ie];if(i)return i;for(var a=n.parentNode;a;){if(i=a[Nn]||a[Ie]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=h_(n);n!==null;){if(a=n[Ie])return a;n=h_(n)}return i}n=a,a=n.parentNode}return null}function ar(n){if(n=n[Ie]||n[Nn]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function or(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function on(n){var i=n[Lu];return i||(i=n[Lu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function _e(n){n[ms]=!0}var Bo=new Set,ha={};function Fn(n,i){Dr(n,i),Dr(n+"Capture",i)}function Dr(n,i){for(ha[n]=i,n=0;n<i.length;n++)Bo.add(i[n])}var Vu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pu={},ps={};function Uu(n){return In.call(ps,n)?!0:In.call(Pu,n)?!1:Vu.test(n)?ps[n]=!0:(Pu[n]=!0,!1)}function vi(n,i,a){if(Uu(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function lr(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function qe(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}var gs,zu;function Nr(n){if(gs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);gs=i&&i[1]||"",zu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gs+n+zu}var da=!1;function ma(n,i){if(!n||da)return"";da=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var at=function(){throw Error()};if(Object.defineProperty(at.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(at,[])}catch(Z){var Y=Z}Reflect.construct(n,[],at)}else{try{at.call()}catch(Z){Y=Z}n.call(at.prototype)}}else{try{throw Error()}catch(Z){Y=Z}(at=n())&&typeof at.catch=="function"&&at.catch(function(){})}}catch(Z){if(Z&&Y&&typeof Z.stack=="string")return[Z.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),b=m[0],S=m[1];if(b&&S){var k=b.split(`
`),Q=S.split(`
`);for(h=l=0;l<k.length&&!k[l].includes("DetermineComponentFrameRoot");)l++;for(;h<Q.length&&!Q[h].includes("DetermineComponentFrameRoot");)h++;if(l===k.length||h===Q.length)for(l=k.length-1,h=Q.length-1;1<=l&&0<=h&&k[l]!==Q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(k[l]!==Q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||k[l]!==Q[h]){var rt=`
`+k[l].replace(" at new "," at ");return n.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",n.displayName)),rt}while(1<=l&&0<=h);break}}}finally{da=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Nr(a):""}function Go(n){switch(n.tag){case 26:case 27:case 5:return Nr(n.type);case 16:return Nr("Lazy");case 13:return Nr("Suspense");case 19:return Nr("SuspenseList");case 0:case 15:return ma(n.type,!1);case 11:return ma(n.type.render,!1);case 1:return ma(n.type,!0);case 31:return Nr("Activity");default:return""}}function pa(n){try{var i="";do i+=Go(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ln(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function qo(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Th(n){var i=qo(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return h.call(this)},set:function(b){l=""+b,m.call(this,b)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function ga(n){n._valueTracker||(n._valueTracker=Th(n))}function Ho(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=qo(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function ys(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Eh=/[\n"\\]/g;function Se(n){return n.replace(Eh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Tn(n,i,a,l,h,m,b,S){n.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.type=b:n.removeAttribute("type"),i!=null?b==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+ln(i)):n.value!==""+ln(i)&&(n.value=""+ln(i)):b!=="submit"&&b!=="reset"||n.removeAttribute("value"),i!=null?_i(n,b,ln(i)):a!=null?_i(n,b,ln(a)):l!=null&&n.removeAttribute("value"),h==null&&m!=null&&(n.defaultChecked=!!m),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+ln(S):n.removeAttribute("name")}function vs(n,i,a,l,h,m,b,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;a=a!=null?""+ln(a):"",i=i!=null?""+ln(i):a,S||i===n.value||(n.value=i),n.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=S?n.checked:!!l,n.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.name=b)}function _i(n,i,a){i==="number"&&ys(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Or(n,i,a,l){if(n=n.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=i.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&l&&(n[a].defaultSelected=!0)}else{for(a=""+ln(a),i=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}i!==null||n[h].disabled||(i=n[h])}i!==null&&(i.selected=!0)}}function ee(n,i,a){if(i!=null&&(i=""+ln(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+ln(a):""}function _s(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Rt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=ln(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function On(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var bs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ju(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||bs.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function Fo(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&ju(n,h,l)}else for(var m in i)i.hasOwnProperty(m)&&ju(n,m,i[m])}function $o(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ya(n){return Sh.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Mr=null;function Mn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var kr=null,Lr=null;function Qo(n){var i=ar(n);if(i&&(n=i.stateNode)){var a=n[we]||null;t:switch(n=i.stateNode,i.type){case"input":if(Tn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Se(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var h=l[we]||null;if(!h)throw Error(s(90));Tn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&Ho(l)}break t;case"textarea":ee(n,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Or(n,!!a.multiple,i,!1)}}}var ur=!1;function Bu(n,i,a){if(ur)return n(i,a);ur=!0;try{var l=n(i);return l}finally{if(ur=!1,(kr!==null||Lr!==null)&&(kc(),kr&&(i=kr,n=Lr,Lr=kr=null,Qo(i),n)))for(i=0;i<n.length;i++)Qo(n[i])}}function Ts(n,i){var a=n.stateNode;if(a===null)return null;var l=a[we]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kn=!1;if($n)try{var Es={};Object.defineProperty(Es,"passive",{get:function(){kn=!0}}),window.addEventListener("test",Es,Es),window.removeEventListener("test",Es,Es)}catch{kn=!1}var cr=null,bi=null,Vr=null;function Ko(){if(Vr)return Vr;var n,i=bi,a=i.length,l,h="value"in cr?cr.value:cr.textContent,m=h.length;for(n=0;n<a&&i[n]===h[n];n++);var b=a-n;for(l=1;l<=b&&i[a-l]===h[m-l];l++);return Vr=h.slice(n,1<l?1-l:void 0)}function fr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function hr(){return!0}function Yo(){return!1}function Pe(n){function i(a,l,h,m,b){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?hr:Yo,this.isPropagationStopped=Yo,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),i}var Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},va=Pe(Xt),ws=v({},Xt,{view:0,detail:0}),Gu=Pe(ws),_a,ba,dr,Ss=v({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==dr&&(dr&&n.type==="mousemove"?(_a=n.screenX-dr.screenX,ba=n.screenY-dr.screenY):ba=_a=0,dr=n),_a)},movementY:function(n){return"movementY"in n?n.movementY:ba}}),Ln=Pe(Ss),qu=v({},Ss,{dataTransfer:0}),Ah=Pe(qu),As=v({},ws,{relatedTarget:0}),Ta=Pe(As),Xo=v({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ea=Pe(Xo),Hu=v({},Xt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),wa=Pe(Hu),Ch=v({},Xt,{data:0}),Wo=Pe(Ch),Cs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zo(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=$u[n])?!!i[n]:!1}function Rs(){return Zo}var Qu=v({},ws,{key:function(n){if(n.key){var i=Cs[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=fr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Fu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(n){return n.type==="keypress"?fr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?fr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Sa=Pe(Qu),Ku=v({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jo=Pe(Ku),Pr=v({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),Yu=Pe(Pr),Xu=v({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wu=Pe(Xu),Zu=v({},Ss,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Aa=Pe(Zu),un=v({},Xt,{newState:0,oldState:0}),Ju=Pe(un),tc=[9,13,27,32],mr=$n&&"CompositionEvent"in window,c=null;$n&&"documentMode"in document&&(c=document.documentMode);var y=$n&&"TextEvent"in window&&!c,_=$n&&(!mr||c&&8<c&&11>=c),C=" ",H=!1;function tt(n,i){switch(n){case"keyup":return tc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ht(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var qt=!1;function De(n,i){switch(n){case"compositionend":return ht(i);case"keypress":return i.which!==32?null:(H=!0,C);case"textInput":return n=i.data,n===C&&H?null:n;default:return null}}function Ht(n,i){if(qt)return n==="compositionend"||!mr&&tt(n,i)?(n=Ko(),Vr=bi=cr=null,qt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Ue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ne(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Ue[n.type]:i==="textarea"}function Ur(n,i,a,l){kr?Lr?Lr.push(l):Lr=[l]:kr=l,i=jc(i,"onChange"),0<i.length&&(a=new va("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var He=null,pr=null;function tl(n){n_(n,0)}function ec(n){var i=or(n);if(Ho(i))return n}function wg(n,i){if(n==="change")return i}var Sg=!1;if($n){var Rh;if($n){var xh="oninput"in document;if(!xh){var Ag=document.createElement("div");Ag.setAttribute("oninput","return;"),xh=typeof Ag.oninput=="function"}Rh=xh}else Rh=!1;Sg=Rh&&(!document.documentMode||9<document.documentMode)}function Cg(){He&&(He.detachEvent("onpropertychange",Rg),pr=He=null)}function Rg(n){if(n.propertyName==="value"&&ec(pr)){var i=[];Ur(i,pr,n,Mn(n)),Bu(tl,i)}}function sw(n,i,a){n==="focusin"?(Cg(),He=i,pr=a,He.attachEvent("onpropertychange",Rg)):n==="focusout"&&Cg()}function aw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ec(pr)}function ow(n,i){if(n==="click")return ec(i)}function lw(n,i){if(n==="input"||n==="change")return ec(i)}function uw(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var En=typeof Object.is=="function"?Object.is:uw;function el(n,i){if(En(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!In.call(i,h)||!En(n[h],i[h]))return!1}return!0}function xg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ig(n,i){var a=xg(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=xg(a)}}function Dg(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Dg(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Ng(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=ys(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=ys(n.document)}return i}function Ih(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var cw=$n&&"documentMode"in document&&11>=document.documentMode,Ca=null,Dh=null,nl=null,Nh=!1;function Og(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Nh||Ca==null||Ca!==ys(l)||(l=Ca,"selectionStart"in l&&Ih(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),nl&&el(nl,l)||(nl=l,l=jc(Dh,"onSelect"),0<l.length&&(i=new va("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=Ca)))}function xs(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Ra={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionrun:xs("Transition","TransitionRun"),transitionstart:xs("Transition","TransitionStart"),transitioncancel:xs("Transition","TransitionCancel"),transitionend:xs("Transition","TransitionEnd")},Oh={},Mg={};$n&&(Mg=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function Is(n){if(Oh[n])return Oh[n];if(!Ra[n])return n;var i=Ra[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in Mg)return Oh[n]=i[a];return n}var kg=Is("animationend"),Lg=Is("animationiteration"),Vg=Is("animationstart"),fw=Is("transitionrun"),hw=Is("transitionstart"),dw=Is("transitioncancel"),Pg=Is("transitionend"),Ug=new Map,Mh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mh.push("scrollEnd");function Qn(n,i){Ug.set(n,i),Fn(i,[n])}var zg=new WeakMap;function Vn(n,i){if(typeof n=="object"&&n!==null){var a=zg.get(n);return a!==void 0?a:(i={value:n,source:i,stack:pa(i)},zg.set(n,i),i)}return{value:n,source:i,stack:pa(i)}}var Pn=[],xa=0,kh=0;function nc(){for(var n=xa,i=kh=xa=0;i<n;){var a=Pn[i];Pn[i++]=null;var l=Pn[i];Pn[i++]=null;var h=Pn[i];Pn[i++]=null;var m=Pn[i];if(Pn[i++]=null,l!==null&&h!==null){var b=l.pending;b===null?h.next=h:(h.next=b.next,b.next=h),l.pending=h}m!==0&&jg(a,h,m)}}function rc(n,i,a,l){Pn[xa++]=n,Pn[xa++]=i,Pn[xa++]=a,Pn[xa++]=l,kh|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Lh(n,i,a,l){return rc(n,i,a,l),ic(n)}function Ia(n,i){return rc(n,null,null,i),ic(n)}function jg(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var h=!1,m=n.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(h=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,h&&i!==null&&(h=31-Ze(a),n=m.hiddenUpdates,l=n[h],l===null?n[h]=[i]:l.push(i),i.lane=a|536870912),m):null}function ic(n){if(50<Rl)throw Rl=0,Bd=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Da={};function mw(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(n,i,a,l){return new mw(n,i,a,l)}function Vh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function zr(n,i){var a=n.alternate;return a===null?(a=wn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Bg(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function sc(n,i,a,l,h,m){var b=0;if(l=n,typeof n=="function")Vh(n)&&(b=1);else if(typeof n=="string")b=gS(n,a,st.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case A:return n=wn(31,a,i,h),n.elementType=A,n.lanes=m,n;case D:return Ds(a.children,h,m,i);case O:b=8,h|=24;break;case L:return n=wn(12,a,i,h|2),n.elementType=L,n.lanes=m,n;case F:return n=wn(13,a,i,h),n.elementType=F,n.lanes=m,n;case ct:return n=wn(19,a,i,h),n.elementType=ct,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case z:case K:b=10;break t;case G:b=9;break t;case J:b=11;break t;case R:b=14;break t;case E:b=16,l=null;break t}b=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return i=wn(b,a,i,h),i.elementType=n,i.type=l,i.lanes=m,i}function Ds(n,i,a,l){return n=wn(7,n,l,i),n.lanes=a,n}function Ph(n,i,a){return n=wn(6,n,null,i),n.lanes=a,n}function Uh(n,i,a){return i=wn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Na=[],Oa=0,ac=null,oc=0,Un=[],zn=0,Ns=null,jr=1,Br="";function Os(n,i){Na[Oa++]=oc,Na[Oa++]=ac,ac=n,oc=i}function Gg(n,i,a){Un[zn++]=jr,Un[zn++]=Br,Un[zn++]=Ns,Ns=n;var l=jr;n=Br;var h=32-Ze(l)-1;l&=~(1<<h),a+=1;var m=32-Ze(i)+h;if(30<m){var b=h-h%5;m=(l&(1<<b)-1).toString(32),l>>=b,h-=b,jr=1<<32-Ze(i)+h|a<<h|l,Br=m+n}else jr=1<<m|a<<h|l,Br=n}function zh(n){n.return!==null&&(Os(n,1),Gg(n,1,0))}function jh(n){for(;n===ac;)ac=Na[--Oa],Na[Oa]=null,oc=Na[--Oa],Na[Oa]=null;for(;n===Ns;)Ns=Un[--zn],Un[zn]=null,Br=Un[--zn],Un[zn]=null,jr=Un[--zn],Un[zn]=null}var cn=null,ge=null,Kt=!1,Ms=null,gr=!1,Bh=Error(s(519));function ks(n){var i=Error(s(418,""));throw sl(Vn(i,n)),Bh}function qg(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[Ie]=n,i[we]=l,a){case"dialog":jt("cancel",i),jt("close",i);break;case"iframe":case"object":case"embed":jt("load",i);break;case"video":case"audio":for(a=0;a<Il.length;a++)jt(Il[a],i);break;case"source":jt("error",i);break;case"img":case"image":case"link":jt("error",i),jt("load",i);break;case"details":jt("toggle",i);break;case"input":jt("invalid",i),vs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ga(i);break;case"select":jt("invalid",i);break;case"textarea":jt("invalid",i),_s(i,l.value,l.defaultValue,l.children),ga(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||a_(i.textContent,a)?(l.popover!=null&&(jt("beforetoggle",i),jt("toggle",i)),l.onScroll!=null&&jt("scroll",i),l.onScrollEnd!=null&&jt("scrollend",i),l.onClick!=null&&(i.onclick=Bc),i=!0):i=!1,i||ks(n)}function Hg(n){for(cn=n.return;cn;)switch(cn.tag){case 5:case 13:gr=!1;return;case 27:case 3:gr=!0;return;default:cn=cn.return}}function rl(n){if(n!==cn)return!1;if(!Kt)return Hg(n),Kt=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||rm(n.type,n.memoizedProps)),a=!a),a&&ge&&ks(n),Hg(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));t:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){ge=Yn(n.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}ge=null}}else i===27?(i=ge,Vi(n.type)?(n=om,om=null,ge=n):ge=i):ge=cn?Yn(n.stateNode.nextSibling):null;return!0}function il(){ge=cn=null,Kt=!1}function Fg(){var n=Ms;return n!==null&&(pn===null?pn=n:pn.push.apply(pn,n),Ms=null),n}function sl(n){Ms===null?Ms=[n]:Ms.push(n)}var Gh=nt(null),Ls=null,Gr=null;function Ti(n,i,a){W(Gh,i._currentValue),i._currentValue=a}function qr(n){n._currentValue=Gh.current,ft(Gh)}function qh(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function Hh(n,i,a,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var m=h.dependencies;if(m!==null){var b=h.child;m=m.firstContext;t:for(;m!==null;){var S=m;m=h;for(var k=0;k<i.length;k++)if(S.context===i[k]){m.lanes|=a,S=m.alternate,S!==null&&(S.lanes|=a),qh(m.return,a,n),l||(b=null);break t}m=S.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(s(341));b.lanes|=a,m=b.alternate,m!==null&&(m.lanes|=a),qh(b,a,n),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===n){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function al(n,i,a,l){n=null;for(var h=i,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var S=h.type;En(h.pendingProps.value,b.value)||(n!==null?n.push(S):n=[S])}}else if(h===gt.current){if(b=h.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(Ll):n=[Ll])}h=h.return}n!==null&&Hh(i,n,a,l),i.flags|=262144}function lc(n){for(n=n.firstContext;n!==null;){if(!En(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Vs(n){Ls=n,Gr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Je(n){return $g(Ls,n)}function uc(n,i){return Ls===null&&Vs(n),$g(n,i)}function $g(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Gr===null){if(n===null)throw Error(s(308));Gr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Gr=Gr.next=i;return a}var pw=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},gw=r.unstable_scheduleCallback,yw=r.unstable_NormalPriority,Oe={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fh(){return{controller:new pw,data:new Map,refCount:0}}function ol(n){n.refCount--,n.refCount===0&&gw(yw,function(){n.controller.abort()})}var ll=null,$h=0,Ma=0,ka=null;function vw(n,i){if(ll===null){var a=ll=[];$h=0,Ma=Kd(),ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return $h++,i.then(Qg,Qg),i}function Qg(){if(--$h===0&&ll!==null){ka!==null&&(ka.status="fulfilled");var n=ll;ll=null,Ma=0,ka=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function _w(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Kg=X.S;X.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&vw(n,i),Kg!==null&&Kg(n,i)};var Ps=nt(null);function Qh(){var n=Ps.current;return n!==null?n:ae.pooledCache}function cc(n,i){i===null?W(Ps,Ps.current):W(Ps,i.pool)}function Yg(){var n=Qh();return n===null?null:{parent:Oe._currentValue,pool:n}}var ul=Error(s(460)),Xg=Error(s(474)),fc=Error(s(542)),Kh={then:function(){}};function Wg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function hc(){}function Zg(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(hc,hc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,ty(n),n;default:if(typeof i.status=="string")i.then(hc,hc);else{if(n=ae,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,ty(n),n}throw cl=i,ul}}var cl=null;function Jg(){if(cl===null)throw Error(s(459));var n=cl;return cl=null,n}function ty(n){if(n===ul||n===fc)throw Error(s(483))}var Ei=!1;function Yh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xh(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function wi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Si(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Jt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=ic(n),jg(n,null,a),i}return rc(n,l,i,a),ic(n)}function fl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,zo(n,a)}}function Wh(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=b:m=m.next=b,a=a.next}while(a!==null);m===null?h=m=i:m=m.next=i}else h=m=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var Zh=!1;function hl(){if(Zh){var n=ka;if(n!==null)throw n}}function dl(n,i,a,l){Zh=!1;var h=n.updateQueue;Ei=!1;var m=h.firstBaseUpdate,b=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var k=S,Q=k.next;k.next=null,b===null?m=Q:b.next=Q,b=k;var rt=n.alternate;rt!==null&&(rt=rt.updateQueue,S=rt.lastBaseUpdate,S!==b&&(S===null?rt.firstBaseUpdate=Q:S.next=Q,rt.lastBaseUpdate=k))}if(m!==null){var at=h.baseState;b=0,rt=Q=k=null,S=m;do{var Y=S.lane&-536870913,Z=Y!==S.lane;if(Z?(Ft&Y)===Y:(l&Y)===Y){Y!==0&&Y===Ma&&(Zh=!0),rt!==null&&(rt=rt.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var xt=n,wt=S;Y=i;var ie=a;switch(wt.tag){case 1:if(xt=wt.payload,typeof xt=="function"){at=xt.call(ie,at,Y);break t}at=xt;break t;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=wt.payload,Y=typeof xt=="function"?xt.call(ie,at,Y):xt,Y==null)break t;at=v({},at,Y);break t;case 2:Ei=!0}}Y=S.callback,Y!==null&&(n.flags|=64,Z&&(n.flags|=8192),Z=h.callbacks,Z===null?h.callbacks=[Y]:Z.push(Y))}else Z={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},rt===null?(Q=rt=Z,k=at):rt=rt.next=Z,b|=Y;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Z=S,S=Z.next,Z.next=null,h.lastBaseUpdate=Z,h.shared.pending=null}}while(!0);rt===null&&(k=at),h.baseState=k,h.firstBaseUpdate=Q,h.lastBaseUpdate=rt,m===null&&(h.shared.lanes=0),Oi|=b,n.lanes=b,n.memoizedState=at}}function ey(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function ny(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)ey(a[n],i)}var La=nt(null),dc=nt(0);function ry(n,i){n=Xr,W(dc,n),W(La,i),Xr=n|i.baseLanes}function Jh(){W(dc,Xr),W(La,La.current)}function td(){Xr=dc.current,ft(La),ft(dc)}var Ai=0,kt=null,ne=null,Ae=null,mc=!1,Va=!1,Us=!1,pc=0,ml=0,Pa=null,bw=0;function be(){throw Error(s(321))}function ed(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!En(n[a],i[a]))return!1;return!0}function nd(n,i,a,l,h,m){return Ai=m,kt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=n===null||n.memoizedState===null?jy:By,Us=!1,m=a(l,h),Us=!1,Va&&(m=sy(i,a,l,h)),iy(n),m}function iy(n){X.H=Tc;var i=ne!==null&&ne.next!==null;if(Ai=0,Ae=ne=kt=null,mc=!1,ml=0,Pa=null,i)throw Error(s(300));n===null||ze||(n=n.dependencies,n!==null&&lc(n)&&(ze=!0))}function sy(n,i,a,l){kt=n;var h=0;do{if(Va&&(Pa=null),ml=0,Va=!1,25<=h)throw Error(s(301));if(h+=1,Ae=ne=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}X.H=Rw,m=i(a,l)}while(Va);return m}function Tw(){var n=X.H,i=n.useState()[0];return i=typeof i.then=="function"?pl(i):i,n=n.useState()[0],(ne!==null?ne.memoizedState:null)!==n&&(kt.flags|=1024),i}function rd(){var n=pc!==0;return pc=0,n}function id(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function sd(n){if(mc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}mc=!1}Ai=0,Ae=ne=kt=null,Va=!1,ml=pc=0,Pa=null}function dn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?kt.memoizedState=Ae=n:Ae=Ae.next=n,Ae}function Ce(){if(ne===null){var n=kt.alternate;n=n!==null?n.memoizedState:null}else n=ne.next;var i=Ae===null?kt.memoizedState:Ae.next;if(i!==null)Ae=i,ne=n;else{if(n===null)throw kt.alternate===null?Error(s(467)):Error(s(310));ne=n,n={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},Ae===null?kt.memoizedState=Ae=n:Ae=Ae.next=n}return Ae}function ad(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(n){var i=ml;return ml+=1,Pa===null&&(Pa=[]),n=Zg(Pa,n,i),i=kt,(Ae===null?i.memoizedState:Ae.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?jy:By),n}function gc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return pl(n);if(n.$$typeof===K)return Je(n)}throw Error(s(438,String(n)))}function od(n){var i=null,a=kt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=kt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ad(),kt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=M;return i.index++,a}function Hr(n,i){return typeof i=="function"?i(n):i}function yc(n){var i=Ce();return ld(i,ne,n)}function ld(n,i,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=n.baseQueue,m=l.pending;if(m!==null){if(h!==null){var b=h.next;h.next=m.next,m.next=b}i.baseQueue=h=m,l.pending=null}if(m=n.baseState,h===null)n.memoizedState=m;else{i=h.next;var S=b=null,k=null,Q=i,rt=!1;do{var at=Q.lane&-536870913;if(at!==Q.lane?(Ft&at)===at:(Ai&at)===at){var Y=Q.revertLane;if(Y===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),at===Ma&&(rt=!0);else if((Ai&Y)===Y){Q=Q.next,Y===Ma&&(rt=!0);continue}else at={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},k===null?(S=k=at,b=m):k=k.next=at,kt.lanes|=Y,Oi|=Y;at=Q.action,Us&&a(m,at),m=Q.hasEagerState?Q.eagerState:a(m,at)}else Y={lane:at,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},k===null?(S=k=Y,b=m):k=k.next=Y,kt.lanes|=at,Oi|=at;Q=Q.next}while(Q!==null&&Q!==i);if(k===null?b=m:k.next=S,!En(m,n.memoizedState)&&(ze=!0,rt&&(a=ka,a!==null)))throw a;n.memoizedState=m,n.baseState=b,n.baseQueue=k,l.lastRenderedState=m}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function ud(n){var i=Ce(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,h=a.pending,m=i.memoizedState;if(h!==null){a.pending=null;var b=h=h.next;do m=n(m,b.action),b=b.next;while(b!==h);En(m,i.memoizedState)||(ze=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,l]}function ay(n,i,a){var l=kt,h=Ce(),m=Kt;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=i();var b=!En((ne||h).memoizedState,a);b&&(h.memoizedState=a,ze=!0),h=h.queue;var S=uy.bind(null,l,h,n);if(gl(2048,8,S,[n]),h.getSnapshot!==i||b||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,Ua(9,vc(),ly.bind(null,l,h,a,i),null),ae===null)throw Error(s(349));m||(Ai&124)!==0||oy(l,i,a)}return a}function oy(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=kt.updateQueue,i===null?(i=ad(),kt.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function ly(n,i,a,l){i.value=a,i.getSnapshot=l,cy(i)&&fy(n)}function uy(n,i,a){return a(function(){cy(i)&&fy(n)})}function cy(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!En(n,a)}catch{return!0}}function fy(n){var i=Ia(n,2);i!==null&&xn(i,n,2)}function cd(n){var i=dn();if(typeof n=="function"){var a=n;if(n=a(),Us){bn(!0);try{a()}finally{bn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:n},i}function hy(n,i,a,l){return n.baseState=a,ld(n,ne,typeof l=="function"?l:Hr)}function Ew(n,i,a,l,h){if(bc(n))throw Error(s(485));if(n=i.action,n!==null){var m={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};X.T!==null?a(!0):m.isTransition=!1,l(m),a=i.pending,a===null?(m.next=i.pending=m,dy(i,m)):(m.next=a.next,i.pending=a.next=m)}}function dy(n,i){var a=i.action,l=i.payload,h=n.state;if(i.isTransition){var m=X.T,b={};X.T=b;try{var S=a(h,l),k=X.S;k!==null&&k(b,S),my(n,i,S)}catch(Q){fd(n,i,Q)}finally{X.T=m}}else try{m=a(h,l),my(n,i,m)}catch(Q){fd(n,i,Q)}}function my(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){py(n,i,l)},function(l){return fd(n,i,l)}):py(n,i,a)}function py(n,i,a){i.status="fulfilled",i.value=a,gy(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,dy(n,a)))}function fd(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,gy(i),i=i.next;while(i!==l)}n.action=null}function gy(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function yy(n,i){return i}function vy(n,i){if(Kt){var a=ae.formState;if(a!==null){t:{var l=kt;if(Kt){if(ge){e:{for(var h=ge,m=gr;h.nodeType!==8;){if(!m){h=null;break e}if(h=Yn(h.nextSibling),h===null){h=null;break e}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){ge=Yn(h.nextSibling),l=h.data==="F!";break t}}ks(l)}l=!1}l&&(i=a[0])}}return a=dn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yy,lastRenderedState:i},a.queue=l,a=Py.bind(null,kt,l),l.dispatch=a,l=cd(!1),m=gd.bind(null,kt,!1,l.queue),l=dn(),h={state:i,dispatch:null,action:n,pending:null},l.queue=h,a=Ew.bind(null,kt,h,m,a),h.dispatch=a,l.memoizedState=n,[i,a,!1]}function _y(n){var i=Ce();return by(i,ne,n)}function by(n,i,a){if(i=ld(n,i,yy)[0],n=yc(Hr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=pl(i)}catch(b){throw b===ul?fc:b}else l=i;i=Ce();var h=i.queue,m=h.dispatch;return a!==i.memoizedState&&(kt.flags|=2048,Ua(9,vc(),ww.bind(null,h,a),null)),[l,m,n]}function ww(n,i){n.action=i}function Ty(n){var i=Ce(),a=ne;if(a!==null)return by(i,a,n);Ce(),i=i.memoizedState,a=Ce();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function Ua(n,i,a,l){return n={tag:n,create:a,deps:l,inst:i,next:null},i=kt.updateQueue,i===null&&(i=ad(),kt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function vc(){return{destroy:void 0,resource:void 0}}function Ey(){return Ce().memoizedState}function _c(n,i,a,l){var h=dn();l=l===void 0?null:l,kt.flags|=n,h.memoizedState=Ua(1|i,vc(),a,l)}function gl(n,i,a,l){var h=Ce();l=l===void 0?null:l;var m=h.memoizedState.inst;ne!==null&&l!==null&&ed(l,ne.memoizedState.deps)?h.memoizedState=Ua(i,m,a,l):(kt.flags|=n,h.memoizedState=Ua(1|i,m,a,l))}function wy(n,i){_c(8390656,8,n,i)}function Sy(n,i){gl(2048,8,n,i)}function Ay(n,i){return gl(4,2,n,i)}function Cy(n,i){return gl(4,4,n,i)}function Ry(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function xy(n,i,a){a=a!=null?a.concat([n]):null,gl(4,4,Ry.bind(null,i,n),a)}function hd(){}function Iy(n,i){var a=Ce();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&ed(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function Dy(n,i){var a=Ce();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&ed(i,l[1]))return l[0];if(l=n(),Us){bn(!0);try{n()}finally{bn(!1)}}return a.memoizedState=[l,i],l}function dd(n,i,a){return a===void 0||(Ai&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=Mv(),kt.lanes|=n,Oi|=n,a)}function Ny(n,i,a,l){return En(a,i)?a:La.current!==null?(n=dd(n,a,l),En(n,i)||(ze=!0),n):(Ai&42)===0?(ze=!0,n.memoizedState=a):(n=Mv(),kt.lanes|=n,Oi|=n,i)}function Oy(n,i,a,l,h){var m=ut.p;ut.p=m!==0&&8>m?m:8;var b=X.T,S={};X.T=S,gd(n,!1,i,a);try{var k=h(),Q=X.S;if(Q!==null&&Q(S,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var rt=_w(k,l);yl(n,i,rt,Rn(n))}else yl(n,i,l,Rn(n))}catch(at){yl(n,i,{then:function(){},status:"rejected",reason:at},Rn())}finally{ut.p=m,X.T=b}}function Sw(){}function md(n,i,a,l){if(n.tag!==5)throw Error(s(476));var h=My(n).queue;Oy(n,h,i,et,a===null?Sw:function(){return ky(n),a(l)})}function My(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:et,baseState:et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:et},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function ky(n){var i=My(n).next.queue;yl(n,i,{},Rn())}function pd(){return Je(Ll)}function Ly(){return Ce().memoizedState}function Vy(){return Ce().memoizedState}function Aw(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=Rn();n=wi(a);var l=Si(i,n,a);l!==null&&(xn(l,i,a),fl(l,i,a)),i={cache:Fh()},n.payload=i;return}i=i.return}}function Cw(n,i,a){var l=Rn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},bc(n)?Uy(i,a):(a=Lh(n,i,a,l),a!==null&&(xn(a,n,l),zy(a,i,l)))}function Py(n,i,a){var l=Rn();yl(n,i,a,l)}function yl(n,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(bc(n))Uy(i,h);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var b=i.lastRenderedState,S=m(b,a);if(h.hasEagerState=!0,h.eagerState=S,En(S,b))return rc(n,i,h,0),ae===null&&nc(),!1}catch{}finally{}if(a=Lh(n,i,h,l),a!==null)return xn(a,n,l),zy(a,i,l),!0}return!1}function gd(n,i,a,l){if(l={lane:2,revertLane:Kd(),action:l,hasEagerState:!1,eagerState:null,next:null},bc(n)){if(i)throw Error(s(479))}else i=Lh(n,a,l,2),i!==null&&xn(i,n,2)}function bc(n){var i=n.alternate;return n===kt||i!==null&&i===kt}function Uy(n,i){Va=mc=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function zy(n,i,a){if((a&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,zo(n,a)}}var Tc={readContext:Je,use:gc,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useLayoutEffect:be,useInsertionEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useSyncExternalStore:be,useId:be,useHostTransitionStatus:be,useFormState:be,useActionState:be,useOptimistic:be,useMemoCache:be,useCacheRefresh:be},jy={readContext:Je,use:gc,useCallback:function(n,i){return dn().memoizedState=[n,i===void 0?null:i],n},useContext:Je,useEffect:wy,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,_c(4194308,4,Ry.bind(null,i,n),a)},useLayoutEffect:function(n,i){return _c(4194308,4,n,i)},useInsertionEffect:function(n,i){_c(4,2,n,i)},useMemo:function(n,i){var a=dn();i=i===void 0?null:i;var l=n();if(Us){bn(!0);try{n()}finally{bn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=dn();if(a!==void 0){var h=a(i);if(Us){bn(!0);try{a(i)}finally{bn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=Cw.bind(null,kt,n),[l.memoizedState,n]},useRef:function(n){var i=dn();return n={current:n},i.memoizedState=n},useState:function(n){n=cd(n);var i=n.queue,a=Py.bind(null,kt,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:hd,useDeferredValue:function(n,i){var a=dn();return dd(a,n,i)},useTransition:function(){var n=cd(!1);return n=Oy.bind(null,kt,n.queue,!0,!1),dn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=kt,h=dn();if(Kt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ae===null)throw Error(s(349));(Ft&124)!==0||oy(l,i,a)}h.memoizedState=a;var m={value:a,getSnapshot:i};return h.queue=m,wy(uy.bind(null,l,m,n),[n]),l.flags|=2048,Ua(9,vc(),ly.bind(null,l,m,a,i),null),a},useId:function(){var n=dn(),i=ae.identifierPrefix;if(Kt){var a=Br,l=jr;a=(l&~(1<<32-Ze(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=pc++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=bw++,i="«"+i+"r"+a.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:pd,useFormState:vy,useActionState:vy,useOptimistic:function(n){var i=dn();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=gd.bind(null,kt,!0,a),a.dispatch=i,[n,i]},useMemoCache:od,useCacheRefresh:function(){return dn().memoizedState=Aw.bind(null,kt)}},By={readContext:Je,use:gc,useCallback:Iy,useContext:Je,useEffect:Sy,useImperativeHandle:xy,useInsertionEffect:Ay,useLayoutEffect:Cy,useMemo:Dy,useReducer:yc,useRef:Ey,useState:function(){return yc(Hr)},useDebugValue:hd,useDeferredValue:function(n,i){var a=Ce();return Ny(a,ne.memoizedState,n,i)},useTransition:function(){var n=yc(Hr)[0],i=Ce().memoizedState;return[typeof n=="boolean"?n:pl(n),i]},useSyncExternalStore:ay,useId:Ly,useHostTransitionStatus:pd,useFormState:_y,useActionState:_y,useOptimistic:function(n,i){var a=Ce();return hy(a,ne,n,i)},useMemoCache:od,useCacheRefresh:Vy},Rw={readContext:Je,use:gc,useCallback:Iy,useContext:Je,useEffect:Sy,useImperativeHandle:xy,useInsertionEffect:Ay,useLayoutEffect:Cy,useMemo:Dy,useReducer:ud,useRef:Ey,useState:function(){return ud(Hr)},useDebugValue:hd,useDeferredValue:function(n,i){var a=Ce();return ne===null?dd(a,n,i):Ny(a,ne.memoizedState,n,i)},useTransition:function(){var n=ud(Hr)[0],i=Ce().memoizedState;return[typeof n=="boolean"?n:pl(n),i]},useSyncExternalStore:ay,useId:Ly,useHostTransitionStatus:pd,useFormState:Ty,useActionState:Ty,useOptimistic:function(n,i){var a=Ce();return ne!==null?hy(a,ne,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:od,useCacheRefresh:Vy},za=null,vl=0;function Ec(n){var i=vl;return vl+=1,za===null&&(za=[]),Zg(za,n,i)}function _l(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function wc(n,i){throw i.$$typeof===w?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Gy(n){var i=n._init;return i(n._payload)}function qy(n){function i(q,j){if(n){var $=q.deletions;$===null?(q.deletions=[j],q.flags|=16):$.push(j)}}function a(q,j){if(!n)return null;for(;j!==null;)i(q,j),j=j.sibling;return null}function l(q){for(var j=new Map;q!==null;)q.key!==null?j.set(q.key,q):j.set(q.index,q),q=q.sibling;return j}function h(q,j){return q=zr(q,j),q.index=0,q.sibling=null,q}function m(q,j,$){return q.index=$,n?($=q.alternate,$!==null?($=$.index,$<j?(q.flags|=67108866,j):$):(q.flags|=67108866,j)):(q.flags|=1048576,j)}function b(q){return n&&q.alternate===null&&(q.flags|=67108866),q}function S(q,j,$,it){return j===null||j.tag!==6?(j=Ph($,q.mode,it),j.return=q,j):(j=h(j,$),j.return=q,j)}function k(q,j,$,it){var yt=$.type;return yt===D?rt(q,j,$.props.children,it,$.key):j!==null&&(j.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===E&&Gy(yt)===j.type)?(j=h(j,$.props),_l(j,$),j.return=q,j):(j=sc($.type,$.key,$.props,null,q.mode,it),_l(j,$),j.return=q,j)}function Q(q,j,$,it){return j===null||j.tag!==4||j.stateNode.containerInfo!==$.containerInfo||j.stateNode.implementation!==$.implementation?(j=Uh($,q.mode,it),j.return=q,j):(j=h(j,$.children||[]),j.return=q,j)}function rt(q,j,$,it,yt){return j===null||j.tag!==7?(j=Ds($,q.mode,it,yt),j.return=q,j):(j=h(j,$),j.return=q,j)}function at(q,j,$){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Ph(""+j,q.mode,$),j.return=q,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case T:return $=sc(j.type,j.key,j.props,null,q.mode,$),_l($,j),$.return=q,$;case I:return j=Uh(j,q.mode,$),j.return=q,j;case E:var it=j._init;return j=it(j._payload),at(q,j,$)}if(Rt(j)||U(j))return j=Ds(j,q.mode,$,null),j.return=q,j;if(typeof j.then=="function")return at(q,Ec(j),$);if(j.$$typeof===K)return at(q,uc(q,j),$);wc(q,j)}return null}function Y(q,j,$,it){var yt=j!==null?j.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return yt!==null?null:S(q,j,""+$,it);if(typeof $=="object"&&$!==null){switch($.$$typeof){case T:return $.key===yt?k(q,j,$,it):null;case I:return $.key===yt?Q(q,j,$,it):null;case E:return yt=$._init,$=yt($._payload),Y(q,j,$,it)}if(Rt($)||U($))return yt!==null?null:rt(q,j,$,it,null);if(typeof $.then=="function")return Y(q,j,Ec($),it);if($.$$typeof===K)return Y(q,j,uc(q,$),it);wc(q,$)}return null}function Z(q,j,$,it,yt){if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return q=q.get($)||null,S(j,q,""+it,yt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case T:return q=q.get(it.key===null?$:it.key)||null,k(j,q,it,yt);case I:return q=q.get(it.key===null?$:it.key)||null,Q(j,q,it,yt);case E:var Ut=it._init;return it=Ut(it._payload),Z(q,j,$,it,yt)}if(Rt(it)||U(it))return q=q.get($)||null,rt(j,q,it,yt,null);if(typeof it.then=="function")return Z(q,j,$,Ec(it),yt);if(it.$$typeof===K)return Z(q,j,$,uc(j,it),yt);wc(j,it)}return null}function xt(q,j,$,it){for(var yt=null,Ut=null,Tt=j,At=j=0,Be=null;Tt!==null&&At<$.length;At++){Tt.index>At?(Be=Tt,Tt=null):Be=Tt.sibling;var Qt=Y(q,Tt,$[At],it);if(Qt===null){Tt===null&&(Tt=Be);break}n&&Tt&&Qt.alternate===null&&i(q,Tt),j=m(Qt,j,At),Ut===null?yt=Qt:Ut.sibling=Qt,Ut=Qt,Tt=Be}if(At===$.length)return a(q,Tt),Kt&&Os(q,At),yt;if(Tt===null){for(;At<$.length;At++)Tt=at(q,$[At],it),Tt!==null&&(j=m(Tt,j,At),Ut===null?yt=Tt:Ut.sibling=Tt,Ut=Tt);return Kt&&Os(q,At),yt}for(Tt=l(Tt);At<$.length;At++)Be=Z(Tt,q,At,$[At],it),Be!==null&&(n&&Be.alternate!==null&&Tt.delete(Be.key===null?At:Be.key),j=m(Be,j,At),Ut===null?yt=Be:Ut.sibling=Be,Ut=Be);return n&&Tt.forEach(function(Bi){return i(q,Bi)}),Kt&&Os(q,At),yt}function wt(q,j,$,it){if($==null)throw Error(s(151));for(var yt=null,Ut=null,Tt=j,At=j=0,Be=null,Qt=$.next();Tt!==null&&!Qt.done;At++,Qt=$.next()){Tt.index>At?(Be=Tt,Tt=null):Be=Tt.sibling;var Bi=Y(q,Tt,Qt.value,it);if(Bi===null){Tt===null&&(Tt=Be);break}n&&Tt&&Bi.alternate===null&&i(q,Tt),j=m(Bi,j,At),Ut===null?yt=Bi:Ut.sibling=Bi,Ut=Bi,Tt=Be}if(Qt.done)return a(q,Tt),Kt&&Os(q,At),yt;if(Tt===null){for(;!Qt.done;At++,Qt=$.next())Qt=at(q,Qt.value,it),Qt!==null&&(j=m(Qt,j,At),Ut===null?yt=Qt:Ut.sibling=Qt,Ut=Qt);return Kt&&Os(q,At),yt}for(Tt=l(Tt);!Qt.done;At++,Qt=$.next())Qt=Z(Tt,q,At,Qt.value,it),Qt!==null&&(n&&Qt.alternate!==null&&Tt.delete(Qt.key===null?At:Qt.key),j=m(Qt,j,At),Ut===null?yt=Qt:Ut.sibling=Qt,Ut=Qt);return n&&Tt.forEach(function(xS){return i(q,xS)}),Kt&&Os(q,At),yt}function ie(q,j,$,it){if(typeof $=="object"&&$!==null&&$.type===D&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case T:t:{for(var yt=$.key;j!==null;){if(j.key===yt){if(yt=$.type,yt===D){if(j.tag===7){a(q,j.sibling),it=h(j,$.props.children),it.return=q,q=it;break t}}else if(j.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===E&&Gy(yt)===j.type){a(q,j.sibling),it=h(j,$.props),_l(it,$),it.return=q,q=it;break t}a(q,j);break}else i(q,j);j=j.sibling}$.type===D?(it=Ds($.props.children,q.mode,it,$.key),it.return=q,q=it):(it=sc($.type,$.key,$.props,null,q.mode,it),_l(it,$),it.return=q,q=it)}return b(q);case I:t:{for(yt=$.key;j!==null;){if(j.key===yt)if(j.tag===4&&j.stateNode.containerInfo===$.containerInfo&&j.stateNode.implementation===$.implementation){a(q,j.sibling),it=h(j,$.children||[]),it.return=q,q=it;break t}else{a(q,j);break}else i(q,j);j=j.sibling}it=Uh($,q.mode,it),it.return=q,q=it}return b(q);case E:return yt=$._init,$=yt($._payload),ie(q,j,$,it)}if(Rt($))return xt(q,j,$,it);if(U($)){if(yt=U($),typeof yt!="function")throw Error(s(150));return $=yt.call($),wt(q,j,$,it)}if(typeof $.then=="function")return ie(q,j,Ec($),it);if($.$$typeof===K)return ie(q,j,uc(q,$),it);wc(q,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,j!==null&&j.tag===6?(a(q,j.sibling),it=h(j,$),it.return=q,q=it):(a(q,j),it=Ph($,q.mode,it),it.return=q,q=it),b(q)):a(q,j)}return function(q,j,$,it){try{vl=0;var yt=ie(q,j,$,it);return za=null,yt}catch(Tt){if(Tt===ul||Tt===fc)throw Tt;var Ut=wn(29,Tt,null,q.mode);return Ut.lanes=it,Ut.return=q,Ut}finally{}}}var ja=qy(!0),Hy=qy(!1),jn=nt(null),yr=null;function Ci(n){var i=n.alternate;W(Me,Me.current&1),W(jn,n),yr===null&&(i===null||La.current!==null||i.memoizedState!==null)&&(yr=n)}function Fy(n){if(n.tag===22){if(W(Me,Me.current),W(jn,n),yr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(yr=n)}}else Ri()}function Ri(){W(Me,Me.current),W(jn,jn.current)}function Fr(n){ft(jn),yr===n&&(yr=null),ft(Me)}var Me=nt(0);function Sc(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||am(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function yd(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:v({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var vd={enqueueSetState:function(n,i,a){n=n._reactInternals;var l=Rn(),h=wi(l);h.payload=i,a!=null&&(h.callback=a),i=Si(n,h,l),i!==null&&(xn(i,n,l),fl(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=Rn(),h=wi(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Si(n,h,l),i!==null&&(xn(i,n,l),fl(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Rn(),l=wi(a);l.tag=2,i!=null&&(l.callback=i),i=Si(n,l,a),i!==null&&(xn(i,n,a),fl(i,n,a))}};function $y(n,i,a,l,h,m,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,b):i.prototype&&i.prototype.isPureReactComponent?!el(a,l)||!el(h,m):!0}function Qy(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&vd.enqueueReplaceState(i,i.state,null)}function zs(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=v({},a));for(var h in n)a[h]===void 0&&(a[h]=n[h])}return a}var Ac=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Ky(n){Ac(n)}function Yy(n){console.error(n)}function Xy(n){Ac(n)}function Cc(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Wy(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function _d(n,i,a){return a=wi(a),a.tag=3,a.payload={element:null},a.callback=function(){Cc(n,i)},a}function Zy(n){return n=wi(n),n.tag=3,n}function Jy(n,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=l.value;n.payload=function(){return h(m)},n.callback=function(){Wy(i,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(n.callback=function(){Wy(i,a,l),typeof h!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function xw(n,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&al(i,a,h,!0),a=jn.current,a!==null){switch(a.tag){case 13:return yr===null?qd():a.alternate===null&&ye===0&&(ye=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Kh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Fd(n,l,h)),!1;case 22:return a.flags|=65536,l===Kh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Fd(n,l,h)),!1}throw Error(s(435,a.tag))}return Fd(n,l,h),qd(),!1}if(Kt)return i=jn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Bh&&(n=Error(s(422),{cause:l}),sl(Vn(n,a)))):(l!==Bh&&(i=Error(s(423),{cause:l}),sl(Vn(i,a))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=Vn(l,a),h=_d(n.stateNode,l,h),Wh(n,h),ye!==4&&(ye=2)),!1;var m=Error(s(520),{cause:l});if(m=Vn(m,a),Cl===null?Cl=[m]:Cl.push(m),ye!==4&&(ye=2),i===null)return!0;l=Vn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=h&-h,a.lanes|=n,n=_d(a.stateNode,l,n),Wh(a,n),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Mi===null||!Mi.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Zy(h),Jy(h,n,a,l),Wh(a,h),!1}a=a.return}while(a!==null);return!1}var tv=Error(s(461)),ze=!1;function Fe(n,i,a,l){i.child=n===null?Hy(i,null,a,l):ja(i,n.child,a,l)}function ev(n,i,a,l,h){a=a.render;var m=i.ref;if("ref"in l){var b={};for(var S in l)S!=="ref"&&(b[S]=l[S])}else b=l;return Vs(i),l=nd(n,i,a,b,m,h),S=rd(),n!==null&&!ze?(id(n,i,h),$r(n,i,h)):(Kt&&S&&zh(i),i.flags|=1,Fe(n,i,l,h),i.child)}function nv(n,i,a,l,h){if(n===null){var m=a.type;return typeof m=="function"&&!Vh(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,rv(n,i,m,l,h)):(n=sc(a.type,null,l,i,i.mode,h),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!Rd(n,h)){var b=m.memoizedProps;if(a=a.compare,a=a!==null?a:el,a(b,l)&&n.ref===i.ref)return $r(n,i,h)}return i.flags|=1,n=zr(m,l),n.ref=i.ref,n.return=i,i.child=n}function rv(n,i,a,l,h){if(n!==null){var m=n.memoizedProps;if(el(m,l)&&n.ref===i.ref)if(ze=!1,i.pendingProps=l=m,Rd(n,h))(n.flags&131072)!==0&&(ze=!0);else return i.lanes=n.lanes,$r(n,i,h)}return bd(n,i,a,l,h)}function iv(n,i,a){var l=i.pendingProps,h=l.children,m=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,n!==null){for(h=i.child=n.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;i.childLanes=m&~l}else i.childLanes=0,i.child=null;return sv(n,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&cc(i,m!==null?m.cachePool:null),m!==null?ry(i,m):Jh(),Fy(i);else return i.lanes=i.childLanes=536870912,sv(n,i,m!==null?m.baseLanes|a:a,a)}else m!==null?(cc(i,m.cachePool),ry(i,m),Ri(),i.memoizedState=null):(n!==null&&cc(i,null),Jh(),Ri());return Fe(n,i,h,a),i.child}function sv(n,i,a,l){var h=Qh();return h=h===null?null:{parent:Oe._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},n!==null&&cc(i,null),Jh(),Fy(i),n!==null&&al(n,i,l,!0),null}function Rc(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function bd(n,i,a,l,h){return Vs(i),a=nd(n,i,a,l,void 0,h),l=rd(),n!==null&&!ze?(id(n,i,h),$r(n,i,h)):(Kt&&l&&zh(i),i.flags|=1,Fe(n,i,a,h),i.child)}function av(n,i,a,l,h,m){return Vs(i),i.updateQueue=null,a=sy(i,l,a,h),iy(n),l=rd(),n!==null&&!ze?(id(n,i,m),$r(n,i,m)):(Kt&&l&&zh(i),i.flags|=1,Fe(n,i,a,m),i.child)}function ov(n,i,a,l,h){if(Vs(i),i.stateNode===null){var m=Da,b=a.contextType;typeof b=="object"&&b!==null&&(m=Je(b)),m=new a(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=vd,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},Yh(i),b=a.contextType,m.context=typeof b=="object"&&b!==null?Je(b):Da,m.state=i.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(yd(i,a,b,l),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&vd.enqueueReplaceState(m,m.state,null),dl(i,l,m,h),hl(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){m=i.stateNode;var S=i.memoizedProps,k=zs(a,S);m.props=k;var Q=m.context,rt=a.contextType;b=Da,typeof rt=="object"&&rt!==null&&(b=Je(rt));var at=a.getDerivedStateFromProps;rt=typeof at=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,rt||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||Q!==b)&&Qy(i,m,l,b),Ei=!1;var Y=i.memoizedState;m.state=Y,dl(i,l,m,h),hl(),Q=i.memoizedState,S||Y!==Q||Ei?(typeof at=="function"&&(yd(i,a,at,l),Q=i.memoizedState),(k=Ei||$y(i,a,k,l,Y,Q,b))?(rt||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=Q),m.props=l,m.state=Q,m.context=b,l=k):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,Xh(n,i),b=i.memoizedProps,rt=zs(a,b),m.props=rt,at=i.pendingProps,Y=m.context,Q=a.contextType,k=Da,typeof Q=="object"&&Q!==null&&(k=Je(Q)),S=a.getDerivedStateFromProps,(Q=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==at||Y!==k)&&Qy(i,m,l,k),Ei=!1,Y=i.memoizedState,m.state=Y,dl(i,l,m,h),hl();var Z=i.memoizedState;b!==at||Y!==Z||Ei||n!==null&&n.dependencies!==null&&lc(n.dependencies)?(typeof S=="function"&&(yd(i,a,S,l),Z=i.memoizedState),(rt=Ei||$y(i,a,rt,l,Y,Z,k)||n!==null&&n.dependencies!==null&&lc(n.dependencies))?(Q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,Z,k),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,Z,k)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===n.memoizedProps&&Y===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&Y===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Z),m.props=l,m.state=Z,m.context=k,l=rt):(typeof m.componentDidUpdate!="function"||b===n.memoizedProps&&Y===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&Y===n.memoizedState||(i.flags|=1024),l=!1)}return m=l,Rc(n,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&l?(i.child=ja(i,n.child,null,h),i.child=ja(i,null,a,h)):Fe(n,i,a,h),i.memoizedState=m.state,n=i.child):n=$r(n,i,h),n}function lv(n,i,a,l){return il(),i.flags|=256,Fe(n,i,a,l),i.child}var Td={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ed(n){return{baseLanes:n,cachePool:Yg()}}function wd(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Bn),n}function uv(n,i,a){var l=i.pendingProps,h=!1,m=(i.flags&128)!==0,b;if((b=m)||(b=n!==null&&n.memoizedState===null?!1:(Me.current&2)!==0),b&&(h=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,n===null){if(Kt){if(h?Ci(i):Ri(),Kt){var S=ge,k;if(k=S){t:{for(k=S,S=gr;k.nodeType!==8;){if(!S){S=null;break t}if(k=Yn(k.nextSibling),k===null){S=null;break t}}S=k}S!==null?(i.memoizedState={dehydrated:S,treeContext:Ns!==null?{id:jr,overflow:Br}:null,retryLane:536870912,hydrationErrors:null},k=wn(18,null,null,0),k.stateNode=S,k.return=i,i.child=k,cn=i,ge=null,k=!0):k=!1}k||ks(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return am(S)?i.lanes=32:i.lanes=536870912,null;Fr(i)}return S=l.children,l=l.fallback,h?(Ri(),h=i.mode,S=xc({mode:"hidden",children:S},h),l=Ds(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,h=i.child,h.memoizedState=Ed(a),h.childLanes=wd(n,b,a),i.memoizedState=Td,l):(Ci(i),Sd(i,S))}if(k=n.memoizedState,k!==null&&(S=k.dehydrated,S!==null)){if(m)i.flags&256?(Ci(i),i.flags&=-257,i=Ad(n,i,a)):i.memoizedState!==null?(Ri(),i.child=n.child,i.flags|=128,i=null):(Ri(),h=l.fallback,S=i.mode,l=xc({mode:"visible",children:l.children},S),h=Ds(h,S,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,ja(i,n.child,null,a),l=i.child,l.memoizedState=Ed(a),l.childLanes=wd(n,b,a),i.memoizedState=Td,i=h);else if(Ci(i),am(S)){if(b=S.nextSibling&&S.nextSibling.dataset,b)var Q=b.dgst;b=Q,l=Error(s(419)),l.stack="",l.digest=b,sl({value:l,source:null,stack:null}),i=Ad(n,i,a)}else if(ze||al(n,i,a,!1),b=(a&n.childLanes)!==0,ze||b){if(b=ae,b!==null&&(l=a&-a,l=(l&42)!==0?1:mi(l),l=(l&(b.suspendedLanes|a))!==0?0:l,l!==0&&l!==k.retryLane))throw k.retryLane=l,Ia(n,l),xn(b,n,l),tv;S.data==="$?"||qd(),i=Ad(n,i,a)}else S.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=k.treeContext,ge=Yn(S.nextSibling),cn=i,Kt=!0,Ms=null,gr=!1,n!==null&&(Un[zn++]=jr,Un[zn++]=Br,Un[zn++]=Ns,jr=n.id,Br=n.overflow,Ns=i),i=Sd(i,l.children),i.flags|=4096);return i}return h?(Ri(),h=l.fallback,S=i.mode,k=n.child,Q=k.sibling,l=zr(k,{mode:"hidden",children:l.children}),l.subtreeFlags=k.subtreeFlags&65011712,Q!==null?h=zr(Q,h):(h=Ds(h,S,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,S=n.child.memoizedState,S===null?S=Ed(a):(k=S.cachePool,k!==null?(Q=Oe._currentValue,k=k.parent!==Q?{parent:Q,pool:Q}:k):k=Yg(),S={baseLanes:S.baseLanes|a,cachePool:k}),h.memoizedState=S,h.childLanes=wd(n,b,a),i.memoizedState=Td,l):(Ci(i),a=n.child,n=a.sibling,a=zr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(b=i.deletions,b===null?(i.deletions=[n],i.flags|=16):b.push(n)),i.child=a,i.memoizedState=null,a)}function Sd(n,i){return i=xc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function xc(n,i){return n=wn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Ad(n,i,a){return ja(i,n.child,null,a),n=Sd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function cv(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),qh(n.return,i,a)}function Cd(n,i,a,l,h){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=h)}function fv(n,i,a){var l=i.pendingProps,h=l.revealOrder,m=l.tail;if(Fe(n,i,l.children,a),l=Me.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&cv(n,a,i);else if(n.tag===19)cv(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break t;for(;n.sibling===null;){if(n.return===null||n.return===i)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(W(Me,l),h){case"forwards":for(a=i.child,h=null;a!==null;)n=a.alternate,n!==null&&Sc(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Cd(i,!1,h,a,m);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(n=h.alternate,n!==null&&Sc(n)===null){i.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}Cd(i,!0,a,null,m);break;case"together":Cd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function $r(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Oi|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(al(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=zr(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=zr(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Rd(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&lc(n)))}function Iw(n,i,a){switch(i.tag){case 3:Pt(i,i.stateNode.containerInfo),Ti(i,Oe,n.memoizedState.cache),il();break;case 27:case 5:We(i);break;case 4:Pt(i,i.stateNode.containerInfo);break;case 10:Ti(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ci(i),i.flags|=128,null):(a&i.child.childLanes)!==0?uv(n,i,a):(Ci(i),n=$r(n,i,a),n!==null?n.sibling:null);Ci(i);break;case 19:var h=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(al(n,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return fv(n,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(Me,Me.current),l)break;return null;case 22:case 23:return i.lanes=0,iv(n,i,a);case 24:Ti(i,Oe,n.memoizedState.cache)}return $r(n,i,a)}function hv(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)ze=!0;else{if(!Rd(n,a)&&(i.flags&128)===0)return ze=!1,Iw(n,i,a);ze=(n.flags&131072)!==0}else ze=!1,Kt&&(i.flags&1048576)!==0&&Gg(i,oc,i.index);switch(i.lanes=0,i.tag){case 16:t:{n=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Vh(l)?(n=zs(l,n),i.tag=1,i=ov(null,i,l,n,a)):(i.tag=0,i=bd(null,i,l,n,a));else{if(l!=null){if(h=l.$$typeof,h===J){i.tag=11,i=ev(null,i,l,n,a);break t}else if(h===R){i.tag=14,i=nv(null,i,l,n,a);break t}}throw i=Mt(l)||l,Error(s(306,i,""))}}return i;case 0:return bd(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=zs(l,i.pendingProps),ov(n,i,l,h,a);case 3:t:{if(Pt(i,i.stateNode.containerInfo),n===null)throw Error(s(387));l=i.pendingProps;var m=i.memoizedState;h=m.element,Xh(n,i),dl(i,l,null,a);var b=i.memoizedState;if(l=b.cache,Ti(i,Oe,l),l!==m.cache&&Hh(i,[Oe],a,!0),hl(),l=b.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=lv(n,i,l,a);break t}else if(l!==h){h=Vn(Error(s(424)),i),sl(h),i=lv(n,i,l,a);break t}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ge=Yn(n.firstChild),cn=i,Kt=!0,Ms=null,gr=!0,a=Hy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(il(),l===h){i=$r(n,i,a);break t}Fe(n,i,l,a)}i=i.child}return i;case 26:return Rc(n,i),n===null?(a=g_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Kt||(a=i.type,n=i.pendingProps,l=Gc(bt.current).createElement(a),l[Ie]=i,l[we]=n,Qe(l,a,n),_e(l),i.stateNode=l):i.memoizedState=g_(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return We(i),n===null&&Kt&&(l=i.stateNode=d_(i.type,i.pendingProps,bt.current),cn=i,gr=!0,h=ge,Vi(i.type)?(om=h,ge=Yn(l.firstChild)):ge=h),Fe(n,i,i.pendingProps.children,a),Rc(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Kt&&((h=l=ge)&&(l=rS(l,i.type,i.pendingProps,gr),l!==null?(i.stateNode=l,cn=i,ge=Yn(l.firstChild),gr=!1,h=!0):h=!1),h||ks(i)),We(i),h=i.type,m=i.pendingProps,b=n!==null?n.memoizedProps:null,l=m.children,rm(h,m)?l=null:b!==null&&rm(h,b)&&(i.flags|=32),i.memoizedState!==null&&(h=nd(n,i,Tw,null,null,a),Ll._currentValue=h),Rc(n,i),Fe(n,i,l,a),i.child;case 6:return n===null&&Kt&&((n=a=ge)&&(a=iS(a,i.pendingProps,gr),a!==null?(i.stateNode=a,cn=i,ge=null,n=!0):n=!1),n||ks(i)),null;case 13:return uv(n,i,a);case 4:return Pt(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=ja(i,null,l,a):Fe(n,i,l,a),i.child;case 11:return ev(n,i,i.type,i.pendingProps,a);case 7:return Fe(n,i,i.pendingProps,a),i.child;case 8:return Fe(n,i,i.pendingProps.children,a),i.child;case 12:return Fe(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ti(i,i.type,l.value),Fe(n,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Vs(i),h=Je(h),l=l(h),i.flags|=1,Fe(n,i,l,a),i.child;case 14:return nv(n,i,i.type,i.pendingProps,a);case 15:return rv(n,i,i.type,i.pendingProps,a);case 19:return fv(n,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},n===null?(a=xc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=zr(n.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return iv(n,i,a);case 24:return Vs(i),l=Je(Oe),n===null?(h=Qh(),h===null&&(h=ae,m=Fh(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),i.memoizedState={parent:l,cache:h},Yh(i),Ti(i,Oe,h)):((n.lanes&a)!==0&&(Xh(n,i),dl(i,null,null,a),hl()),h=n.memoizedState,m=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ti(i,Oe,l)):(l=m.cache,Ti(i,Oe,l),l!==h.cache&&Hh(i,[Oe],a,!0))),Fe(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Qr(n){n.flags|=4}function dv(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!T_(i)){if(i=jn.current,i!==null&&((Ft&4194048)===Ft?yr!==null:(Ft&62914560)!==Ft&&(Ft&536870912)===0||i!==yr))throw cl=Kh,Xg;n.flags|=8192}}function Ic(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Po():536870912,n.lanes|=i,Ha|=i)}function bl(n,i){if(!Kt)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function de(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function Dw(n,i,a){var l=i.pendingProps;switch(jh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(i),null;case 1:return de(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),qr(Oe),ve(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(rl(i)?Qr(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Fg())),de(i),null;case 26:return a=i.memoizedState,n===null?(Qr(i),a!==null?(de(i),dv(i,a)):(de(i),i.flags&=-16777217)):a?a!==n.memoizedState?(Qr(i),de(i),dv(i,a)):(de(i),i.flags&=-16777217):(n.memoizedProps!==l&&Qr(i),de(i),i.flags&=-16777217),null;case 27:_n(i),a=bt.current;var h=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Qr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return de(i),null}n=st.current,rl(i)?qg(i):(n=d_(h,l,a),i.stateNode=n,Qr(i))}return de(i),null;case 5:if(_n(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Qr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return de(i),null}if(n=st.current,rl(i))qg(i);else{switch(h=Gc(bt.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}n[Ie]=i,n[we]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=n;t:switch(Qe(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&Qr(i)}}return de(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&Qr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(n=bt.current,rl(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,h=cn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[Ie]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||a_(n.nodeValue,a)),n||ks(i)}else n=Gc(n).createTextNode(l),n[Ie]=i,i.stateNode=n}return de(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=rl(i),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ie]=i}else il(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;de(i),h=!1}else h=Fg(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Fr(i),i):(Fr(i),null)}if(Fr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),Ic(i,i.updateQueue),de(i),null;case 4:return ve(),n===null&&Zd(i.stateNode.containerInfo),de(i),null;case 10:return qr(i.type),de(i),null;case 19:if(ft(Me),h=i.memoizedState,h===null)return de(i),null;if(l=(i.flags&128)!==0,m=h.rendering,m===null)if(l)bl(h,!1);else{if(ye!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=Sc(n),m!==null){for(i.flags|=128,bl(h,!1),n=m.updateQueue,i.updateQueue=n,Ic(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)Bg(a,n),a=a.sibling;return W(Me,Me.current&1|2),i.child}n=n.sibling}h.tail!==null&&Dn()>Oc&&(i.flags|=128,l=!0,bl(h,!1),i.lanes=4194304)}else{if(!l)if(n=Sc(m),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,Ic(i,n),bl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!Kt)return de(i),null}else 2*Dn()-h.renderingStartTime>Oc&&a!==536870912&&(i.flags|=128,l=!0,bl(h,!1),i.lanes=4194304);h.isBackwards?(m.sibling=i.child,i.child=m):(n=h.last,n!==null?n.sibling=m:i.child=m,h.last=m)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Dn(),i.sibling=null,n=Me.current,W(Me,l?n&1|2:n&1),i):(de(i),null);case 22:case 23:return Fr(i),td(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(de(i),i.subtreeFlags&6&&(i.flags|=8192)):de(i),a=i.updateQueue,a!==null&&Ic(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&ft(Ps),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),qr(Oe),de(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Nw(n,i){switch(jh(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return qr(Oe),ve(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return _n(i),null;case 13:if(Fr(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));il()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return ft(Me),null;case 4:return ve(),null;case 10:return qr(i.type),null;case 22:case 23:return Fr(i),td(),n!==null&&ft(Ps),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return qr(Oe),null;case 25:return null;default:return null}}function mv(n,i){switch(jh(i),i.tag){case 3:qr(Oe),ve();break;case 26:case 27:case 5:_n(i);break;case 4:ve();break;case 13:Fr(i);break;case 19:ft(Me);break;case 10:qr(i.type);break;case 22:case 23:Fr(i),td(),n!==null&&ft(Ps);break;case 24:qr(Oe)}}function Tl(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&n)===n){l=void 0;var m=a.create,b=a.inst;l=m(),b.destroy=l}a=a.next}while(a!==h)}}catch(S){se(i,i.return,S)}}function xi(n,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&n)===n){var b=l.inst,S=b.destroy;if(S!==void 0){b.destroy=void 0,h=i;var k=a,Q=S;try{Q()}catch(rt){se(h,k,rt)}}}l=l.next}while(l!==m)}}catch(rt){se(i,i.return,rt)}}function pv(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{ny(i,a)}catch(l){se(n,n.return,l)}}}function gv(n,i,a){a.props=zs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){se(n,i,l)}}function El(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(h){se(n,i,h)}}function vr(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){se(n,i,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){se(n,i,h)}else a.current=null}function yv(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){se(n,n.return,h)}}function xd(n,i,a){try{var l=n.stateNode;Zw(l,n.type,a,i),l[we]=i}catch(h){se(n,n.return,h)}}function vv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Vi(n.type)||n.tag===4}function Id(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||vv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Vi(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Dd(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Bc));else if(l!==4&&(l===27&&Vi(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(Dd(n,i,a),n=n.sibling;n!==null;)Dd(n,i,a),n=n.sibling}function Dc(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&(l===27&&Vi(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Dc(n,i,a),n=n.sibling;n!==null;)Dc(n,i,a),n=n.sibling}function _v(n){var i=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Qe(i,l,a),i[Ie]=n,i[we]=a}catch(m){se(n,n.return,m)}}var Kr=!1,Te=!1,Nd=!1,bv=typeof WeakSet=="function"?WeakSet:Set,je=null;function Ow(n,i){if(n=n.containerInfo,em=Kc,n=Ng(n),Ih(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break t}var b=0,S=-1,k=-1,Q=0,rt=0,at=n,Y=null;e:for(;;){for(var Z;at!==a||h!==0&&at.nodeType!==3||(S=b+h),at!==m||l!==0&&at.nodeType!==3||(k=b+l),at.nodeType===3&&(b+=at.nodeValue.length),(Z=at.firstChild)!==null;)Y=at,at=Z;for(;;){if(at===n)break e;if(Y===a&&++Q===h&&(S=b),Y===m&&++rt===l&&(k=b),(Z=at.nextSibling)!==null)break;at=Y,Y=at.parentNode}at=Z}a=S===-1||k===-1?null:{start:S,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(nm={focusedElem:n,selectionRange:a},Kc=!1,je=i;je!==null;)if(i=je,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,je=n;else for(;je!==null;){switch(i=je,m=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=i,h=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var xt=zs(a.type,h,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(xt,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(wt){se(a,a.return,wt)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)sm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":sm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,je=n;break}je=i.return}}function Tv(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ii(n,a),l&4&&Tl(5,a);break;case 1:if(Ii(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(b){se(a,a.return,b)}else{var h=zs(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(h,i,n.__reactInternalSnapshotBeforeUpdate)}catch(b){se(a,a.return,b)}}l&64&&pv(a),l&512&&El(a,a.return);break;case 3:if(Ii(n,a),l&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{ny(n,i)}catch(b){se(a,a.return,b)}}break;case 27:i===null&&l&4&&_v(a);case 26:case 5:Ii(n,a),i===null&&l&4&&yv(a),l&512&&El(a,a.return);break;case 12:Ii(n,a);break;case 13:Ii(n,a),l&4&&Sv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=Bw.bind(null,a),sS(n,a))));break;case 22:if(l=a.memoizedState!==null||Kr,!l){i=i!==null&&i.memoizedState!==null||Te,h=Kr;var m=Te;Kr=l,(Te=i)&&!m?Di(n,a,(a.subtreeFlags&8772)!==0):Ii(n,a),Kr=h,Te=m}break;case 30:break;default:Ii(n,a)}}function Ev(n){var i=n.alternate;i!==null&&(n.alternate=null,Ev(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&yi(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var fe=null,mn=!1;function Yr(n,i,a){for(a=a.child;a!==null;)wv(n,i,a),a=a.sibling}function wv(n,i,a){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(pe,a)}catch{}switch(a.tag){case 26:Te||vr(a,i),Yr(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Te||vr(a,i);var l=fe,h=mn;Vi(a.type)&&(fe=a.stateNode,mn=!1),Yr(n,i,a),Nl(a.stateNode),fe=l,mn=h;break;case 5:Te||vr(a,i);case 6:if(l=fe,h=mn,fe=null,Yr(n,i,a),fe=l,mn=h,fe!==null)if(mn)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(a.stateNode)}catch(m){se(a,i,m)}else try{fe.removeChild(a.stateNode)}catch(m){se(a,i,m)}break;case 18:fe!==null&&(mn?(n=fe,f_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),zl(n)):f_(fe,a.stateNode));break;case 4:l=fe,h=mn,fe=a.stateNode.containerInfo,mn=!0,Yr(n,i,a),fe=l,mn=h;break;case 0:case 11:case 14:case 15:Te||xi(2,a,i),Te||xi(4,a,i),Yr(n,i,a);break;case 1:Te||(vr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&gv(a,i,l)),Yr(n,i,a);break;case 21:Yr(n,i,a);break;case 22:Te=(l=Te)||a.memoizedState!==null,Yr(n,i,a),Te=l;break;default:Yr(n,i,a)}}function Sv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{zl(n)}catch(a){se(i,i.return,a)}}function Mw(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new bv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new bv),i;default:throw Error(s(435,n.tag))}}function Od(n,i){var a=Mw(n);i.forEach(function(l){var h=Gw.bind(null,n,l);a.has(l)||(a.add(l),l.then(h,h))})}function Sn(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],m=n,b=i,S=b;t:for(;S!==null;){switch(S.tag){case 27:if(Vi(S.type)){fe=S.stateNode,mn=!1;break t}break;case 5:fe=S.stateNode,mn=!1;break t;case 3:case 4:fe=S.stateNode.containerInfo,mn=!0;break t}S=S.return}if(fe===null)throw Error(s(160));wv(m,b,h),fe=null,mn=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Av(i,n),i=i.sibling}var Kn=null;function Av(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Sn(i,n),An(n),l&4&&(xi(3,n,n.return),Tl(3,n),xi(5,n,n.return));break;case 1:Sn(i,n),An(n),l&512&&(Te||a===null||vr(a,a.return)),l&64&&Kr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Kn;if(Sn(i,n),An(n),l&512&&(Te||a===null||vr(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){t:{l=n.type,a=n.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":m=h.getElementsByTagName("title")[0],(!m||m[ms]||m[Ie]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(l),h.head.insertBefore(m,h.querySelector("head > title"))),Qe(m,l,a),m[Ie]=n,_e(m),l=m;break t;case"link":var b=__("link","href",h).get(l+(a.href||""));if(b){for(var S=0;S<b.length;S++)if(m=b[S],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(S,1);break e}}m=h.createElement(l),Qe(m,l,a),h.head.appendChild(m);break;case"meta":if(b=__("meta","content",h).get(l+(a.content||""))){for(S=0;S<b.length;S++)if(m=b[S],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(S,1);break e}}m=h.createElement(l),Qe(m,l,a),h.head.appendChild(m);break;default:throw Error(s(468,l))}m[Ie]=n,_e(m),l=m}n.stateNode=l}else b_(h,n.type,n.stateNode);else n.stateNode=v_(h,l,n.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?b_(h,n.type,n.stateNode):v_(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&xd(n,n.memoizedProps,a.memoizedProps)}break;case 27:Sn(i,n),An(n),l&512&&(Te||a===null||vr(a,a.return)),a!==null&&l&4&&xd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Sn(i,n),An(n),l&512&&(Te||a===null||vr(a,a.return)),n.flags&32){h=n.stateNode;try{On(h,"")}catch(Z){se(n,n.return,Z)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,xd(n,h,a!==null?a.memoizedProps:h)),l&1024&&(Nd=!0);break;case 6:if(Sn(i,n),An(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(Z){se(n,n.return,Z)}}break;case 3:if(Fc=null,h=Kn,Kn=qc(i.containerInfo),Sn(i,n),Kn=h,An(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{zl(i.containerInfo)}catch(Z){se(n,n.return,Z)}Nd&&(Nd=!1,Cv(n));break;case 4:l=Kn,Kn=qc(n.stateNode.containerInfo),Sn(i,n),An(n),Kn=l;break;case 12:Sn(i,n),An(n);break;case 13:Sn(i,n),An(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ud=Dn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Od(n,l)));break;case 22:h=n.memoizedState!==null;var k=a!==null&&a.memoizedState!==null,Q=Kr,rt=Te;if(Kr=Q||h,Te=rt||k,Sn(i,n),Te=rt,Kr=Q,An(n),l&8192)t:for(i=n.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||k||Kr||Te||js(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){k=a=i;try{if(m=k.stateNode,h)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{S=k.stateNode;var at=k.memoizedProps.style,Y=at!=null&&at.hasOwnProperty("display")?at.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(Z){se(k,k.return,Z)}}}else if(i.tag===6){if(a===null){k=i;try{k.stateNode.nodeValue=h?"":k.memoizedProps}catch(Z){se(k,k.return,Z)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break t;for(;i.sibling===null;){if(i.return===null||i.return===n)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Od(n,a))));break;case 19:Sn(i,n),An(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Od(n,l)));break;case 30:break;case 21:break;default:Sn(i,n),An(n)}}function An(n){var i=n.flags;if(i&2){try{for(var a,l=n.return;l!==null;){if(vv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,m=Id(n);Dc(n,m,h);break;case 5:var b=a.stateNode;a.flags&32&&(On(b,""),a.flags&=-33);var S=Id(n);Dc(n,S,b);break;case 3:case 4:var k=a.stateNode.containerInfo,Q=Id(n);Dd(n,Q,k);break;default:throw Error(s(161))}}catch(rt){se(n,n.return,rt)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Cv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Cv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Ii(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Tv(n,i.alternate,i),i=i.sibling}function js(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:xi(4,i,i.return),js(i);break;case 1:vr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&gv(i,i.return,a),js(i);break;case 27:Nl(i.stateNode);case 26:case 5:vr(i,i.return),js(i);break;case 22:i.memoizedState===null&&js(i);break;case 30:js(i);break;default:js(i)}n=n.sibling}}function Di(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=n,m=i,b=m.flags;switch(m.tag){case 0:case 11:case 15:Di(h,m,a),Tl(4,m);break;case 1:if(Di(h,m,a),l=m,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Q){se(l,l.return,Q)}if(l=m,h=l.updateQueue,h!==null){var S=l.stateNode;try{var k=h.shared.hiddenCallbacks;if(k!==null)for(h.shared.hiddenCallbacks=null,h=0;h<k.length;h++)ey(k[h],S)}catch(Q){se(l,l.return,Q)}}a&&b&64&&pv(m),El(m,m.return);break;case 27:_v(m);case 26:case 5:Di(h,m,a),a&&l===null&&b&4&&yv(m),El(m,m.return);break;case 12:Di(h,m,a);break;case 13:Di(h,m,a),a&&b&4&&Sv(h,m);break;case 22:m.memoizedState===null&&Di(h,m,a),El(m,m.return);break;case 30:break;default:Di(h,m,a)}i=i.sibling}}function Md(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&ol(a))}function kd(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ol(n))}function _r(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Rv(n,i,a,l),i=i.sibling}function Rv(n,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:_r(n,i,a,l),h&2048&&Tl(9,i);break;case 1:_r(n,i,a,l);break;case 3:_r(n,i,a,l),h&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ol(n)));break;case 12:if(h&2048){_r(n,i,a,l),n=i.stateNode;try{var m=i.memoizedProps,b=m.id,S=m.onPostCommit;typeof S=="function"&&S(b,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(k){se(i,i.return,k)}}else _r(n,i,a,l);break;case 13:_r(n,i,a,l);break;case 23:break;case 22:m=i.stateNode,b=i.alternate,i.memoizedState!==null?m._visibility&2?_r(n,i,a,l):wl(n,i):m._visibility&2?_r(n,i,a,l):(m._visibility|=2,Ba(n,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Md(b,i);break;case 24:_r(n,i,a,l),h&2048&&kd(i.alternate,i);break;default:_r(n,i,a,l)}}function Ba(n,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=n,b=i,S=a,k=l,Q=b.flags;switch(b.tag){case 0:case 11:case 15:Ba(m,b,S,k,h),Tl(8,b);break;case 23:break;case 22:var rt=b.stateNode;b.memoizedState!==null?rt._visibility&2?Ba(m,b,S,k,h):wl(m,b):(rt._visibility|=2,Ba(m,b,S,k,h)),h&&Q&2048&&Md(b.alternate,b);break;case 24:Ba(m,b,S,k,h),h&&Q&2048&&kd(b.alternate,b);break;default:Ba(m,b,S,k,h)}i=i.sibling}}function wl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,h=l.flags;switch(l.tag){case 22:wl(a,l),h&2048&&Md(l.alternate,l);break;case 24:wl(a,l),h&2048&&kd(l.alternate,l);break;default:wl(a,l)}i=i.sibling}}var Sl=8192;function Ga(n){if(n.subtreeFlags&Sl)for(n=n.child;n!==null;)xv(n),n=n.sibling}function xv(n){switch(n.tag){case 26:Ga(n),n.flags&Sl&&n.memoizedState!==null&&vS(Kn,n.memoizedState,n.memoizedProps);break;case 5:Ga(n);break;case 3:case 4:var i=Kn;Kn=qc(n.stateNode.containerInfo),Ga(n),Kn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Sl,Sl=16777216,Ga(n),Sl=i):Ga(n));break;default:Ga(n)}}function Iv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Al(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];je=l,Nv(l,n)}Iv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Dv(n),n=n.sibling}function Dv(n){switch(n.tag){case 0:case 11:case 15:Al(n),n.flags&2048&&xi(9,n,n.return);break;case 3:Al(n);break;case 12:Al(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Nc(n)):Al(n);break;default:Al(n)}}function Nc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];je=l,Nv(l,n)}Iv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:xi(8,i,i.return),Nc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Nc(i));break;default:Nc(i)}n=n.sibling}}function Nv(n,i){for(;je!==null;){var a=je;switch(a.tag){case 0:case 11:case 15:xi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,je=l;else t:for(a=n;je!==null;){l=je;var h=l.sibling,m=l.return;if(Ev(l),l===a){je=null;break t}if(h!==null){h.return=m,je=h;break t}je=m}}}var kw={getCacheForType:function(n){var i=Je(Oe),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},Lw=typeof WeakMap=="function"?WeakMap:Map,Jt=0,ae=null,zt=null,Ft=0,te=0,Cn=null,Ni=!1,qa=!1,Ld=!1,Xr=0,ye=0,Oi=0,Bs=0,Vd=0,Bn=0,Ha=0,Cl=null,pn=null,Pd=!1,Ud=0,Oc=1/0,Mc=null,Mi=null,$e=0,ki=null,Fa=null,$a=0,zd=0,jd=null,Ov=null,Rl=0,Bd=null;function Rn(){if((Jt&2)!==0&&Ft!==0)return Ft&-Ft;if(X.T!==null){var n=Ma;return n!==0?n:Kd()}return pi()}function Mv(){Bn===0&&(Bn=(Ft&536870912)===0||Kt?Vo():536870912);var n=jn.current;return n!==null&&(n.flags|=32),Bn}function xn(n,i,a){(n===ae&&(te===2||te===9)||n.cancelPendingCommit!==null)&&(Qa(n,0),Li(n,Ft,Bn,!1)),xr(n,a),((Jt&2)===0||n!==ae)&&(n===ae&&((Jt&2)===0&&(Bs|=a),ye===4&&Li(n,Ft,Bn,!1)),br(n))}function kv(n,i,a){if((Jt&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&n.expiredLanes)===0||ds(n,i),h=l?Uw(n,i):Hd(n,i,!0),m=l;do{if(h===0){qa&&!l&&Li(n,i,0,!1);break}else{if(a=n.current.alternate,m&&!Vw(a)){h=Hd(n,i,!1),m=!1;continue}if(h===2){if(m=i,n.errorRecoveryDisabledLanes&m)var b=0;else b=n.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;t:{var S=n;h=Cl;var k=S.current.memoizedState.isDehydrated;if(k&&(Qa(S,b).flags|=256),b=Hd(S,b,!1),b!==2){if(Ld&&!k){S.errorRecoveryDisabledLanes|=m,Bs|=m,h=4;break t}m=pn,pn=h,m!==null&&(pn===null?pn=m:pn.push.apply(pn,m))}h=b}if(m=!1,h!==2)continue}}if(h===1){Qa(n,0),Li(n,i,0,!0);break}t:{switch(l=n,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Li(l,i,Bn,!Ni);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Ud+300-Dn(),10<h)){if(Li(l,i,Bn,!Ni),ca(l,0,!0)!==0)break t;l.timeoutHandle=u_(Lv.bind(null,l,a,pn,Mc,Pd,i,Bn,Bs,Ha,Ni,m,2,-0,0),h);break t}Lv(l,a,pn,Mc,Pd,i,Bn,Bs,Ha,Ni,m,0,-0,0)}}break}while(!0);br(n)}function Lv(n,i,a,l,h,m,b,S,k,Q,rt,at,Y,Z){if(n.timeoutHandle=-1,at=i.subtreeFlags,(at&8192||(at&16785408)===16785408)&&(kl={stylesheets:null,count:0,unsuspend:yS},xv(i),at=_S(),at!==null)){n.cancelPendingCommit=at(Gv.bind(null,n,i,m,a,l,h,b,S,k,rt,1,Y,Z)),Li(n,m,b,!Q);return}Gv(n,i,m,a,l,h,b,S,k)}function Vw(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],m=h.getSnapshot;h=h.value;try{if(!En(m(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Li(n,i,a,l){i&=~Vd,i&=~Bs,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var h=i;0<h;){var m=31-Ze(h),b=1<<m;l[m]=-1,h&=~b}a!==0&&sr(n,a,i)}function kc(){return(Jt&6)===0?(xl(0),!1):!0}function Gd(){if(zt!==null){if(te===0)var n=zt.return;else n=zt,Gr=Ls=null,sd(n),za=null,vl=0,n=zt;for(;n!==null;)mv(n.alternate,n),n=n.return;zt=null}}function Qa(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,tS(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Gd(),ae=n,zt=a=zr(n.current,null),Ft=i,te=0,Cn=null,Ni=!1,qa=ds(n,i),Ld=!1,Ha=Bn=Vd=Bs=Oi=ye=0,pn=Cl=null,Pd=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var h=31-Ze(l),m=1<<h;i|=n[h],l&=~m}return Xr=i,nc(),a}function Vv(n,i){kt=null,X.H=Tc,i===ul||i===fc?(i=Jg(),te=3):i===Xg?(i=Jg(),te=4):te=i===tv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Cn=i,zt===null&&(ye=1,Cc(n,Vn(i,n.current)))}function Pv(){var n=X.H;return X.H=Tc,n===null?Tc:n}function Uv(){var n=X.A;return X.A=kw,n}function qd(){ye=4,Ni||(Ft&4194048)!==Ft&&jn.current!==null||(qa=!0),(Oi&134217727)===0&&(Bs&134217727)===0||ae===null||Li(ae,Ft,Bn,!1)}function Hd(n,i,a){var l=Jt;Jt|=2;var h=Pv(),m=Uv();(ae!==n||Ft!==i)&&(Mc=null,Qa(n,i)),i=!1;var b=ye;t:do try{if(te!==0&&zt!==null){var S=zt,k=Cn;switch(te){case 8:Gd(),b=6;break t;case 3:case 2:case 9:case 6:jn.current===null&&(i=!0);var Q=te;if(te=0,Cn=null,Ka(n,S,k,Q),a&&qa){b=0;break t}break;default:Q=te,te=0,Cn=null,Ka(n,S,k,Q)}}Pw(),b=ye;break}catch(rt){Vv(n,rt)}while(!0);return i&&n.shellSuspendCounter++,Gr=Ls=null,Jt=l,X.H=h,X.A=m,zt===null&&(ae=null,Ft=0,nc()),b}function Pw(){for(;zt!==null;)zv(zt)}function Uw(n,i){var a=Jt;Jt|=2;var l=Pv(),h=Uv();ae!==n||Ft!==i?(Mc=null,Oc=Dn()+500,Qa(n,i)):qa=ds(n,i);t:do try{if(te!==0&&zt!==null){i=zt;var m=Cn;e:switch(te){case 1:te=0,Cn=null,Ka(n,i,m,1);break;case 2:case 9:if(Wg(m)){te=0,Cn=null,jv(i);break}i=function(){te!==2&&te!==9||ae!==n||(te=7),br(n)},m.then(i,i);break t;case 3:te=7;break t;case 4:te=5;break t;case 7:Wg(m)?(te=0,Cn=null,jv(i)):(te=0,Cn=null,Ka(n,i,m,7));break;case 5:var b=null;switch(zt.tag){case 26:b=zt.memoizedState;case 5:case 27:var S=zt;if(!b||T_(b)){te=0,Cn=null;var k=S.sibling;if(k!==null)zt=k;else{var Q=S.return;Q!==null?(zt=Q,Lc(Q)):zt=null}break e}}te=0,Cn=null,Ka(n,i,m,5);break;case 6:te=0,Cn=null,Ka(n,i,m,6);break;case 8:Gd(),ye=6;break t;default:throw Error(s(462))}}zw();break}catch(rt){Vv(n,rt)}while(!0);return Gr=Ls=null,X.H=l,X.A=h,Jt=a,zt!==null?0:(ae=null,Ft=0,nc(),ye)}function zw(){for(;zt!==null&&!Oo();)zv(zt)}function zv(n){var i=hv(n.alternate,n,Xr);n.memoizedProps=n.pendingProps,i===null?Lc(n):zt=i}function jv(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=av(a,i,i.pendingProps,i.type,void 0,Ft);break;case 11:i=av(a,i,i.pendingProps,i.type.render,i.ref,Ft);break;case 5:sd(i);default:mv(a,i),i=zt=Bg(i,Xr),i=hv(a,i,Xr)}n.memoizedProps=n.pendingProps,i===null?Lc(n):zt=i}function Ka(n,i,a,l){Gr=Ls=null,sd(i),za=null,vl=0;var h=i.return;try{if(xw(n,h,i,a,Ft)){ye=1,Cc(n,Vn(a,n.current)),zt=null;return}}catch(m){if(h!==null)throw zt=h,m;ye=1,Cc(n,Vn(a,n.current)),zt=null;return}i.flags&32768?(Kt||l===1?n=!0:qa||(Ft&536870912)!==0?n=!1:(Ni=n=!0,(l===2||l===9||l===3||l===6)&&(l=jn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Bv(i,n)):Lc(i)}function Lc(n){var i=n;do{if((i.flags&32768)!==0){Bv(i,Ni);return}n=i.return;var a=Dw(i.alternate,i,Xr);if(a!==null){zt=a;return}if(i=i.sibling,i!==null){zt=i;return}zt=i=n}while(i!==null);ye===0&&(ye=5)}function Bv(n,i){do{var a=Nw(n.alternate,n);if(a!==null){a.flags&=32767,zt=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){zt=n;return}zt=n=a}while(n!==null);ye=6,zt=null}function Gv(n,i,a,l,h,m,b,S,k){n.cancelPendingCommit=null;do Vc();while($e!==0);if((Jt&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=kh,Uo(n,a,m,b,S,k),n===ae&&(zt=ae=null,Ft=0),Fa=i,ki=n,$a=a,zd=m,jd=h,Ov=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,qw(us,function(){return Qv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=ut.p,ut.p=2,b=Jt,Jt|=4;try{Ow(n,i,a)}finally{Jt=b,ut.p=h,X.T=l}}$e=1,qv(),Hv(),Fv()}}function qv(){if($e===1){$e=0;var n=ki,i=Fa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=ut.p;ut.p=2;var h=Jt;Jt|=4;try{Av(i,n);var m=nm,b=Ng(n.containerInfo),S=m.focusedElem,k=m.selectionRange;if(b!==S&&S&&S.ownerDocument&&Dg(S.ownerDocument.documentElement,S)){if(k!==null&&Ih(S)){var Q=k.start,rt=k.end;if(rt===void 0&&(rt=Q),"selectionStart"in S)S.selectionStart=Q,S.selectionEnd=Math.min(rt,S.value.length);else{var at=S.ownerDocument||document,Y=at&&at.defaultView||window;if(Y.getSelection){var Z=Y.getSelection(),xt=S.textContent.length,wt=Math.min(k.start,xt),ie=k.end===void 0?wt:Math.min(k.end,xt);!Z.extend&&wt>ie&&(b=ie,ie=wt,wt=b);var q=Ig(S,wt),j=Ig(S,ie);if(q&&j&&(Z.rangeCount!==1||Z.anchorNode!==q.node||Z.anchorOffset!==q.offset||Z.focusNode!==j.node||Z.focusOffset!==j.offset)){var $=at.createRange();$.setStart(q.node,q.offset),Z.removeAllRanges(),wt>ie?(Z.addRange($),Z.extend(j.node,j.offset)):($.setEnd(j.node,j.offset),Z.addRange($))}}}}for(at=[],Z=S;Z=Z.parentNode;)Z.nodeType===1&&at.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<at.length;S++){var it=at[S];it.element.scrollLeft=it.left,it.element.scrollTop=it.top}}Kc=!!em,nm=em=null}finally{Jt=h,ut.p=l,X.T=a}}n.current=i,$e=2}}function Hv(){if($e===2){$e=0;var n=ki,i=Fa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=ut.p;ut.p=2;var h=Jt;Jt|=4;try{Tv(n,i.alternate,i)}finally{Jt=h,ut.p=l,X.T=a}}$e=3}}function Fv(){if($e===4||$e===3){$e=0,Nu();var n=ki,i=Fa,a=$a,l=Ov;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?$e=5:($e=0,Fa=ki=null,$v(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(Mi=null),fa(a),i=i.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(pe,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,h=ut.p,ut.p=2,X.T=null;try{for(var m=n.onRecoverableError,b=0;b<l.length;b++){var S=l[b];m(S.value,{componentStack:S.stack})}}finally{X.T=i,ut.p=h}}($a&3)!==0&&Vc(),br(n),h=n.pendingLanes,(a&4194090)!==0&&(h&42)!==0?n===Bd?Rl++:(Rl=0,Bd=n):Rl=0,xl(0)}}function $v(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,ol(i)))}function Vc(n){return qv(),Hv(),Fv(),Qv()}function Qv(){if($e!==5)return!1;var n=ki,i=zd;zd=0;var a=fa($a),l=X.T,h=ut.p;try{ut.p=32>a?32:a,X.T=null,a=jd,jd=null;var m=ki,b=$a;if($e=0,Fa=ki=null,$a=0,(Jt&6)!==0)throw Error(s(331));var S=Jt;if(Jt|=4,Dv(m.current),Rv(m,m.current,b,a),Jt=S,xl(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(pe,m)}catch{}return!0}finally{ut.p=h,X.T=l,$v(n,i)}}function Kv(n,i,a){i=Vn(a,i),i=_d(n.stateNode,i,2),n=Si(n,i,2),n!==null&&(xr(n,2),br(n))}function se(n,i,a){if(n.tag===3)Kv(n,n,a);else for(;i!==null;){if(i.tag===3){Kv(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Mi===null||!Mi.has(l))){n=Vn(a,n),a=Zy(2),l=Si(i,a,2),l!==null&&(Jy(a,l,i,n),xr(l,2),br(l));break}}i=i.return}}function Fd(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new Lw;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Ld=!0,h.add(a),n=jw.bind(null,n,i,a),i.then(n,n))}function jw(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ae===n&&(Ft&a)===a&&(ye===4||ye===3&&(Ft&62914560)===Ft&&300>Dn()-Ud?(Jt&2)===0&&Qa(n,0):Vd|=a,Ha===Ft&&(Ha=0)),br(n)}function Yv(n,i){i===0&&(i=Po()),n=Ia(n,i),n!==null&&(xr(n,i),br(n))}function Bw(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),Yv(n,a)}function Gw(n,i){var a=0;switch(n.tag){case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Yv(n,a)}function qw(n,i){return os(n,i)}var Pc=null,Ya=null,$d=!1,Uc=!1,Qd=!1,Gs=0;function br(n){n!==Ya&&n.next===null&&(Ya===null?Pc=Ya=n:Ya=Ya.next=n),Uc=!0,$d||($d=!0,Fw())}function xl(n,i){if(!Qd&&Uc){Qd=!0;do for(var a=!1,l=Pc;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var m=0;else{var b=l.suspendedLanes,S=l.pingedLanes;m=(1<<31-Ze(42|n)+1)-1,m&=h&~(b&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,Jv(l,m))}else m=Ft,m=ca(l,l===ae?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||ds(l,m)||(a=!0,Jv(l,m));l=l.next}while(a);Qd=!1}}function Hw(){Xv()}function Xv(){Uc=$d=!1;var n=0;Gs!==0&&(Jw()&&(n=Gs),Gs=0);for(var i=Dn(),a=null,l=Pc;l!==null;){var h=l.next,m=Wv(l,i);m===0?(l.next=null,a===null?Pc=h:a.next=h,h===null&&(Ya=a)):(a=l,(n!==0||(m&3)!==0)&&(Uc=!0)),l=h}xl(n)}function Wv(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var b=31-Ze(m),S=1<<b,k=h[b];k===-1?((S&a)===0||(S&l)!==0)&&(h[b]=Lo(S,i)):k<=i&&(n.expiredLanes|=S),m&=~S}if(i=ae,a=Ft,a=ca(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===i&&(te===2||te===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ls(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ds(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&ls(l),fa(a)){case 2:case 8:a=la;break;case 32:a=us;break;case 268435456:a=ua;break;default:a=us}return l=Zv.bind(null,n),a=os(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&ls(l),n.callbackPriority=2,n.callbackNode=null,2}function Zv(n,i){if($e!==0&&$e!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Vc()&&n.callbackNode!==a)return null;var l=Ft;return l=ca(n,n===ae?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(kv(n,l,i),Wv(n,Dn()),n.callbackNode!=null&&n.callbackNode===a?Zv.bind(null,n):null)}function Jv(n,i){if(Vc())return null;kv(n,i,!0)}function Fw(){eS(function(){(Jt&6)!==0?os(Mo,Hw):Xv()})}function Kd(){return Gs===0&&(Gs=Vo()),Gs}function t_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ya(""+n)}function e_(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function $w(n,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var m=t_((h[we]||null).action),b=l.submitter;b&&(i=(i=b[we]||null)?t_(i.formAction):b.getAttribute("formAction"),i!==null&&(m=i,b=null));var S=new va("action","action",null,l,h);n.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Gs!==0){var k=b?e_(h,b):new FormData(h);md(a,{pending:!0,data:k,method:h.method,action:m},null,k)}}else typeof m=="function"&&(S.preventDefault(),k=b?e_(h,b):new FormData(h),md(a,{pending:!0,data:k,method:h.method,action:m},m,k))},currentTarget:h}]})}}for(var Yd=0;Yd<Mh.length;Yd++){var Xd=Mh[Yd],Qw=Xd.toLowerCase(),Kw=Xd[0].toUpperCase()+Xd.slice(1);Qn(Qw,"on"+Kw)}Qn(kg,"onAnimationEnd"),Qn(Lg,"onAnimationIteration"),Qn(Vg,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(fw,"onTransitionRun"),Qn(hw,"onTransitionStart"),Qn(dw,"onTransitionCancel"),Qn(Pg,"onTransitionEnd"),Dr("onMouseEnter",["mouseout","mouseover"]),Dr("onMouseLeave",["mouseout","mouseover"]),Dr("onPointerEnter",["pointerout","pointerover"]),Dr("onPointerLeave",["pointerout","pointerover"]),Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Il));function n_(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],h=l.event;l=l.listeners;t:{var m=void 0;if(i)for(var b=l.length-1;0<=b;b--){var S=l[b],k=S.instance,Q=S.currentTarget;if(S=S.listener,k!==m&&h.isPropagationStopped())break t;m=S,h.currentTarget=Q;try{m(h)}catch(rt){Ac(rt)}h.currentTarget=null,m=k}else for(b=0;b<l.length;b++){if(S=l[b],k=S.instance,Q=S.currentTarget,S=S.listener,k!==m&&h.isPropagationStopped())break t;m=S,h.currentTarget=Q;try{m(h)}catch(rt){Ac(rt)}h.currentTarget=null,m=k}}}}function jt(n,i){var a=i[jo];a===void 0&&(a=i[jo]=new Set);var l=n+"__bubble";a.has(l)||(r_(i,n,2,!1),a.add(l))}function Wd(n,i,a){var l=0;i&&(l|=4),r_(a,n,l,i)}var zc="_reactListening"+Math.random().toString(36).slice(2);function Zd(n){if(!n[zc]){n[zc]=!0,Bo.forEach(function(a){a!=="selectionchange"&&(Yw.has(a)||Wd(a,!1,n),Wd(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[zc]||(i[zc]=!0,Wd("selectionchange",!1,i))}}function r_(n,i,a,l){switch(R_(i)){case 2:var h=ES;break;case 8:h=wS;break;default:h=hm}a=h.bind(null,i,a,n),h=void 0,!kn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(i,a,{capture:!0,passive:h}):n.addEventListener(i,a,!0):h!==void 0?n.addEventListener(i,a,{passive:h}):n.addEventListener(i,a,!1)}function Jd(n,i,a,l,h){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var S=l.stateNode.containerInfo;if(S===h)break;if(b===4)for(b=l.return;b!==null;){var k=b.tag;if((k===3||k===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;S!==null;){if(b=Ir(S),b===null)return;if(k=b.tag,k===5||k===6||k===26||k===27){l=m=b;continue t}S=S.parentNode}}l=l.return}Bu(function(){var Q=m,rt=Mn(a),at=[];t:{var Y=Ug.get(n);if(Y!==void 0){var Z=va,xt=n;switch(n){case"keypress":if(fr(a)===0)break t;case"keydown":case"keyup":Z=Sa;break;case"focusin":xt="focus",Z=Ta;break;case"focusout":xt="blur",Z=Ta;break;case"beforeblur":case"afterblur":Z=Ta;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Ah;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Yu;break;case kg:case Lg:case Vg:Z=Ea;break;case Pg:Z=Wu;break;case"scroll":case"scrollend":Z=Gu;break;case"wheel":Z=Aa;break;case"copy":case"cut":case"paste":Z=wa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Jo;break;case"toggle":case"beforetoggle":Z=Ju}var wt=(i&4)!==0,ie=!wt&&(n==="scroll"||n==="scrollend"),q=wt?Y!==null?Y+"Capture":null:Y;wt=[];for(var j=Q,$;j!==null;){var it=j;if($=it.stateNode,it=it.tag,it!==5&&it!==26&&it!==27||$===null||q===null||(it=Ts(j,q),it!=null&&wt.push(Dl(j,it,$))),ie)break;j=j.return}0<wt.length&&(Y=new Z(Y,xt,null,a,rt),at.push({event:Y,listeners:wt}))}}if((i&7)===0){t:{if(Y=n==="mouseover"||n==="pointerover",Z=n==="mouseout"||n==="pointerout",Y&&a!==Mr&&(xt=a.relatedTarget||a.fromElement)&&(Ir(xt)||xt[Nn]))break t;if((Z||Y)&&(Y=rt.window===rt?rt:(Y=rt.ownerDocument)?Y.defaultView||Y.parentWindow:window,Z?(xt=a.relatedTarget||a.toElement,Z=Q,xt=xt?Ir(xt):null,xt!==null&&(ie=u(xt),wt=xt.tag,xt!==ie||wt!==5&&wt!==27&&wt!==6)&&(xt=null)):(Z=null,xt=Q),Z!==xt)){if(wt=Ln,it="onMouseLeave",q="onMouseEnter",j="mouse",(n==="pointerout"||n==="pointerover")&&(wt=Jo,it="onPointerLeave",q="onPointerEnter",j="pointer"),ie=Z==null?Y:or(Z),$=xt==null?Y:or(xt),Y=new wt(it,j+"leave",Z,a,rt),Y.target=ie,Y.relatedTarget=$,it=null,Ir(rt)===Q&&(wt=new wt(q,j+"enter",xt,a,rt),wt.target=$,wt.relatedTarget=ie,it=wt),ie=it,Z&&xt)e:{for(wt=Z,q=xt,j=0,$=wt;$;$=Xa($))j++;for($=0,it=q;it;it=Xa(it))$++;for(;0<j-$;)wt=Xa(wt),j--;for(;0<$-j;)q=Xa(q),$--;for(;j--;){if(wt===q||q!==null&&wt===q.alternate)break e;wt=Xa(wt),q=Xa(q)}wt=null}else wt=null;Z!==null&&i_(at,Y,Z,wt,!1),xt!==null&&ie!==null&&i_(at,ie,xt,wt,!0)}}t:{if(Y=Q?or(Q):window,Z=Y.nodeName&&Y.nodeName.toLowerCase(),Z==="select"||Z==="input"&&Y.type==="file")var yt=wg;else if(Ne(Y))if(Sg)yt=lw;else{yt=aw;var Ut=sw}else Z=Y.nodeName,!Z||Z.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?Q&&$o(Q.elementType)&&(yt=wg):yt=ow;if(yt&&(yt=yt(n,Q))){Ur(at,yt,a,rt);break t}Ut&&Ut(n,Y,Q),n==="focusout"&&Q&&Y.type==="number"&&Q.memoizedProps.value!=null&&_i(Y,"number",Y.value)}switch(Ut=Q?or(Q):window,n){case"focusin":(Ne(Ut)||Ut.contentEditable==="true")&&(Ca=Ut,Dh=Q,nl=null);break;case"focusout":nl=Dh=Ca=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,Og(at,a,rt);break;case"selectionchange":if(cw)break;case"keydown":case"keyup":Og(at,a,rt)}var Tt;if(mr)t:{switch(n){case"compositionstart":var At="onCompositionStart";break t;case"compositionend":At="onCompositionEnd";break t;case"compositionupdate":At="onCompositionUpdate";break t}At=void 0}else qt?tt(n,a)&&(At="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(At="onCompositionStart");At&&(_&&a.locale!=="ko"&&(qt||At!=="onCompositionStart"?At==="onCompositionEnd"&&qt&&(Tt=Ko()):(cr=rt,bi="value"in cr?cr.value:cr.textContent,qt=!0)),Ut=jc(Q,At),0<Ut.length&&(At=new Wo(At,n,null,a,rt),at.push({event:At,listeners:Ut}),Tt?At.data=Tt:(Tt=ht(a),Tt!==null&&(At.data=Tt)))),(Tt=y?De(n,a):Ht(n,a))&&(At=jc(Q,"onBeforeInput"),0<At.length&&(Ut=new Wo("onBeforeInput","beforeinput",null,a,rt),at.push({event:Ut,listeners:At}),Ut.data=Tt)),$w(at,n,Q,a,rt)}n_(at,i)})}function Dl(n,i,a){return{instance:n,listener:i,currentTarget:a}}function jc(n,i){for(var a=i+"Capture",l=[];n!==null;){var h=n,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Ts(n,a),h!=null&&l.unshift(Dl(n,h,m)),h=Ts(n,i),h!=null&&l.push(Dl(n,h,m))),n.tag===3)return l;n=n.return}return[]}function Xa(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function i_(n,i,a,l,h){for(var m=i._reactName,b=[];a!==null&&a!==l;){var S=a,k=S.alternate,Q=S.stateNode;if(S=S.tag,k!==null&&k===l)break;S!==5&&S!==26&&S!==27||Q===null||(k=Q,h?(Q=Ts(a,m),Q!=null&&b.unshift(Dl(a,Q,k))):h||(Q=Ts(a,m),Q!=null&&b.push(Dl(a,Q,k)))),a=a.return}b.length!==0&&n.push({event:i,listeners:b})}var Xw=/\r\n?/g,Ww=/\u0000|\uFFFD/g;function s_(n){return(typeof n=="string"?n:""+n).replace(Xw,`
`).replace(Ww,"")}function a_(n,i){return i=s_(i),s_(n)===i}function Bc(){}function re(n,i,a,l,h,m){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||On(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&On(n,""+l);break;case"className":lr(n,"class",l);break;case"tabIndex":lr(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(n,a,l);break;case"style":Fo(n,l,m);break;case"data":if(i!=="object"){lr(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ya(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&re(n,i,"name",h.name,h,null),re(n,i,"formEncType",h.formEncType,h,null),re(n,i,"formMethod",h.formMethod,h,null),re(n,i,"formTarget",h.formTarget,h,null)):(re(n,i,"encType",h.encType,h,null),re(n,i,"method",h.method,h,null),re(n,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ya(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Bc);break;case"onScroll":l!=null&&jt("scroll",n);break;case"onScrollEnd":l!=null&&jt("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=ya(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":jt("beforetoggle",n),jt("toggle",n),vi(n,"popover",l);break;case"xlinkActuate":qe(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":qe(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":qe(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":qe(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":qe(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":qe(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":qe(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":qe(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":qe(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":vi(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wh.get(a)||a,vi(n,a,l))}}function tm(n,i,a,l,h,m){switch(a){case"style":Fo(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?On(n,l):(typeof l=="number"||typeof l=="bigint")&&On(n,""+l);break;case"onScroll":l!=null&&jt("scroll",n);break;case"onScrollEnd":l!=null&&jt("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Bc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ha.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),m=n[we]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(i,m,h),typeof l=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,h);break t}a in n?n[a]=l:l===!0?n.setAttribute(a,""):vi(n,a,l)}}}function Qe(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jt("error",n),jt("load",n);var l=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var b=a[m];if(b!=null)switch(m){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:re(n,i,m,b,a,null)}}h&&re(n,i,"srcSet",a.srcSet,a,null),l&&re(n,i,"src",a.src,a,null);return;case"input":jt("invalid",n);var S=m=b=h=null,k=null,Q=null;for(l in a)if(a.hasOwnProperty(l)){var rt=a[l];if(rt!=null)switch(l){case"name":h=rt;break;case"type":b=rt;break;case"checked":k=rt;break;case"defaultChecked":Q=rt;break;case"value":m=rt;break;case"defaultValue":S=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(s(137,i));break;default:re(n,i,l,rt,a,null)}}vs(n,m,S,k,Q,b,h,!1),ga(n);return;case"select":jt("invalid",n),l=b=m=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":m=S;break;case"defaultValue":b=S;break;case"multiple":l=S;default:re(n,i,h,S,a,null)}i=m,a=b,n.multiple=!!l,i!=null?Or(n,!!l,i,!1):a!=null&&Or(n,!!l,a,!0);return;case"textarea":jt("invalid",n),m=h=l=null;for(b in a)if(a.hasOwnProperty(b)&&(S=a[b],S!=null))switch(b){case"value":l=S;break;case"defaultValue":h=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:re(n,i,b,S,a,null)}_s(n,l,h,m),ga(n);return;case"option":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:re(n,i,k,l,a,null)}return;case"dialog":jt("beforetoggle",n),jt("toggle",n),jt("cancel",n),jt("close",n);break;case"iframe":case"object":jt("load",n);break;case"video":case"audio":for(l=0;l<Il.length;l++)jt(Il[l],n);break;case"image":jt("error",n),jt("load",n);break;case"details":jt("toggle",n);break;case"embed":case"source":case"link":jt("error",n),jt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in a)if(a.hasOwnProperty(Q)&&(l=a[Q],l!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:re(n,i,Q,l,a,null)}return;default:if($o(i)){for(rt in a)a.hasOwnProperty(rt)&&(l=a[rt],l!==void 0&&tm(n,i,rt,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&re(n,i,S,l,a,null))}function Zw(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,b=null,S=null,k=null,Q=null,rt=null;for(Z in a){var at=a[Z];if(a.hasOwnProperty(Z)&&at!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":k=at;default:l.hasOwnProperty(Z)||re(n,i,Z,null,l,at)}}for(var Y in l){var Z=l[Y];if(at=a[Y],l.hasOwnProperty(Y)&&(Z!=null||at!=null))switch(Y){case"type":m=Z;break;case"name":h=Z;break;case"checked":Q=Z;break;case"defaultChecked":rt=Z;break;case"value":b=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,i));break;default:Z!==at&&re(n,i,Y,Z,l,at)}}Tn(n,b,S,k,Q,rt,m,h);return;case"select":Z=b=S=Y=null;for(m in a)if(k=a[m],a.hasOwnProperty(m)&&k!=null)switch(m){case"value":break;case"multiple":Z=k;default:l.hasOwnProperty(m)||re(n,i,m,null,l,k)}for(h in l)if(m=l[h],k=a[h],l.hasOwnProperty(h)&&(m!=null||k!=null))switch(h){case"value":Y=m;break;case"defaultValue":S=m;break;case"multiple":b=m;default:m!==k&&re(n,i,h,m,l,k)}i=S,a=b,l=Z,Y!=null?Or(n,!!a,Y,!1):!!l!=!!a&&(i!=null?Or(n,!!a,i,!0):Or(n,!!a,a?[]:"",!1));return;case"textarea":Z=Y=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:re(n,i,S,null,l,h)}for(b in l)if(h=l[b],m=a[b],l.hasOwnProperty(b)&&(h!=null||m!=null))switch(b){case"value":Y=h;break;case"defaultValue":Z=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&re(n,i,b,h,l,m)}ee(n,Y,Z);return;case"option":for(var xt in a)if(Y=a[xt],a.hasOwnProperty(xt)&&Y!=null&&!l.hasOwnProperty(xt))switch(xt){case"selected":n.selected=!1;break;default:re(n,i,xt,null,l,Y)}for(k in l)if(Y=l[k],Z=a[k],l.hasOwnProperty(k)&&Y!==Z&&(Y!=null||Z!=null))switch(k){case"selected":n.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:re(n,i,k,Y,l,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var wt in a)Y=a[wt],a.hasOwnProperty(wt)&&Y!=null&&!l.hasOwnProperty(wt)&&re(n,i,wt,null,l,Y);for(Q in l)if(Y=l[Q],Z=a[Q],l.hasOwnProperty(Q)&&Y!==Z&&(Y!=null||Z!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:re(n,i,Q,Y,l,Z)}return;default:if($o(i)){for(var ie in a)Y=a[ie],a.hasOwnProperty(ie)&&Y!==void 0&&!l.hasOwnProperty(ie)&&tm(n,i,ie,void 0,l,Y);for(rt in l)Y=l[rt],Z=a[rt],!l.hasOwnProperty(rt)||Y===Z||Y===void 0&&Z===void 0||tm(n,i,rt,Y,l,Z);return}}for(var q in a)Y=a[q],a.hasOwnProperty(q)&&Y!=null&&!l.hasOwnProperty(q)&&re(n,i,q,null,l,Y);for(at in l)Y=l[at],Z=a[at],!l.hasOwnProperty(at)||Y===Z||Y==null&&Z==null||re(n,i,at,Y,l,Z)}var em=null,nm=null;function Gc(n){return n.nodeType===9?n:n.ownerDocument}function o_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l_(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function rm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var im=null;function Jw(){var n=window.event;return n&&n.type==="popstate"?n===im?!1:(im=n,!0):(im=null,!1)}var u_=typeof setTimeout=="function"?setTimeout:void 0,tS=typeof clearTimeout=="function"?clearTimeout:void 0,c_=typeof Promise=="function"?Promise:void 0,eS=typeof queueMicrotask=="function"?queueMicrotask:typeof c_<"u"?function(n){return c_.resolve(null).then(n).catch(nS)}:u_;function nS(n){setTimeout(function(){throw n})}function Vi(n){return n==="head"}function f_(n,i){var a=i,l=0,h=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var b=n.ownerDocument;if(a&1&&Nl(b.documentElement),a&2&&Nl(b.body),a&4)for(a=b.head,Nl(a),b=a.firstChild;b;){var S=b.nextSibling,k=b.nodeName;b[ms]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=S}}if(h===0){n.removeChild(m),zl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);zl(i)}function sm(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":sm(a),yi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function rS(n,i,a,l){for(;n.nodeType===1;){var h=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[ms])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Yn(n.nextSibling),n===null)break}return null}function iS(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Yn(n.nextSibling),n===null))return null;return n}function am(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function sS(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Yn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var om=null;function h_(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function d_(n,i,a){switch(i=Gc(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Nl(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);yi(n)}var Gn=new Map,m_=new Set;function qc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Wr=ut.d;ut.d={f:aS,r:oS,D:lS,C:uS,L:cS,m:fS,X:dS,S:hS,M:mS};function aS(){var n=Wr.f(),i=kc();return n||i}function oS(n){var i=ar(n);i!==null&&i.tag===5&&i.type==="form"?ky(i):Wr.r(n)}var Wa=typeof document>"u"?null:document;function p_(n,i,a){var l=Wa;if(l&&typeof i=="string"&&i){var h=Se(i);h='link[rel="'+n+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),m_.has(h)||(m_.add(h),n={rel:n,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Qe(i,"link",n),_e(i),l.head.appendChild(i)))}}function lS(n){Wr.D(n),p_("dns-prefetch",n,null)}function uS(n,i){Wr.C(n,i),p_("preconnect",n,i)}function cS(n,i,a){Wr.L(n,i,a);var l=Wa;if(l&&n&&i){var h='link[rel="preload"][as="'+Se(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Se(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Se(a.imageSizes)+'"]')):h+='[href="'+Se(n)+'"]';var m=h;switch(i){case"style":m=Za(n);break;case"script":m=Ja(n)}Gn.has(m)||(n=v({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),Gn.set(m,n),l.querySelector(h)!==null||i==="style"&&l.querySelector(Ol(m))||i==="script"&&l.querySelector(Ml(m))||(i=l.createElement("link"),Qe(i,"link",n),_e(i),l.head.appendChild(i)))}}function fS(n,i){Wr.m(n,i);var a=Wa;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Se(l)+'"][href="'+Se(n)+'"]',m=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Ja(n)}if(!Gn.has(m)&&(n=v({rel:"modulepreload",href:n},i),Gn.set(m,n),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ml(m)))return}l=a.createElement("link"),Qe(l,"link",n),_e(l),a.head.appendChild(l)}}}function hS(n,i,a){Wr.S(n,i,a);var l=Wa;if(l&&n){var h=on(l).hoistableStyles,m=Za(n);i=i||"default";var b=h.get(m);if(!b){var S={loading:0,preload:null};if(b=l.querySelector(Ol(m)))S.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":i},a),(a=Gn.get(m))&&lm(n,a);var k=b=l.createElement("link");_e(k),Qe(k,"link",n),k._p=new Promise(function(Q,rt){k.onload=Q,k.onerror=rt}),k.addEventListener("load",function(){S.loading|=1}),k.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Hc(b,i,l)}b={type:"stylesheet",instance:b,count:1,state:S},h.set(m,b)}}}function dS(n,i){Wr.X(n,i);var a=Wa;if(a&&n){var l=on(a).hoistableScripts,h=Ja(n),m=l.get(h);m||(m=a.querySelector(Ml(h)),m||(n=v({src:n,async:!0},i),(i=Gn.get(h))&&um(n,i),m=a.createElement("script"),_e(m),Qe(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function mS(n,i){Wr.M(n,i);var a=Wa;if(a&&n){var l=on(a).hoistableScripts,h=Ja(n),m=l.get(h);m||(m=a.querySelector(Ml(h)),m||(n=v({src:n,async:!0,type:"module"},i),(i=Gn.get(h))&&um(n,i),m=a.createElement("script"),_e(m),Qe(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function g_(n,i,a,l){var h=(h=bt.current)?qc(h):null;if(!h)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Za(a.href),a=on(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Za(a.href);var m=on(h).hoistableStyles,b=m.get(n);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,b),(m=h.querySelector(Ol(n)))&&!m._p&&(b.instance=m,b.state.loading=5),Gn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Gn.set(n,a),m||pS(h,n,a,b.state))),i&&l===null)throw Error(s(528,""));return b}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ja(a),a=on(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Za(n){return'href="'+Se(n)+'"'}function Ol(n){return'link[rel="stylesheet"]['+n+"]"}function y_(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function pS(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Qe(i,"link",a),_e(i),n.head.appendChild(i))}function Ja(n){return'[src="'+Se(n)+'"]'}function Ml(n){return"script[async]"+n}function v_(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+Se(a.href)+'"]');if(l)return i.instance=l,_e(l),l;var h=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),_e(l),Qe(l,"style",h),Hc(l,a.precedence,n),i.instance=l;case"stylesheet":h=Za(a.href);var m=n.querySelector(Ol(h));if(m)return i.state.loading|=4,i.instance=m,_e(m),m;l=y_(a),(h=Gn.get(h))&&lm(l,h),m=(n.ownerDocument||n).createElement("link"),_e(m);var b=m;return b._p=new Promise(function(S,k){b.onload=S,b.onerror=k}),Qe(m,"link",l),i.state.loading|=4,Hc(m,a.precedence,n),i.instance=m;case"script":return m=Ja(a.src),(h=n.querySelector(Ml(m)))?(i.instance=h,_e(h),h):(l=a,(h=Gn.get(m))&&(l=v({},a),um(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),_e(h),Qe(h,"link",l),n.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Hc(l,a.precedence,n));return i.instance}function Hc(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,m=h,b=0;b<l.length;b++){var S=l[b];if(S.dataset.precedence===i)m=S;else if(m!==h)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function lm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function um(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Fc=null;function __(n,i,a){if(Fc===null){var l=new Map,h=Fc=new Map;h.set(a,l)}else h=Fc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),h=0;h<a.length;h++){var m=a[h];if(!(m[ms]||m[Ie]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(i)||"";b=n+b;var S=l.get(b);S?S.push(m):l.set(b,[m])}}return l}function b_(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function gS(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function T_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var kl=null;function yS(){}function vS(n,i,a){if(kl===null)throw Error(s(475));var l=kl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Za(a.href),m=n.querySelector(Ol(h));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=$c.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=m,_e(m);return}m=n.ownerDocument||n,a=y_(a),(h=Gn.get(h))&&lm(a,h),m=m.createElement("link"),_e(m);var b=m;b._p=new Promise(function(S,k){b.onload=S,b.onerror=k}),Qe(m,"link",a),i.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=$c.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function _S(){if(kl===null)throw Error(s(475));var n=kl;return n.stylesheets&&n.count===0&&cm(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&cm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function $c(){if(this.count--,this.count===0){if(this.stylesheets)cm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Qc=null;function cm(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Qc=new Map,i.forEach(bS,n),Qc=null,$c.call(n))}function bS(n,i){if(!(i.state.loading&4)){var a=Qc.get(n);if(a)var l=a.get(null);else{a=new Map,Qc.set(n,a);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var b=h[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}h=i.instance,b=h.getAttribute("data-precedence"),m=a.get(b)||l,m===l&&a.set(null,h),a.set(b,h),this.count++,l=$c.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),m?m.parentNode.insertBefore(h,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),i.state.loading|=4}}var Ll={$$typeof:K,Provider:null,Consumer:null,_currentValue:et,_currentValue2:et,_threadCount:0};function TS(n,i,a,l,h,m,b,S){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rr(0),this.hiddenUpdates=Rr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function E_(n,i,a,l,h,m,b,S,k,Q,rt,at){return n=new TS(n,i,a,b,S,k,Q,at),i=1,m===!0&&(i|=24),m=wn(3,null,null,i),n.current=m,m.stateNode=n,i=Fh(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:i},Yh(m),n}function w_(n){return n?(n=Da,n):Da}function S_(n,i,a,l,h,m){h=w_(h),l.context===null?l.context=h:l.pendingContext=h,l=wi(i),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Si(n,l,i),a!==null&&(xn(a,n,i),fl(a,n,i))}function A_(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function fm(n,i){A_(n,i),(n=n.alternate)&&A_(n,i)}function C_(n){if(n.tag===13){var i=Ia(n,67108864);i!==null&&xn(i,n,67108864),fm(n,67108864)}}var Kc=!0;function ES(n,i,a,l){var h=X.T;X.T=null;var m=ut.p;try{ut.p=2,hm(n,i,a,l)}finally{ut.p=m,X.T=h}}function wS(n,i,a,l){var h=X.T;X.T=null;var m=ut.p;try{ut.p=8,hm(n,i,a,l)}finally{ut.p=m,X.T=h}}function hm(n,i,a,l){if(Kc){var h=dm(l);if(h===null)Jd(n,i,l,Yc,a),x_(n,l);else if(AS(h,n,i,a,l))l.stopPropagation();else if(x_(n,l),i&4&&-1<SS.indexOf(n)){for(;h!==null;){var m=ar(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=Hn(m.pendingLanes);if(b!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;b;){var k=1<<31-Ze(b);S.entanglements[1]|=k,b&=~k}br(m),(Jt&6)===0&&(Oc=Dn()+500,xl(0))}}break;case 13:S=Ia(m,2),S!==null&&xn(S,m,2),kc(),fm(m,2)}if(m=dm(l),m===null&&Jd(n,i,l,Yc,a),m===h)break;h=m}h!==null&&l.stopPropagation()}else Jd(n,i,l,null,a)}}function dm(n){return n=Mn(n),mm(n)}var Yc=null;function mm(n){if(Yc=null,n=Ir(n),n!==null){var i=u(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=f(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Yc=n,null}function R_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yh()){case Mo:return 2;case la:return 8;case us:case vh:return 32;case ua:return 268435456;default:return 32}default:return 32}}var pm=!1,Pi=null,Ui=null,zi=null,Vl=new Map,Pl=new Map,ji=[],SS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function x_(n,i){switch(n){case"focusin":case"focusout":Pi=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":zi=null;break;case"pointerover":case"pointerout":Vl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(i.pointerId)}}function Ul(n,i,a,l,h,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[h]},i!==null&&(i=ar(i),i!==null&&C_(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),n)}function AS(n,i,a,l,h){switch(i){case"focusin":return Pi=Ul(Pi,n,i,a,l,h),!0;case"dragenter":return Ui=Ul(Ui,n,i,a,l,h),!0;case"mouseover":return zi=Ul(zi,n,i,a,l,h),!0;case"pointerover":var m=h.pointerId;return Vl.set(m,Ul(Vl.get(m)||null,n,i,a,l,h)),!0;case"gotpointercapture":return m=h.pointerId,Pl.set(m,Ul(Pl.get(m)||null,n,i,a,l,h)),!0}return!1}function I_(n){var i=Ir(n.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){n.blockedOn=i,ku(n.priority,function(){if(a.tag===13){var l=Rn();l=mi(l);var h=Ia(a,l);h!==null&&xn(h,a,l),fm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Xc(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=dm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Mr=l,a.target.dispatchEvent(l),Mr=null}else return i=ar(a),i!==null&&C_(i),n.blockedOn=a,!1;i.shift()}return!0}function D_(n,i,a){Xc(n)&&a.delete(i)}function CS(){pm=!1,Pi!==null&&Xc(Pi)&&(Pi=null),Ui!==null&&Xc(Ui)&&(Ui=null),zi!==null&&Xc(zi)&&(zi=null),Vl.forEach(D_),Pl.forEach(D_)}function Wc(n,i){n.blockedOn===i&&(n.blockedOn=null,pm||(pm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,CS)))}var Zc=null;function N_(n){Zc!==n&&(Zc=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Zc===n&&(Zc=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],h=n[i+2];if(typeof l!="function"){if(mm(l||a)===null)continue;break}var m=ar(a);m!==null&&(n.splice(i,3),i-=3,md(m,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function zl(n){function i(k){return Wc(k,n)}Pi!==null&&Wc(Pi,n),Ui!==null&&Wc(Ui,n),zi!==null&&Wc(zi,n),Vl.forEach(i),Pl.forEach(i);for(var a=0;a<ji.length;a++){var l=ji[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<ji.length&&(a=ji[0],a.blockedOn===null);)I_(a),a.blockedOn===null&&ji.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],m=a[l+1],b=h[we]||null;if(typeof m=="function")b||N_(a);else if(b){var S=null;if(m&&m.hasAttribute("formAction")){if(h=m,b=m[we]||null)S=b.formAction;else if(mm(h)!==null)continue}else S=b.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),N_(a)}}}function gm(n){this._internalRoot=n}Jc.prototype.render=gm.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Rn();S_(a,l,n,i,null,null)},Jc.prototype.unmount=gm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;S_(n.current,2,null,n,null,null),kc(),i[Nn]=null}};function Jc(n){this._internalRoot=n}Jc.prototype.unstable_scheduleHydration=function(n){if(n){var i=pi();n={blockedOn:null,target:n,priority:i};for(var a=0;a<ji.length&&i!==0&&i<ji[a].priority;a++);ji.splice(a,0,n),a===0&&I_(n)}};var O_=t.version;if(O_!=="19.1.0")throw Error(s(527,O_,"19.1.0"));ut.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var RS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tf.isDisabled&&tf.supportsFiber)try{pe=tf.inject(RS),Zt=tf}catch{}}return Bl.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,l="",h=Ky,m=Yy,b=Xy,S=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=E_(n,1,!1,null,null,a,l,h,m,b,S,null),n[Nn]=i.current,Zd(n),new gm(i)},Bl.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var l=!1,h="",m=Ky,b=Yy,S=Xy,k=null,Q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(k=a.unstable_transitionCallbacks),a.formState!==void 0&&(Q=a.formState)),i=E_(n,1,!0,i,a??null,l,h,m,b,S,k,Q),i.context=w_(null),a=i.current,l=Rn(),l=mi(l),h=wi(l),h.callback=null,Si(a,h,l),a=l,i.current.lanes=a,xr(i,a),br(i),n[Nn]=i.current,Zd(n),new Jc(i)},Bl.version="19.1.0",Bl}var G_;function jS(){if(G_)return _m.exports;G_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),_m.exports=zS(),_m.exports}var BS=jS();const GS=()=>{};var q_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb=function(r){const t=[];let e=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},qS=function(r){const t=[];let e=0,s=0;for(;e<r.length;){const o=r[e++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[e++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[e++],f=r[e++],d=r[e++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[e++],f=r[e++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},Ub={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,d=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,v=u>>2,w=(u&3)<<4|d>>4;let T=(d&15)<<2|g>>6,I=g&63;p||(I=64,f||(T=64)),s.push(e[v],e[w],e[T],e[I])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Pb(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):qS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=e[r.charAt(o++)],d=o<r.length?e[r.charAt(o)]:0;++o;const g=o<r.length?e[r.charAt(o)]:64;++o;const w=o<r.length?e[r.charAt(o)]:64;if(++o,u==null||d==null||g==null||w==null)throw new HS;const T=u<<2|d>>4;if(s.push(T),g!==64){const I=d<<4&240|g>>2;if(s.push(I),w!==64){const D=g<<6&192|w;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class HS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FS=function(r){const t=Pb(r);return Ub.encodeByteArray(t,!0)},Sf=function(r){return FS(r).replace(/\./g,"")},zb=function(r){try{return Ub.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS=()=>$S().__FIREBASE_DEFAULTS__,KS=()=>{if(typeof process>"u"||typeof q_>"u")return;const r=q_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},YS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&zb(r[1]);return t&&JSON.parse(t)},Ff=()=>{try{return GS()||QS()||KS()||YS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},jb=r=>{var t,e;return(e=(t=Ff())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[r]},XS=r=>{const t=jb(r);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},Bb=()=>{var r;return(r=Ff())===null||r===void 0?void 0:r.config},Gb=r=>{var t;return(t=Ff())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(r){return r.endsWith(".cloudworkstations.dev")}async function qb(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Sf(JSON.stringify(e)),Sf(JSON.stringify(f)),""].join(".")}const Yl={};function JS(){const r={prod:[],emulator:[]};for(const t of Object.keys(Yl))Yl[t]?r.emulator.push(t):r.prod.push(t);return r}function tA(r){let t=document.getElementById(r),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),e=!0),{created:e,element:t}}let H_=!1;function $f(r,t){if(typeof window>"u"||typeof document>"u"||!du(window.location.host)||Yl[r]===t||Yl[r]||H_)return;Yl[r]=t;function e(T){return`__firebase__banner__${T}`}const s="__firebase__banner",u=JS().prod.length>0;function f(){const T=document.getElementById(s);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,I){T.setAttribute("width","24"),T.setAttribute("id",I),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{H_=!0,f()},T}function v(T,I){T.setAttribute("id",I),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=tA(s),I=e("text"),D=document.getElementById(I)||document.createElement("span"),O=e("learnmore"),L=document.getElementById(O)||document.createElement("a"),z=e("preprendIcon"),G=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const K=T.element;d(K),v(L,O);const J=g();p(G,z),K.append(G,D,L,J),document.body.appendChild(K)}u?(D.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function nA(){var r;const t=(r=Ff())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function sA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aA(){const r=sn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function oA(){return!nA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lA(){try{return typeof indexedDB=="object"}catch{return!1}}function uA(){return new Promise((r,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="FirebaseError";class hi extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=cA,Object.setPrototypeOf(this,hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mu.prototype.create)}}class mu{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?fA(u,s):"Error",d=`${this.serviceName}: ${f} (${o}).`;return new hi(o,d,s)}}function fA(r,t){return r.replace(hA,(e,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const hA=/\{\$([^}]+)}/g;function dA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ys(r,t){if(r===t)return!0;const e=Object.keys(r),s=Object.keys(t);for(const o of e){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(F_(u)&&F_(f)){if(!Ys(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!e.includes(o))return!1;return!0}function F_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(r){const t=[];for(const[e,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function mA(r,t){const e=new pA(r,t);return e.subscribe.bind(e)}class pA{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,s){let o;if(t===void 0&&e===void 0&&s===void 0)throw new Error("Missing Observer.");gA(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:s},o.next===void 0&&(o.next=wm),o.error===void 0&&(o.error=wm),o.complete===void 0&&(o.complete=wm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gA(r,t){if(typeof r!="object"||r===null)return!1;for(const e of t)if(e in r&&typeof r[e]=="function")return!0;return!1}function wm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(r){return r&&r._delegate?r._delegate:r}class Xs{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new WS;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(_A(t))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Hs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Hs){return this.instances.has(t)}getOptions(t=Hs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[u,f]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&f.resolve(o)}return o}onInit(t,e){var s;const o=this.normalizeInstanceIdentifier(e),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const o of s)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:vA(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Hs){return this.component?this.component.multipleInstances?t:Hs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vA(r){return r===Hs?void 0:r}function _A(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new yA(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Bt||(Bt={}));const TA={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},EA=Bt.INFO,wA={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},SA=(r,t,...e)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=wA[t];if(o)console[o](`[${s}]  ${r.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Tp{constructor(t){this.name=t,this._logLevel=EA,this._logHandler=SA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?TA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const AA=(r,t)=>t.some(e=>r instanceof e);let $_,Q_;function CA(){return $_||($_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RA(){return Q_||(Q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Hb=new WeakMap,jm=new WeakMap,Fb=new WeakMap,Sm=new WeakMap,Ep=new WeakMap;function xA(r){const t=new Promise((e,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{e(Yi(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(e=>{e instanceof IDBCursor&&Hb.set(e,r)}).catch(()=>{}),Ep.set(t,r),t}function IA(r){if(jm.has(r))return;const t=new Promise((e,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{e(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});jm.set(r,t)}let Bm={get(r,t,e){if(r instanceof IDBTransaction){if(t==="done")return jm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Fb.get(r);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Yi(r[t])},set(r,t,e){return r[t]=e,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function DA(r){Bm=r(Bm)}function NA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=r.call(Am(this),t,...e);return Fb.set(s,t.sort?t.sort():[t]),Yi(s)}:RA().includes(r)?function(...t){return r.apply(Am(this),t),Yi(Hb.get(this))}:function(...t){return Yi(r.apply(Am(this),t))}}function OA(r){return typeof r=="function"?NA(r):(r instanceof IDBTransaction&&IA(r),AA(r,CA())?new Proxy(r,Bm):r)}function Yi(r){if(r instanceof IDBRequest)return xA(r);if(Sm.has(r))return Sm.get(r);const t=OA(r);return t!==r&&(Sm.set(r,t),Ep.set(t,r)),t}const Am=r=>Ep.get(r);function MA(r,t,{blocked:e,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),d=Yi(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Yi(f.result),p.oldVersion,p.newVersion,Yi(f.transaction),p)}),e&&f.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const kA=["get","getKey","getAll","getAllKeys","count"],LA=["put","add","delete","clear"],Cm=new Map;function K_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Cm.get(t))return Cm.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,o=LA.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(o||kA.includes(e)))return;const u=async function(f,...d){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[e](...d),o&&p.done]))[0]};return Cm.set(t,u),u}DA(r=>({...r,get:(t,e,s)=>K_(t,e)||r.get(t,e,s),has:(t,e)=>!!K_(t,e)||r.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(PA(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function PA(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Gm="@firebase/app",Y_="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=new Tp("@firebase/app"),UA="@firebase/app-compat",zA="@firebase/analytics-compat",jA="@firebase/analytics",BA="@firebase/app-check-compat",GA="@firebase/app-check",qA="@firebase/auth",HA="@firebase/auth-compat",FA="@firebase/database",$A="@firebase/data-connect",QA="@firebase/database-compat",KA="@firebase/functions",YA="@firebase/functions-compat",XA="@firebase/installations",WA="@firebase/installations-compat",ZA="@firebase/messaging",JA="@firebase/messaging-compat",tC="@firebase/performance",eC="@firebase/performance-compat",nC="@firebase/remote-config",rC="@firebase/remote-config-compat",iC="@firebase/storage",sC="@firebase/storage-compat",aC="@firebase/firestore",oC="@firebase/vertexai",lC="@firebase/firestore-compat",uC="firebase",cC="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="[DEFAULT]",fC={[Gm]:"fire-core",[UA]:"fire-core-compat",[jA]:"fire-analytics",[zA]:"fire-analytics-compat",[GA]:"fire-app-check",[BA]:"fire-app-check-compat",[qA]:"fire-auth",[HA]:"fire-auth-compat",[FA]:"fire-rtdb",[$A]:"fire-data-connect",[QA]:"fire-rtdb-compat",[KA]:"fire-fn",[YA]:"fire-fn-compat",[XA]:"fire-iid",[WA]:"fire-iid-compat",[ZA]:"fire-fcm",[JA]:"fire-fcm-compat",[tC]:"fire-perf",[eC]:"fire-perf-compat",[nC]:"fire-rc",[rC]:"fire-rc-compat",[iC]:"fire-gcs",[sC]:"fire-gcs-compat",[aC]:"fire-fst",[lC]:"fire-fst-compat",[oC]:"fire-vertex","fire-js":"fire-js",[uC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=new Map,hC=new Map,Hm=new Map;function X_(r,t){try{r.container.addComponent(t)}catch(e){ai.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,e)}}function uo(r){const t=r.name;if(Hm.has(t))return ai.debug(`There were multiple attempts to register component ${t}.`),!1;Hm.set(t,r);for(const e of Af.values())X_(e,r);for(const e of hC.values())X_(e,r);return!0}function wp(r,t){const e=r.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),r.container.getProvider(t)}function Xn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xi=new mu("app","Firebase",dC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(t,e,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=cC;function $b(r,t={}){let e=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:qm,automaticDataCollectionEnabled:!1},t),o=s.name;if(typeof o!="string"||!o)throw Xi.create("bad-app-name",{appName:String(o)});if(e||(e=Bb()),!e)throw Xi.create("no-options");const u=Af.get(o);if(u){if(Ys(e,u.options)&&Ys(s,u.config))return u;throw Xi.create("duplicate-app",{appName:o})}const f=new bA(o);for(const p of Hm.values())f.addComponent(p);const d=new mC(e,s,f);return Af.set(o,d),d}function Qb(r=qm){const t=Af.get(r);if(!t&&r===qm&&Bb())return $b();if(!t)throw Xi.create("no-app",{appName:r});return t}function Wi(r,t,e){var s;let o=(s=fC[r])!==null&&s!==void 0?s:r;e&&(o+=`-${e}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const d=[`Unable to register library "${o}" with version "${t}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&d.push("and"),f&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ai.warn(d.join(" "));return}uo(new Xs(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="firebase-heartbeat-database",gC=1,nu="firebase-heartbeat-store";let Rm=null;function Kb(){return Rm||(Rm=MA(pC,gC,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(nu)}catch(e){console.warn(e)}}}}).catch(r=>{throw Xi.create("idb-open",{originalErrorMessage:r.message})})),Rm}async function yC(r){try{const e=(await Kb()).transaction(nu),s=await e.objectStore(nu).get(Yb(r));return await e.done,s}catch(t){if(t instanceof hi)ai.warn(t.message);else{const e=Xi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ai.warn(e.message)}}}async function W_(r,t){try{const s=(await Kb()).transaction(nu,"readwrite");await s.objectStore(nu).put(t,Yb(r)),await s.done}catch(e){if(e instanceof hi)ai.warn(e.message);else{const s=Xi.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});ai.warn(s.message)}}}function Yb(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=1024,_C=30;class bC{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new EC(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,e;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Z_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>_C){const f=wC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ai.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Z_(),{heartbeatsToSend:s,unsentEntries:o}=TC(this._heartbeatsCache.heartbeats),u=Sf(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return ai.warn(e),""}}}function Z_(){return new Date().toISOString().substring(0,10)}function TC(r,t=vC){const e=[];let s=r.slice();for(const o of r){const u=e.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),J_(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),J_(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class EC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lA()?uA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await yC(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const o=await this.read();return W_(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const o=await this.read();return W_(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function J_(r){return Sf(JSON.stringify({version:2,heartbeats:r})).length}function wC(r){if(r.length===0)return-1;let t=0,e=r[0].date;for(let s=1;s<r.length;s++)r[s].date<e&&(e=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(r){uo(new Xs("platform-logger",t=>new VA(t),"PRIVATE")),uo(new Xs("heartbeat",t=>new bC(t),"PRIVATE")),Wi(Gm,Y_,r),Wi(Gm,Y_,"esm2017"),Wi("fire-js","")}SC("");function Sp(r,t){var e={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(e[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(e[s[o]]=r[s[o]]);return e}function Xb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AC=Xb,Wb=new mu("auth","Firebase",Xb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf=new Tp("@firebase/auth");function CC(r,...t){Cf.logLevel<=Bt.WARN&&Cf.warn(`Auth (${bo}): ${r}`,...t)}function hf(r,...t){Cf.logLevel<=Bt.ERROR&&Cf.error(`Auth (${bo}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(r,...t){throw Cp(r,...t)}function Jn(r,...t){return Cp(r,...t)}function Ap(r,t,e){const s=Object.assign(Object.assign({},AC()),{[t]:e});return new mu("auth","Firebase",s).create(t,{appName:r.name})}function Qs(r){return Ap(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function RC(r,t,e){const s=e;if(!(t instanceof s))throw s.name!==t.constructor.name&&Ar(r,"argument-error"),Ap(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Cp(r,...t){if(typeof r!="string"){const e=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(e,...s)}return Wb.create(r,...t)}function It(r,t,...e){if(!r)throw Cp(t,...e)}function ti(r){const t="INTERNAL ASSERTION FAILED: "+r;throw hf(t),new Error(t)}function oi(r,t){r||ti(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function xC(){return t0()==="http:"||t0()==="https:"}function t0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xC()||iA()||"connection"in navigator)?navigator.onLine:!0}function DC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(t,e){this.shortDelay=t,this.longDelay=e,oi(e>t,"Short delay should be less than long delay!"),this.isMobile=eA()||sA()}get(){return IC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(r,t){oi(r.emulator,"Emulator should always be set here");const{url:e}=r.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{static initialize(t,e,s){this.fetchImpl=t,e&&(this.headersImpl=e),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MC=new gu(3e4,6e4);function xp(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function To(r,t,e,s,o={}){return Jb(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const d=pu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:t,headers:p},u);return rA()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&du(r.emulatorConfig.host)&&(g.credentials="include"),Zb.fetch()(await tT(r,r.config.apiHost,e,d),g)})}async function Jb(r,t,e){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},NC),t);try{const o=new LC(r),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw nf(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const d=u.ok?f.errorMessage:f.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw nf(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw nf(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw nf(r,"user-disabled",f);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Ap(r,v,g);Ar(r,v)}}catch(o){if(o instanceof hi)throw o;Ar(r,"network-request-failed",{message:String(o)})}}async function kC(r,t,e,s,o={}){const u=await To(r,t,e,s,o);return"mfaPendingCredential"in u&&Ar(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function tT(r,t,e,s){const o=`${t}${e}?${s}`,u=r,f=u.config.emulator?Rp(r.config,o):`${r.config.apiScheme}://${o}`;return OC.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class LC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,s)=>{this.timer=setTimeout(()=>s(Jn(this.auth,"network-request-failed")),MC.get())})}}function nf(r,t,e){const s={appName:r.name};e.email&&(s.email=e.email),e.phoneNumber&&(s.phoneNumber=e.phoneNumber);const o=Jn(r,t,s);return o.customData._tokenResponse=e,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VC(r,t){return To(r,"POST","/v1/accounts:delete",t)}async function Rf(r,t){return To(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function PC(r,t=!1){const e=vn(r),s=await e.getIdToken(t),o=Ip(s);It(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Xl(xm(o.auth_time)),issuedAtTime:Xl(xm(o.iat)),expirationTime:Xl(xm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function xm(r){return Number(r)*1e3}function Ip(r){const[t,e,s]=r.split(".");if(t===void 0||e===void 0||s===void 0)return hf("JWT malformed, contained fewer than 3 sections"),null;try{const o=zb(e);return o?JSON.parse(o):(hf("Failed to decode base64 JWT payload"),null)}catch(o){return hf("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function e0(r){const t=Ip(r);return It(t,"internal-error"),It(typeof t.exp<"u","internal-error"),It(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ru(r,t,e=!1){if(e)return t;try{return await t}catch(s){throw s instanceof hi&&UC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function UC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xl(this.lastLoginAt),this.creationTime=Xl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xf(r){var t;const e=r.auth,s=await r.getIdToken(),o=await ru(r,Rf(e,{idToken:s}));It(o==null?void 0:o.users.length,e,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?eT(u.providerUserInfo):[],d=BC(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(d!=null&&d.length),v=p?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new $m(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(r,w)}async function jC(r){const t=vn(r);await xf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function BC(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function eT(r){return r.map(t=>{var{providerId:e}=t,s=Sp(t,["providerId"]);return{providerId:e,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GC(r,t){const e=await Jb(r,{},async()=>{const s=pu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await tT(r,o,"/v1/token",`key=${u}`),d=await r._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",Zb.fetch()(f,{method:"POST",headers:d,body:s})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function qC(r,t){return To(r,"POST","/v2/accounts:revokeToken",xp(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){It(t.idToken,"internal-error"),It(typeof t.idToken<"u","internal-error"),It(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):e0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){It(t.length!==0,"internal-error");const e=e0(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(It(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:s,refreshToken:o,expiresIn:u}=await GC(t,e);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,e,s){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,e){const{refreshToken:s,accessToken:o,expirationTime:u}=e,f=new so;return s&&(It(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(It(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(It(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new so,this.toJSON())}_performRefresh(){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(r,t){It(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Wn{constructor(t){var{uid:e,auth:s,stsTokenManager:o}=t,u=Sp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new $m(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const e=await ru(this,this.stsTokenManager.getToken(this.auth,t));return It(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return PC(this,t)}reload(){return jC(this)}_assign(t){this!==t&&(It(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Wn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){It(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),e&&await xf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(Qs(this.auth));const t=await this.getIdToken();return await ru(this,VC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var s,o,u,f,d,p,g,v;const w=(s=e.displayName)!==null&&s!==void 0?s:void 0,T=(o=e.email)!==null&&o!==void 0?o:void 0,I=(u=e.phoneNumber)!==null&&u!==void 0?u:void 0,D=(f=e.photoURL)!==null&&f!==void 0?f:void 0,O=(d=e.tenantId)!==null&&d!==void 0?d:void 0,L=(p=e._redirectEventId)!==null&&p!==void 0?p:void 0,z=(g=e.createdAt)!==null&&g!==void 0?g:void 0,G=(v=e.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:K,emailVerified:J,isAnonymous:F,providerData:ct,stsTokenManager:R}=e;It(K&&R,t,"internal-error");const E=so.fromJSON(this.name,R);It(typeof K=="string",t,"internal-error"),Gi(w,t.name),Gi(T,t.name),It(typeof J=="boolean",t,"internal-error"),It(typeof F=="boolean",t,"internal-error"),Gi(I,t.name),Gi(D,t.name),Gi(O,t.name),Gi(L,t.name),Gi(z,t.name),Gi(G,t.name);const A=new Wn({uid:K,auth:t,email:T,emailVerified:J,displayName:w,isAnonymous:F,photoURL:D,phoneNumber:I,tenantId:O,stsTokenManager:E,createdAt:z,lastLoginAt:G});return ct&&Array.isArray(ct)&&(A.providerData=ct.map(M=>Object.assign({},M))),L&&(A._redirectEventId=L),A}static async _fromIdTokenResponse(t,e,s=!1){const o=new so;o.updateFromServerResponse(e);const u=new Wn({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await xf(u),u}static async _fromGetAccountInfoResponse(t,e,s){const o=e.users[0];It(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?eT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),d=new so;d.updateFromIdToken(s);const p=new Wn({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new $m(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=new Map;function ei(r){oi(r instanceof Function,"Expected a class definition");let t=n0.get(r);return t?(oi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,n0.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}nT.type="NONE";const r0=nT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(r,t,e){return`firebase:${r}:${t}:${e}`}class ao{constructor(t,e,s){this.persistence=t,this.auth=e,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=df(this.userKey,o.apiKey,u),this.fullPersistenceKey=df("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Rf(this.auth,{idToken:t}).catch(()=>{});return e?Wn._fromGetAccountInfoResponse(this.auth,e,t):null}return Wn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,s="authUser"){if(!e.length)return new ao(ei(r0),t,s);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ei(r0);const f=df(s,t.config.apiKey,t.name);let d=null;for(const g of e)try{const v=await g._get(f);if(v){let w;if(typeof v=="string"){const T=await Rf(t,{idToken:v}).catch(()=>{});if(!T)break;w=await Wn._fromGetAccountInfoResponse(t,T,v)}else w=Wn._fromJSON(t,v);g!==u&&(d=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ao(u,t,s):(u=p[0],d&&await u._set(f,d.toJSON()),await Promise.all(e.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new ao(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(aT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(rT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(lT(t))return"Blackberry";if(uT(t))return"Webos";if(iT(t))return"Safari";if((t.includes("chrome/")||sT(t))&&!t.includes("edge/"))return"Chrome";if(oT(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(e);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function rT(r=sn()){return/firefox\//i.test(r)}function iT(r=sn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function sT(r=sn()){return/crios\//i.test(r)}function aT(r=sn()){return/iemobile/i.test(r)}function oT(r=sn()){return/android/i.test(r)}function lT(r=sn()){return/blackberry/i.test(r)}function uT(r=sn()){return/webos/i.test(r)}function Dp(r=sn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function HC(r=sn()){var t;return Dp(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function FC(){return aA()&&document.documentMode===10}function cT(r=sn()){return Dp(r)||oT(r)||uT(r)||lT(r)||/windows phone/i.test(r)||aT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(r,t=[]){let e;switch(r){case"Browser":e=i0(sn());break;case"Worker":e=`${i0(sn())}-${r}`;break;default:e=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${bo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const s=u=>new Promise((f,d)=>{try{const p=t(u);f(p)}catch(p){d(p)}});s.onAbort=e,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const s of this.queue)await s(t),s.onAbort&&e.push(s.onAbort)}catch(s){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QC(r,t={}){return To(r,"GET","/v2/passwordPolicy",xp(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=6;class YC{constructor(t){var e,s,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=f.minPasswordLength)!==null&&e!==void 0?e:KC,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,s,o,u,f,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(e=p.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(t,e){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(e.meetsMinPasswordLength=t.length>=s),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,e,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(t,e,s,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new s0(this),this.idTokenSubscription=new s0(this),this.beforeStateQueue=new $C(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ei(e)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await ao.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Rf(this,{idToken:t}),s=await Wn._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(s)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Xn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===d)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return It(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await xf(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=DC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Xn(this.app))return Promise.reject(Qs(this));const e=t?vn(t):null;return e&&It(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&It(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(Qs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Xn(this.app)?Promise.reject(Qs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ei(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await QC(this),e=new YC(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new mu("auth","Firebase",t())}onAuthStateChanged(t,e,s){return this.registerStateListener(this.authStateSubscription,t,e,s)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,s){return this.registerStateListener(this.idTokenSubscription,t,e,s)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(s.tenantId=this.tenantId),await qC(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const s=await this.getOrInitRedirectPersistenceManager(e);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&ei(t)||this._popupRedirectResolver;It(e,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[ei(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,s;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,s,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let f=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(It(d,this,"internal-error"),d.then(()=>{f||u(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(e);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return It(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=fT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(e["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(e["X-Firebase-AppCheck"]=o),e}async _getAppCheckToken(){var t;if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&CC(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Qf(r){return vn(r)}class s0{constructor(t){this.auth=t,this.observer=null,this.addObserver=mA(e=>this.observer=e)}get next(){return It(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Np={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WC(r){Np=r}function ZC(r){return Np.loadJS(r)}function JC(){return Np.gapiScript}function tR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(r,t){const e=wp(r,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(Ys(u,t??{}))return o;Ar(o,"already-initialized")}return e.initialize({options:t})}function nR(r,t){const e=(t==null?void 0:t.persistence)||[],s=(Array.isArray(e)?e:[e]).map(ei);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function rR(r,t,e){const s=Qf(r);It(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=hT(t),{host:f,port:d}=iR(t),p=d===null?"":`:${d}`,g={url:`${u}//${f}${p}/`},v=Object.freeze({host:f,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){It(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),It(Ys(g,s.config.emulator)&&Ys(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,du(f)?($f("Auth",!0),qb(`${u}//${f}${p}`)):sR()}function hT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function iR(r){const t=hT(r),e=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!e)return{host:"",port:null};const s=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:a0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:a0(f)}}}function a0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function sR(){function r(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return ti("not implemented")}_getIdTokenResponse(t){return ti("not implemented")}_linkToIdToken(t,e){return ti("not implemented")}_getReauthenticationResolver(t){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(r,t){return kC(r,"POST","/v1/accounts:signInWithIdp",xp(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="http://localhost";class Ws extends dT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Ws(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ar("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=e,u=Sp(e,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Ws(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const e=this.buildRequest();return oo(t,e)}_linkToIdToken(t,e){const s=this.buildRequest();return s.idToken=e,oo(t,s)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,oo(t,e)}buildRequest(){const t={requestUri:aR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=pu(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends Op{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends yu{constructor(){super("facebook.com")}static credential(t){return Ws._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fi.credentialFromTaggedObject(t)}static credentialFromError(t){return Fi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fi.credential(t.oauthAccessToken)}catch{return null}}}Fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Ws._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Jr.credentialFromTaggedObject(t)}static credentialFromError(t){return Jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:s}=t;if(!e&&!s)return null;try{return Jr.credential(e,s)}catch{return null}}}Jr.GOOGLE_SIGN_IN_METHOD="google.com";Jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends yu{constructor(){super("github.com")}static credential(t){return Ws._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return $i.credentialFromTaggedObject(t)}static credentialFromError(t){return $i.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return $i.credential(t.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends yu{constructor(){super("twitter.com")}static credential(t,e){return Ws._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Qi.credentialFromTaggedObject(t)}static credentialFromError(t){return Qi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:s}=t;if(!e||!s)return null;try{return Qi.credential(e,s)}catch{return null}}}Qi.TWITTER_SIGN_IN_METHOD="twitter.com";Qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,s,o=!1){const u=await Wn._fromIdTokenResponse(t,s,o),f=o0(s);return new co({user:u,providerId:f,_tokenResponse:s,operationType:e})}static async _forOperation(t,e,s){await t._updateTokensIfNecessary(s,!0);const o=o0(s);return new co({user:t,providerId:o,_tokenResponse:s,operationType:e})}}function o0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If extends hi{constructor(t,e,s,o){var u;super(e.code,e.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,If.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:e.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,e,s,o){return new If(t,e,s,o)}}function mT(r,t,e,s){return(t==="reauthenticate"?e._getReauthenticationResolver(r):e._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?If._fromErrorAndOperation(r,u,t,s):u})}async function oR(r,t,e=!1){const s=await ru(r,t._linkToIdToken(r.auth,await r.getIdToken()),e);return co._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lR(r,t,e=!1){const{auth:s}=r;if(Xn(s.app))return Promise.reject(Qs(s));const o="reauthenticate";try{const u=await ru(r,mT(s,o,t,r),e);It(u.idToken,s,"internal-error");const f=Ip(u.idToken);It(f,s,"internal-error");const{sub:d}=f;return It(r.uid===d,s,"user-mismatch"),co._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Ar(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uR(r,t,e=!1){if(Xn(r.app))return Promise.reject(Qs(r));const s="signIn",o=await mT(r,s,t),u=await co._fromIdTokenResponse(r,s,o);return e||await r._updateCurrentUser(u.user),u}function cR(r,t,e,s){return vn(r).onIdTokenChanged(t,e,s)}function fR(r,t,e){return vn(r).beforeAuthStateChanged(t,e)}function hR(r,t,e,s){return vn(r).onAuthStateChanged(t,e,s)}function dR(r){return vn(r).signOut()}const Df="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Df,"1"),this.storage.removeItem(Df),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=1e3,pR=10;class gT extends pT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const s=this.storage.getItem(e),o=this.localCache[e];s!==o&&t(e,o,s)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((f,d,p)=>{this.notifyListeners(f,p)});return}const s=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!e&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);FC()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,pR):o()}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:s}),!0)})},mR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}gT.type="LOCAL";const gR=gT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT extends pT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}yT.type="SESSION";const vT=yT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const s=new Kf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:s,eventType:o,data:u}=e.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;e.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(f).map(async g=>g(e.origin,u)),p=await yR(d);e.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(r="",t=10){let e="";for(let s=0;s<t;s++)e+=Math.floor(Math.random()*10);return r+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((d,p)=>{const g=Mp("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const T=w;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(T.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(){return window}function _R(r){Er().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(){return typeof Er().WorkerGlobalScope<"u"&&typeof Er().importScripts=="function"}async function bR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TR(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function ER(){return _T()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="firebaseLocalStorageDb",wR=1,Nf="firebaseLocalStorage",TT="fbase_key";class vu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Yf(r,t){return r.transaction([Nf],t?"readwrite":"readonly").objectStore(Nf)}function SR(){const r=indexedDB.deleteDatabase(bT);return new vu(r).toPromise()}function Qm(){const r=indexedDB.open(bT,wR);return new Promise((t,e)=>{r.addEventListener("error",()=>{e(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Nf,{keyPath:TT})}catch(o){e(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Nf)?t(s):(s.close(),await SR(),t(await Qm()))})})}async function l0(r,t,e){const s=Yf(r,!0).put({[TT]:t,value:e});return new vu(s).toPromise()}async function AR(r,t){const e=Yf(r,!1).get(t),s=await new vu(e).toPromise();return s===void 0?null:s.value}function u0(r,t){const e=Yf(r,!0).delete(t);return new vu(e).toPromise()}const CR=800,RR=3;class ET{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qm(),this.db)}async _withRetries(t){let e=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(e++>RR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _T()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kf._getInstance(ER()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await bR(),!this.activeServiceWorker)return;this.sender=new vR(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((e=s[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||TR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Qm();return await l0(t,Df,"1"),await u0(t,Df),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(s=>l0(s,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(s=>AR(s,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>u0(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Yf(o,!1).getAll();return new vu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ET.type="LOCAL";const xR=ET;new gu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(r,t){return t?ei(t):(It(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp extends dT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return oo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return oo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return oo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function IR(r){return uR(r.auth,new kp(r),r.bypassAuthState)}function DR(r){const{auth:t,user:e}=r;return It(e,t,"internal-error"),lR(e,new kp(r),r.bypassAuthState)}async function NR(r){const{auth:t,user:e}=r;return It(e,t,"internal-error"),oR(e,new kp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(t,e,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:s,postBody:o,tenantId:u,error:f,type:d}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:e,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return IR;case"linkViaPopup":case"linkViaRedirect":return NR;case"reauthViaPopup":case"reauthViaRedirect":return DR;default:Ar(this.auth,"internal-error")}}resolve(t){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=new gu(2e3,1e4);async function MR(r,t,e){if(Xn(r.app))return Promise.reject(Jn(r,"operation-not-supported-in-this-environment"));const s=Qf(r);RC(r,t,Op);const o=wT(s,e);return new Fs(s,"signInViaPopup",t,o).executeNotNull()}class Fs extends ST{constructor(t,e,s,o,u){super(t,e,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Fs.currentPopupAction&&Fs.currentPopupAction.cancel(),Fs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return It(t,this.auth,"internal-error"),t}async onExecution(){oi(this.filter.length===1,"Popup operations only handle one event");const t=Mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fs.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,s;if(!((s=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,OR.get())};t()}}Fs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="pendingRedirect",mf=new Map;class LR extends ST{constructor(t,e,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,s),this.eventId=null}async execute(){let t=mf.get(this.auth._key());if(!t){try{const s=await VR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(e){t=()=>Promise.reject(e)}mf.set(this.auth._key(),t)}return this.bypassAuthState||mf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VR(r,t){const e=zR(t),s=UR(r);if(!await s._isAvailable())return!1;const o=await s._get(e)==="true";return await s._remove(e),o}function PR(r,t){mf.set(r._key(),t)}function UR(r){return ei(r._redirectPersistence)}function zR(r){return df(kR,r.config.apiKey,r.name)}async function jR(r,t,e=!1){if(Xn(r.app))return Promise.reject(Qs(r));const s=Qf(r),o=wT(s,t),f=await new LR(s,o,e).execute();return f&&!e&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=10*60*1e3;class GR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(e=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!qR(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var s;if(t.error&&!AT(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";e.onError(Jn(this.auth,o))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const s=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=BR&&this.cachedEventUids.clear(),this.cachedEventUids.has(c0(t))}saveEventToCache(t){this.cachedEventUids.add(c0(t)),this.lastProcessedEventTime=Date.now()}}function c0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function AT({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function qR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(r,t={}){return To(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$R=/^https?/;async function QR(r){if(r.config.emulator)return;const{authorizedDomains:t}=await HR(r);for(const e of t)try{if(KR(e))return}catch{}Ar(r,"unauthorized-domain")}function KR(r){const t=Fm(),{protocol:e,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?e==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&f.hostname===s}if(!$R.test(e))return!1;if(FR.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=new gu(3e4,6e4);function f0(){const r=Er().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let e=0;e<r.CP.length;e++)r.CP[e]=null}}function XR(r){return new Promise((t,e)=>{var s,o,u;function f(){f0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{f0(),e(Jn(r,"network-request-failed"))},timeout:YR.get()})}if(!((o=(s=Er().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=Er().gapi)===null||u===void 0)&&u.load)f();else{const d=tR("iframefcb");return Er()[d]=()=>{gapi.load?f():e(Jn(r,"network-request-failed"))},ZC(`${JC()}?onload=${d}`).catch(p=>e(p))}}).catch(t=>{throw pf=null,t})}let pf=null;function WR(r){return pf=pf||XR(r),pf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=new gu(5e3,15e3),JR="__/auth/iframe",tx="emulator/auth/iframe",ex={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rx(r){const t=r.config;It(t.authDomain,r,"auth-domain-config-required");const e=t.emulator?Rp(t,tx):`https://${r.config.authDomain}/${JR}`,s={apiKey:t.apiKey,appName:r.name,v:bo},o=nx.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${e}?${pu(s).slice(1)}`}async function ix(r){const t=await WR(r),e=Er().gapi;return It(e,r,"internal-error"),t.open({where:document.body,url:rx(r),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ex,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Jn(r,"network-request-failed"),d=Er().setTimeout(()=>{u(f)},ZR.get());function p(){Er().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ax=500,ox=600,lx="_blank",ux="http://localhost";class h0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cx(r,t,e,s=ax,o=ox){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p=Object.assign(Object.assign({},sx),{width:s.toString(),height:o.toString(),top:u,left:f}),g=sn().toLowerCase();e&&(d=sT(g)?lx:e),rT(g)&&(t=t||ux,p.scrollbars="yes");const v=Object.entries(p).reduce((T,[I,D])=>`${T}${I}=${D},`,"");if(HC(g)&&d!=="_self")return fx(t||"",d),new h0(null);const w=window.open(t||"",d,v);It(w,r,"popup-blocked");try{w.focus()}catch{}return new h0(w)}function fx(r,t){const e=document.createElement("a");e.href=r,e.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx="__/auth/handler",dx="emulator/auth/handler",mx=encodeURIComponent("fac");async function d0(r,t,e,s,o,u){It(r.config.authDomain,r,"auth-domain-config-required"),It(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:e,redirectUrl:s,v:bo,eventId:o};if(t instanceof Op){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",dA(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,w]of Object.entries({}))f[v]=w}if(t instanceof yu){const v=t.getScopes().filter(w=>w!=="");v.length>0&&(f.scopes=v.join(","))}r.tenantId&&(f.tid=r.tenantId);const d=f;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await r._getAppCheckToken(),g=p?`#${mx}=${encodeURIComponent(p)}`:"";return`${px(r)}?${pu(d).slice(1)}${g}`}function px({config:r}){return r.emulator?Rp(r,dx):`https://${r.authDomain}/${hx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="webStorageSupport";class gx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vT,this._completeRedirectFn=jR,this._overrideRedirectResult=PR}async _openPopup(t,e,s,o){var u;oi((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await d0(t,e,s,Fm(),o);return cx(t,f,Mp())}async _openRedirect(t,e,s,o){await this._originValidation(t);const u=await d0(t,e,s,Fm(),o);return _R(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(oi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[e]={promise:s},s.catch(()=>{delete this.eventManagers[e]}),s}async initAndGetManager(t){const e=await ix(t),s=new GR(t);return e.register("authEvent",o=>(It(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=e,s}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Im,{type:Im},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Im];f!==void 0&&e(!!f),Ar(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=QR(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return cT()||iT()||Dp()}}const yx=gx;var m0="@firebase/auth",p0="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){It(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bx(r){uo(new Xs("auth",(t,{options:e})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:d}=s.options;It(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fT(r)},g=new XC(s,o,u,p);return nR(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,s)=>{t.getProvider("auth-internal").initialize()})),uo(new Xs("auth-internal",t=>{const e=Qf(t.getProvider("auth").getImmediate());return(s=>new vx(s))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wi(m0,p0,_x(r)),Wi(m0,p0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx=5*60,Ex=Gb("authIdTokenMaxAge")||Tx;let g0=null;const wx=r=>async t=>{const e=t&&await t.getIdTokenResult(),s=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(s&&s>Ex)return;const o=e==null?void 0:e.token;g0!==o&&(g0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Sx(r=Qb()){const t=wp(r,"auth");if(t.isInitialized())return t.getImmediate();const e=eR(r,{popupRedirectResolver:yx,persistence:[xR,gR,vT]}),s=Gb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=wx(u.toString());fR(e,f,()=>f(e.currentUser)),cR(e,d=>f(d))}}const o=jb("auth");return o?rR(e,`http://${o}`):$f("Auth",!1),e}function Ax(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}WC({loadJS(r){return new Promise((t,e)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Jn("internal-error");u.customData=o,e(u)},s.type="text/javascript",s.charset="UTF-8",Ax().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bx("Browser");var Dm,y0;function Cx(){if(y0)return Dm;y0=1;var r="Expected a function",t=NaN,e="[object Symbol]",s=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,f=/^0o[0-7]+$/i,d=parseInt,p=typeof ef=="object"&&ef&&ef.Object===Object&&ef,g=typeof self=="object"&&self&&self.Object===Object&&self,v=p||g||Function("return this")(),w=Object.prototype,T=w.toString,I=Math.max,D=Math.min,O=function(){return v.Date.now()};function L(F,ct,R){var E,A,M,V,U,N,Mt=0,Rt=!1,X=!1,ut=!0;if(typeof F!="function")throw new TypeError(r);ct=J(ct)||0,z(R)&&(Rt=!!R.leading,X="maxWait"in R,M=X?I(J(R.maxWait)||0,ct):M,ut="trailing"in R?!!R.trailing:ut);function et(gt){var Pt=E,ve=A;return E=A=void 0,Mt=gt,V=F.apply(ve,Pt),V}function St(gt){return Mt=gt,U=setTimeout(ft,ct),Rt?et(gt):V}function P(gt){var Pt=gt-N,ve=gt-Mt,We=ct-Pt;return X?D(We,M-ve):We}function nt(gt){var Pt=gt-N,ve=gt-Mt;return N===void 0||Pt>=ct||Pt<0||X&&ve>=M}function ft(){var gt=O();if(nt(gt))return W(gt);U=setTimeout(ft,P(gt))}function W(gt){return U=void 0,ut&&E?et(gt):(E=A=void 0,V)}function st(){U!==void 0&&clearTimeout(U),Mt=0,E=N=A=U=void 0}function dt(){return U===void 0?V:W(O())}function bt(){var gt=O(),Pt=nt(gt);if(E=arguments,A=this,N=gt,Pt){if(U===void 0)return St(N);if(X)return U=setTimeout(ft,ct),et(N)}return U===void 0&&(U=setTimeout(ft,ct)),V}return bt.cancel=st,bt.flush=dt,bt}function z(F){var ct=typeof F;return!!F&&(ct=="object"||ct=="function")}function G(F){return!!F&&typeof F=="object"}function K(F){return typeof F=="symbol"||G(F)&&T.call(F)==e}function J(F){if(typeof F=="number")return F;if(K(F))return t;if(z(F)){var ct=typeof F.valueOf=="function"?F.valueOf():F;F=z(ct)?ct+"":ct}if(typeof F!="string")return F===0?F:+F;F=F.replace(s,"");var R=u.test(F);return R||f.test(F)?d(F.slice(2),R?2:8):o.test(F)?t:+F}return Dm=L,Dm}var Rx=Cx();const xx=Lb(Rx);var Ix="firebase",Dx="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wi(Ix,Dx,"app");var v0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zi,CT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(R,E){function A(){}A.prototype=E.prototype,R.D=E.prototype,R.prototype=new A,R.prototype.constructor=R,R.C=function(M,V,U){for(var N=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)N[Mt-2]=arguments[Mt];return E.prototype[V].apply(M,N)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,e),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,E,A){A||(A=0);var M=Array(16);if(typeof E=="string")for(var V=0;16>V;++V)M[V]=E.charCodeAt(A++)|E.charCodeAt(A++)<<8|E.charCodeAt(A++)<<16|E.charCodeAt(A++)<<24;else for(V=0;16>V;++V)M[V]=E[A++]|E[A++]<<8|E[A++]<<16|E[A++]<<24;E=R.g[0],A=R.g[1],V=R.g[2];var U=R.g[3],N=E+(U^A&(V^U))+M[0]+3614090360&4294967295;E=A+(N<<7&4294967295|N>>>25),N=U+(V^E&(A^V))+M[1]+3905402710&4294967295,U=E+(N<<12&4294967295|N>>>20),N=V+(A^U&(E^A))+M[2]+606105819&4294967295,V=U+(N<<17&4294967295|N>>>15),N=A+(E^V&(U^E))+M[3]+3250441966&4294967295,A=V+(N<<22&4294967295|N>>>10),N=E+(U^A&(V^U))+M[4]+4118548399&4294967295,E=A+(N<<7&4294967295|N>>>25),N=U+(V^E&(A^V))+M[5]+1200080426&4294967295,U=E+(N<<12&4294967295|N>>>20),N=V+(A^U&(E^A))+M[6]+2821735955&4294967295,V=U+(N<<17&4294967295|N>>>15),N=A+(E^V&(U^E))+M[7]+4249261313&4294967295,A=V+(N<<22&4294967295|N>>>10),N=E+(U^A&(V^U))+M[8]+1770035416&4294967295,E=A+(N<<7&4294967295|N>>>25),N=U+(V^E&(A^V))+M[9]+2336552879&4294967295,U=E+(N<<12&4294967295|N>>>20),N=V+(A^U&(E^A))+M[10]+4294925233&4294967295,V=U+(N<<17&4294967295|N>>>15),N=A+(E^V&(U^E))+M[11]+2304563134&4294967295,A=V+(N<<22&4294967295|N>>>10),N=E+(U^A&(V^U))+M[12]+1804603682&4294967295,E=A+(N<<7&4294967295|N>>>25),N=U+(V^E&(A^V))+M[13]+4254626195&4294967295,U=E+(N<<12&4294967295|N>>>20),N=V+(A^U&(E^A))+M[14]+2792965006&4294967295,V=U+(N<<17&4294967295|N>>>15),N=A+(E^V&(U^E))+M[15]+1236535329&4294967295,A=V+(N<<22&4294967295|N>>>10),N=E+(V^U&(A^V))+M[1]+4129170786&4294967295,E=A+(N<<5&4294967295|N>>>27),N=U+(A^V&(E^A))+M[6]+3225465664&4294967295,U=E+(N<<9&4294967295|N>>>23),N=V+(E^A&(U^E))+M[11]+643717713&4294967295,V=U+(N<<14&4294967295|N>>>18),N=A+(U^E&(V^U))+M[0]+3921069994&4294967295,A=V+(N<<20&4294967295|N>>>12),N=E+(V^U&(A^V))+M[5]+3593408605&4294967295,E=A+(N<<5&4294967295|N>>>27),N=U+(A^V&(E^A))+M[10]+38016083&4294967295,U=E+(N<<9&4294967295|N>>>23),N=V+(E^A&(U^E))+M[15]+3634488961&4294967295,V=U+(N<<14&4294967295|N>>>18),N=A+(U^E&(V^U))+M[4]+3889429448&4294967295,A=V+(N<<20&4294967295|N>>>12),N=E+(V^U&(A^V))+M[9]+568446438&4294967295,E=A+(N<<5&4294967295|N>>>27),N=U+(A^V&(E^A))+M[14]+3275163606&4294967295,U=E+(N<<9&4294967295|N>>>23),N=V+(E^A&(U^E))+M[3]+4107603335&4294967295,V=U+(N<<14&4294967295|N>>>18),N=A+(U^E&(V^U))+M[8]+1163531501&4294967295,A=V+(N<<20&4294967295|N>>>12),N=E+(V^U&(A^V))+M[13]+2850285829&4294967295,E=A+(N<<5&4294967295|N>>>27),N=U+(A^V&(E^A))+M[2]+4243563512&4294967295,U=E+(N<<9&4294967295|N>>>23),N=V+(E^A&(U^E))+M[7]+1735328473&4294967295,V=U+(N<<14&4294967295|N>>>18),N=A+(U^E&(V^U))+M[12]+2368359562&4294967295,A=V+(N<<20&4294967295|N>>>12),N=E+(A^V^U)+M[5]+4294588738&4294967295,E=A+(N<<4&4294967295|N>>>28),N=U+(E^A^V)+M[8]+2272392833&4294967295,U=E+(N<<11&4294967295|N>>>21),N=V+(U^E^A)+M[11]+1839030562&4294967295,V=U+(N<<16&4294967295|N>>>16),N=A+(V^U^E)+M[14]+4259657740&4294967295,A=V+(N<<23&4294967295|N>>>9),N=E+(A^V^U)+M[1]+2763975236&4294967295,E=A+(N<<4&4294967295|N>>>28),N=U+(E^A^V)+M[4]+1272893353&4294967295,U=E+(N<<11&4294967295|N>>>21),N=V+(U^E^A)+M[7]+4139469664&4294967295,V=U+(N<<16&4294967295|N>>>16),N=A+(V^U^E)+M[10]+3200236656&4294967295,A=V+(N<<23&4294967295|N>>>9),N=E+(A^V^U)+M[13]+681279174&4294967295,E=A+(N<<4&4294967295|N>>>28),N=U+(E^A^V)+M[0]+3936430074&4294967295,U=E+(N<<11&4294967295|N>>>21),N=V+(U^E^A)+M[3]+3572445317&4294967295,V=U+(N<<16&4294967295|N>>>16),N=A+(V^U^E)+M[6]+76029189&4294967295,A=V+(N<<23&4294967295|N>>>9),N=E+(A^V^U)+M[9]+3654602809&4294967295,E=A+(N<<4&4294967295|N>>>28),N=U+(E^A^V)+M[12]+3873151461&4294967295,U=E+(N<<11&4294967295|N>>>21),N=V+(U^E^A)+M[15]+530742520&4294967295,V=U+(N<<16&4294967295|N>>>16),N=A+(V^U^E)+M[2]+3299628645&4294967295,A=V+(N<<23&4294967295|N>>>9),N=E+(V^(A|~U))+M[0]+4096336452&4294967295,E=A+(N<<6&4294967295|N>>>26),N=U+(A^(E|~V))+M[7]+1126891415&4294967295,U=E+(N<<10&4294967295|N>>>22),N=V+(E^(U|~A))+M[14]+2878612391&4294967295,V=U+(N<<15&4294967295|N>>>17),N=A+(U^(V|~E))+M[5]+4237533241&4294967295,A=V+(N<<21&4294967295|N>>>11),N=E+(V^(A|~U))+M[12]+1700485571&4294967295,E=A+(N<<6&4294967295|N>>>26),N=U+(A^(E|~V))+M[3]+2399980690&4294967295,U=E+(N<<10&4294967295|N>>>22),N=V+(E^(U|~A))+M[10]+4293915773&4294967295,V=U+(N<<15&4294967295|N>>>17),N=A+(U^(V|~E))+M[1]+2240044497&4294967295,A=V+(N<<21&4294967295|N>>>11),N=E+(V^(A|~U))+M[8]+1873313359&4294967295,E=A+(N<<6&4294967295|N>>>26),N=U+(A^(E|~V))+M[15]+4264355552&4294967295,U=E+(N<<10&4294967295|N>>>22),N=V+(E^(U|~A))+M[6]+2734768916&4294967295,V=U+(N<<15&4294967295|N>>>17),N=A+(U^(V|~E))+M[13]+1309151649&4294967295,A=V+(N<<21&4294967295|N>>>11),N=E+(V^(A|~U))+M[4]+4149444226&4294967295,E=A+(N<<6&4294967295|N>>>26),N=U+(A^(E|~V))+M[11]+3174756917&4294967295,U=E+(N<<10&4294967295|N>>>22),N=V+(E^(U|~A))+M[2]+718787259&4294967295,V=U+(N<<15&4294967295|N>>>17),N=A+(U^(V|~E))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+E&4294967295,R.g[1]=R.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+V&4294967295,R.g[3]=R.g[3]+U&4294967295}s.prototype.u=function(R,E){E===void 0&&(E=R.length);for(var A=E-this.blockSize,M=this.B,V=this.h,U=0;U<E;){if(V==0)for(;U<=A;)o(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<E;)if(M[V++]=R.charCodeAt(U++),V==this.blockSize){o(this,M),V=0;break}}else for(;U<E;)if(M[V++]=R[U++],V==this.blockSize){o(this,M),V=0;break}}this.h=V,this.o+=E},s.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var E=1;E<R.length-8;++E)R[E]=0;var A=8*this.o;for(E=R.length-8;E<R.length;++E)R[E]=A&255,A/=256;for(this.u(R),R=Array(16),E=A=0;4>E;++E)for(var M=0;32>M;M+=8)R[A++]=this.g[E]>>>M&255;return R};function u(R,E){var A=d;return Object.prototype.hasOwnProperty.call(A,R)?A[R]:A[R]=E(R)}function f(R,E){this.h=E;for(var A=[],M=!0,V=R.length-1;0<=V;V--){var U=R[V]|0;M&&U==E||(A[V]=U,M=!1)}this.g=A}var d={};function p(R){return-128<=R&&128>R?u(R,function(E){return new f([E|0],0>E?-1:0)}):new f([R|0],0>R?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return w;if(0>R)return L(g(-R));for(var E=[],A=1,M=0;R>=A;M++)E[M]=R/A|0,A*=4294967296;return new f(E,0)}function v(R,E){if(R.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(R.charAt(0)=="-")return L(v(R.substring(1),E));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=g(Math.pow(E,8)),M=w,V=0;V<R.length;V+=8){var U=Math.min(8,R.length-V),N=parseInt(R.substring(V,V+U),E);8>U?(U=g(Math.pow(E,U)),M=M.j(U).add(g(N))):(M=M.j(A),M=M.add(g(N)))}return M}var w=p(0),T=p(1),I=p(16777216);r=f.prototype,r.m=function(){if(O(this))return-L(this).m();for(var R=0,E=1,A=0;A<this.g.length;A++){var M=this.i(A);R+=(0<=M?M:4294967296+M)*E,E*=4294967296}return R},r.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(D(this))return"0";if(O(this))return"-"+L(this).toString(R);for(var E=g(Math.pow(R,6)),A=this,M="";;){var V=J(A,E).g;A=z(A,V.j(E));var U=((0<A.g.length?A.g[0]:A.h)>>>0).toString(R);if(A=V,D(A))return U+M;for(;6>U.length;)U="0"+U;M=U+M}},r.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function D(R){if(R.h!=0)return!1;for(var E=0;E<R.g.length;E++)if(R.g[E]!=0)return!1;return!0}function O(R){return R.h==-1}r.l=function(R){return R=z(this,R),O(R)?-1:D(R)?0:1};function L(R){for(var E=R.g.length,A=[],M=0;M<E;M++)A[M]=~R.g[M];return new f(A,~R.h).add(T)}r.abs=function(){return O(this)?L(this):this},r.add=function(R){for(var E=Math.max(this.g.length,R.g.length),A=[],M=0,V=0;V<=E;V++){var U=M+(this.i(V)&65535)+(R.i(V)&65535),N=(U>>>16)+(this.i(V)>>>16)+(R.i(V)>>>16);M=N>>>16,U&=65535,N&=65535,A[V]=N<<16|U}return new f(A,A[A.length-1]&-2147483648?-1:0)};function z(R,E){return R.add(L(E))}r.j=function(R){if(D(this)||D(R))return w;if(O(this))return O(R)?L(this).j(L(R)):L(L(this).j(R));if(O(R))return L(this.j(L(R)));if(0>this.l(I)&&0>R.l(I))return g(this.m()*R.m());for(var E=this.g.length+R.g.length,A=[],M=0;M<2*E;M++)A[M]=0;for(M=0;M<this.g.length;M++)for(var V=0;V<R.g.length;V++){var U=this.i(M)>>>16,N=this.i(M)&65535,Mt=R.i(V)>>>16,Rt=R.i(V)&65535;A[2*M+2*V]+=N*Rt,G(A,2*M+2*V),A[2*M+2*V+1]+=U*Rt,G(A,2*M+2*V+1),A[2*M+2*V+1]+=N*Mt,G(A,2*M+2*V+1),A[2*M+2*V+2]+=U*Mt,G(A,2*M+2*V+2)}for(M=0;M<E;M++)A[M]=A[2*M+1]<<16|A[2*M];for(M=E;M<2*E;M++)A[M]=0;return new f(A,0)};function G(R,E){for(;(R[E]&65535)!=R[E];)R[E+1]+=R[E]>>>16,R[E]&=65535,E++}function K(R,E){this.g=R,this.h=E}function J(R,E){if(D(E))throw Error("division by zero");if(D(R))return new K(w,w);if(O(R))return E=J(L(R),E),new K(L(E.g),L(E.h));if(O(E))return E=J(R,L(E)),new K(L(E.g),E.h);if(30<R.g.length){if(O(R)||O(E))throw Error("slowDivide_ only works with positive integers.");for(var A=T,M=E;0>=M.l(R);)A=F(A),M=F(M);var V=ct(A,1),U=ct(M,1);for(M=ct(M,2),A=ct(A,2);!D(M);){var N=U.add(M);0>=N.l(R)&&(V=V.add(A),U=N),M=ct(M,1),A=ct(A,1)}return E=z(R,V.j(E)),new K(V,E)}for(V=w;0<=R.l(E);){for(A=Math.max(1,Math.floor(R.m()/E.m())),M=Math.ceil(Math.log(A)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),U=g(A),N=U.j(E);O(N)||0<N.l(R);)A-=M,U=g(A),N=U.j(E);D(U)&&(U=T),V=V.add(U),R=z(R,N)}return new K(V,R)}r.A=function(R){return J(this,R).h},r.and=function(R){for(var E=Math.max(this.g.length,R.g.length),A=[],M=0;M<E;M++)A[M]=this.i(M)&R.i(M);return new f(A,this.h&R.h)},r.or=function(R){for(var E=Math.max(this.g.length,R.g.length),A=[],M=0;M<E;M++)A[M]=this.i(M)|R.i(M);return new f(A,this.h|R.h)},r.xor=function(R){for(var E=Math.max(this.g.length,R.g.length),A=[],M=0;M<E;M++)A[M]=this.i(M)^R.i(M);return new f(A,this.h^R.h)};function F(R){for(var E=R.g.length+1,A=[],M=0;M<E;M++)A[M]=R.i(M)<<1|R.i(M-1)>>>31;return new f(A,R.h)}function ct(R,E){var A=E>>5;E%=32;for(var M=R.g.length-A,V=[],U=0;U<M;U++)V[U]=0<E?R.i(U+A)>>>E|R.i(U+A+1)<<32-E:R.i(U+A);return new f(V,R.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,CT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=v,Zi=f}).apply(typeof v0<"u"?v0:typeof self<"u"?self:typeof window<"u"?window:{});var rf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var RT,Fl,xT,gf,Km,IT,DT,NT;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function e(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof rf=="object"&&rf];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=e(this);function o(c,y){if(y)t:{var _=s;c=c.split(".");for(var C=0;C<c.length-1;C++){var H=c[C];if(!(H in _))break t;_=_[H]}c=c[c.length-1],C=_[c],y=y(C),y!=C&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,C=!1,H={next:function(){if(!C&&_<c.length){var tt=_++;return{value:y(tt,c[tt]),done:!1}}return C=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function w(c,y,_){if(!c)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,C),c.apply(y,H)}}return function(){return c.apply(y,arguments)}}function T(c,y,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,T.apply(null,arguments)}function I(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var C=_.slice();return C.push.apply(C,arguments),c.apply(this,C)}}function D(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(C,H,tt){for(var ht=Array(arguments.length-2),qt=2;qt<arguments.length;qt++)ht[qt-2]=arguments[qt];return y.prototype[H].apply(C,ht)}}function O(c){const y=c.length;if(0<y){const _=Array(y);for(let C=0;C<y;C++)_[C]=c[C];return _}return[]}function L(c,y){for(let _=1;_<arguments.length;_++){const C=arguments[_];if(p(C)){const H=c.length||0,tt=C.length||0;c.length=H+tt;for(let ht=0;ht<tt;ht++)c[H+ht]=C[ht]}else c.push(C)}}class z{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function G(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function J(c){return J[" "](c),c}J[" "]=function(){};var F=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function ct(c,y,_){for(const C in c)y.call(_,c[C],C,c)}function R(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function E(c){const y={};for(const _ in c)y[_]=c[_];return y}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let _,C;for(let H=1;H<arguments.length;H++){C=arguments[H];for(_ in C)c[_]=C[_];for(let tt=0;tt<A.length;tt++)_=A[tt],Object.prototype.hasOwnProperty.call(C,_)&&(c[_]=C[_])}}function V(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function U(c){d.setTimeout(()=>{throw c},0)}function N(){var c=St;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Mt{constructor(){this.h=this.g=null}add(y,_){const C=Rt.get();C.set(y,_),this.h?this.h.next=C:this.g=C,this.h=C}}var Rt=new z(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ut,et=!1,St=new Mt,P=()=>{const c=d.Promise.resolve(void 0);ut=()=>{c.then(nt)}};var nt=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(_){U(_)}var y=Rt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}et=!1};function ft(){this.s=this.s,this.C=this.C}ft.prototype.s=!1,ft.prototype.ma=function(){this.s||(this.s=!0,this.N())},ft.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var st=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return c}();function dt(c,y){if(W.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,C=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(F){t:{try{J(y.nodeName);var H=!0;break t}catch{}H=!1}H||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:bt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&dt.aa.h.call(this)}}D(dt,W);var bt={2:"touch",3:"pen",4:"mouse"};dt.prototype.h=function(){dt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),Pt=0;function ve(c,y,_,C,H){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!C,this.ha=H,this.key=++Pt,this.da=this.fa=!1}function We(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function _n(c){this.src=c,this.g={},this.h=0}_n.prototype.add=function(c,y,_,C,H){var tt=c.toString();c=this.g[tt],c||(c=this.g[tt]=[],this.h++);var ht=os(c,y,C,H);return-1<ht?(y=c[ht],_||(y.fa=!1)):(y=new ve(y,this.src,tt,!!C,H),y.fa=_,c.push(y)),y};function In(c,y){var _=y.type;if(_ in c.g){var C=c.g[_],H=Array.prototype.indexOf.call(C,y,void 0),tt;(tt=0<=H)&&Array.prototype.splice.call(C,H,1),tt&&(We(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function os(c,y,_,C){for(var H=0;H<c.length;++H){var tt=c[H];if(!tt.da&&tt.listener==y&&tt.capture==!!_&&tt.ha==C)return H}return-1}var ls="closure_lm_"+(1e6*Math.random()|0),Oo={};function Nu(c,y,_,C,H){if(Array.isArray(y)){for(var tt=0;tt<y.length;tt++)Nu(c,y[tt],_,C,H);return null}return _=Ou(_),c&&c[gt]?c.K(y,_,g(C)?!!C.capture:!1,H):Dn(c,y,_,!1,C,H)}function Dn(c,y,_,C,H,tt){if(!y)throw Error("Invalid event type");var ht=g(H)?!!H.capture:!!H,qt=ua(c);if(qt||(c[ls]=qt=new _n(c)),_=qt.add(y,_,C,ht,tt),_.proxy)return _;if(C=yh(),_.proxy=C,C.src=c,C.listener=_,c.addEventListener)st||(H=ht),H===void 0&&(H=!1),c.addEventListener(y.toString(),C,H);else if(c.attachEvent)c.attachEvent(us(y.toString()),C);else if(c.addListener&&c.removeListener)c.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return _}function yh(){function c(_){return y.call(c.src,c.listener,_)}const y=vh;return c}function Mo(c,y,_,C,H){if(Array.isArray(y))for(var tt=0;tt<y.length;tt++)Mo(c,y[tt],_,C,H);else C=g(C)?!!C.capture:!!C,_=Ou(_),c&&c[gt]?(c=c.i,y=String(y).toString(),y in c.g&&(tt=c.g[y],_=os(tt,_,C,H),-1<_&&(We(tt[_]),Array.prototype.splice.call(tt,_,1),tt.length==0&&(delete c.g[y],c.h--)))):c&&(c=ua(c))&&(y=c.g[y.toString()],c=-1,y&&(c=os(y,_,C,H)),(_=-1<c?y[c]:null)&&la(_))}function la(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[gt])In(y.i,c);else{var _=c.type,C=c.proxy;y.removeEventListener?y.removeEventListener(_,C,c.capture):y.detachEvent?y.detachEvent(us(_),C):y.addListener&&y.removeListener&&y.removeListener(C),(_=ua(y))?(In(_,c),_.h==0&&(_.src=null,y[ls]=null)):We(c)}}}function us(c){return c in Oo?Oo[c]:Oo[c]="on"+c}function vh(c,y){if(c.da)c=!0;else{y=new dt(y,this);var _=c.listener,C=c.ha||c.src;c.fa&&la(c),c=_.call(C,y)}return c}function ua(c){return c=c[ls],c instanceof _n?c:null}var ko="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ou(c){return typeof c=="function"?c:(c[ko]||(c[ko]=function(y){return c.handleEvent(y)}),c[ko])}function pe(){ft.call(this),this.i=new _n(this),this.M=this,this.F=null}D(pe,ft),pe.prototype[gt]=!0,pe.prototype.removeEventListener=function(c,y,_,C){Mo(this,c,y,_,C)};function Zt(c,y){var _,C=c.F;if(C)for(_=[];C;C=C.F)_.push(C);if(c=c.M,C=y.type||y,typeof y=="string")y=new W(y,c);else if(y instanceof W)y.target=y.target||c;else{var H=y;y=new W(C,c),M(y,H)}if(H=!0,_)for(var tt=_.length-1;0<=tt;tt--){var ht=y.g=_[tt];H=bn(ht,C,!0,y)&&H}if(ht=y.g=c,H=bn(ht,C,!0,y)&&H,H=bn(ht,C,!1,y)&&H,_)for(tt=0;tt<_.length;tt++)ht=y.g=_[tt],H=bn(ht,C,!1,y)&&H}pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],C=0;C<_.length;C++)We(_[C]);delete c.g[y],c.h--}}this.F=null},pe.prototype.K=function(c,y,_,C){return this.i.add(String(c),y,!1,_,C)},pe.prototype.L=function(c,y,_,C){return this.i.add(String(c),y,!0,_,C)};function bn(c,y,_,C){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,tt=0;tt<y.length;++tt){var ht=y[tt];if(ht&&!ht.da&&ht.capture==_){var qt=ht.listener,De=ht.ha||ht.src;ht.fa&&In(c.i,ht),H=qt.call(De,C)!==!1&&H}}return H&&!C.defaultPrevented}function Ze(c,y,_){if(typeof c=="function")_&&(c=T(c,_));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function Mu(c){c.g=Ze(()=>{c.g=null,c.i&&(c.i=!1,Mu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class _h extends ft{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Mu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cs(c){ft.call(this),this.h=c,this.g={}}D(cs,ft);var fs=[];function hs(c){ct(c.g,function(y,_){this.g.hasOwnProperty(_)&&la(y)},c),c.g={}}cs.prototype.N=function(){cs.aa.N.call(this),hs(this)},cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hn=d.JSON.stringify,ca=d.JSON.parse,ds=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Lo(){}Lo.prototype.h=null;function Vo(c){return c.h||(c.h=c.i())}function Po(){}var Rr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xr(){W.call(this,"d")}D(xr,W);function Uo(){W.call(this,"c")}D(Uo,W);var sr={},zo=null;function mi(){return zo=zo||new pe}sr.La="serverreachability";function fa(c){W.call(this,sr.La,c)}D(fa,W);function pi(c){const y=mi();Zt(y,new fa(y))}sr.STAT_EVENT="statevent";function ku(c,y){W.call(this,sr.STAT_EVENT,c),this.stat=y}D(ku,W);function ce(c){const y=mi();Zt(y,new ku(y,c))}sr.Ma="timingevent";function Ie(c,y){W.call(this,sr.Ma,c),this.size=y}D(Ie,W);function we(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function Nn(){this.g=!0}Nn.prototype.xa=function(){this.g=!1};function jo(c,y,_,C,H,tt){c.info(function(){if(c.g)if(tt)for(var ht="",qt=tt.split("&"),De=0;De<qt.length;De++){var Ht=qt[De].split("=");if(1<Ht.length){var Ue=Ht[0];Ht=Ht[1];var Ne=Ue.split("_");ht=2<=Ne.length&&Ne[1]=="type"?ht+(Ue+"="+Ht+"&"):ht+(Ue+"=redacted&")}}else ht=null;else ht=tt;return"XMLHTTP REQ ("+C+") [attempt "+H+"]: "+y+`
`+_+`
`+ht})}function bh(c,y,_,C,H,tt,ht){c.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+H+"]: "+y+`
`+_+`
`+tt+" "+ht})}function gi(c,y,_,C){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ms(c,_)+(C?" "+C:"")})}function Lu(c,y){c.info(function(){return"TIMEOUT: "+y})}Nn.prototype.info=function(){};function ms(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var C=_[c];if(!(2>C.length)){var H=C[1];if(Array.isArray(H)&&!(1>H.length)){var tt=H[0];if(tt!="noop"&&tt!="stop"&&tt!="close")for(var ht=1;ht<H.length;ht++)H[ht]=""}}}}return Hn(_)}catch{return y}}var yi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ir={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ar;function or(){}D(or,Lo),or.prototype.g=function(){return new XMLHttpRequest},or.prototype.i=function(){return{}},ar=new or;function on(c,y,_,C){this.j=c,this.i=y,this.l=_,this.R=C||1,this.U=new cs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _e}function _e(){this.i=null,this.g="",this.h=!1}var Bo={},ha={};function Fn(c,y,_){c.L=1,c.v=_s(Tn(y)),c.m=_,c.P=!0,Dr(c,null)}function Dr(c,y){c.F=Date.now(),ps(c),c.A=Tn(c.v);var _=c.A,C=c.R;Array.isArray(C)||(C=[String(C)]),Qo(_.i,"t",C),c.C=0,_=c.j.J,c.h=new _e,c.g=Wu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new _h(T(c.Y,c,c.g),c.O)),y=c.U,_=c.g,C=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(fs[0]=H.toString()),H=fs);for(var tt=0;tt<H.length;tt++){var ht=Nu(_,H[tt],C||y.handleEvent,!1,y.h||y);if(!ht)break;y.g[ht.key]=ht}y=c.H?E(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),pi(),jo(c.i,c.u,c.A,c.l,c.R,c.m)}on.prototype.ca=function(c){c=c.target;const y=this.M;y&&Ln(c)==3?y.j():this.Y(c)},on.prototype.Y=function(c){try{if(c==this.g)t:{const Ne=Ln(this.g);var y=this.g.Ba();const Ur=this.g.Z();if(!(3>Ne)&&(Ne!=3||this.g&&(this.h.h||this.g.oa()||qu(this.g)))){this.J||Ne!=4||y==7||(y==8||0>=Ur?pi(3):pi(2)),vi(this);var _=this.g.Z();this.X=_;e:if(Vu(this)){var C=qu(this.g);c="";var H=C.length,tt=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qe(this),lr(this);var ht="";break e}this.h.i=new d.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,c+=this.h.i.decode(C[y],{stream:!(tt&&y==H-1)});C.length=0,this.h.g+=c,this.C=0,ht=this.h.g}else ht=this.g.oa();if(this.o=_==200,bh(this.i,this.u,this.A,this.l,this.R,Ne,_),this.o){if(this.T&&!this.K){e:{if(this.g){var qt,De=this.g;if((qt=De.g?De.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(qt)){var Ht=qt;break e}}Ht=null}if(_=Ht)gi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gs(this,_);else{this.o=!1,this.s=3,ce(12),qe(this),lr(this);break t}}if(this.P){_=!0;let He;for(;!this.J&&this.C<ht.length;)if(He=Pu(this,ht),He==ha){Ne==4&&(this.s=4,ce(14),_=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(He==Bo){this.s=4,ce(15),gi(this.i,this.l,ht,"[Invalid Chunk]"),_=!1;break}else gi(this.i,this.l,He,null),gs(this,He);if(Vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||ht.length!=0||this.h.h||(this.s=1,ce(16),_=!1),this.o=this.o&&_,!_)gi(this.i,this.l,ht,"[Invalid Chunked Response]"),qe(this),lr(this);else if(0<ht.length&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.ba&&!Ue.M&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+ht.length),Rs(Ue),Ue.M=!0,ce(11))}}else gi(this.i,this.l,ht,null),gs(this,ht);Ne==4&&qe(this),this.o&&!this.J&&(Ne==4?Ku(this.j,this):(this.o=!1,ps(this)))}else Ah(this.g),_==400&&0<ht.indexOf("Unknown SID")?(this.s=3,ce(12)):(this.s=0,ce(13)),qe(this),lr(this)}}}catch{}finally{}};function Vu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Pu(c,y){var _=c.C,C=y.indexOf(`
`,_);return C==-1?ha:(_=Number(y.substring(_,C)),isNaN(_)?Bo:(C+=1,C+_>y.length?ha:(y=y.slice(C,C+_),c.C=C+_,y)))}on.prototype.cancel=function(){this.J=!0,qe(this)};function ps(c){c.S=Date.now()+c.I,Uu(c,c.I)}function Uu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=we(T(c.ba,c),y)}function vi(c){c.B&&(d.clearTimeout(c.B),c.B=null)}on.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Lu(this.i,this.A),this.L!=2&&(pi(),ce(17)),qe(this),this.s=2,lr(this)):Uu(this,this.S-c)};function lr(c){c.j.G==0||c.J||Ku(c.j,c)}function qe(c){vi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,hs(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function gs(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Go(_.h,c))){if(!c.K&&Go(_.h,c)&&_.G==3){try{var C=_.Da.g.parse(y)}catch{C=null}if(Array.isArray(C)&&C.length==3){var H=C;if(H[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Sa(_),Ea(_);else break t;Zo(_),ce(18)}}else _.za=H[1],0<_.za-_.T&&37500>H[2]&&_.F&&_.v==0&&!_.C&&(_.C=we(T(_.Za,_),6e3));if(1>=ma(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Pr(_,11)}else if((c.K||_.g==c)&&Sa(_),!G(y))for(H=_.Da.g.parse(y),y=0;y<H.length;y++){let Ht=H[y];if(_.T=Ht[0],Ht=Ht[1],_.G==2)if(Ht[0]=="c"){_.K=Ht[1],_.ia=Ht[2];const Ue=Ht[3];Ue!=null&&(_.la=Ue,_.j.info("VER="+_.la));const Ne=Ht[4];Ne!=null&&(_.Aa=Ne,_.j.info("SVER="+_.Aa));const Ur=Ht[5];Ur!=null&&typeof Ur=="number"&&0<Ur&&(C=1.5*Ur,_.L=C,_.j.info("backChannelRequestTimeoutMs_="+C)),C=_;const He=c.g;if(He){const pr=He.g?He.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pr){var tt=C.h;tt.g||pr.indexOf("spdy")==-1&&pr.indexOf("quic")==-1&&pr.indexOf("h2")==-1||(tt.j=tt.l,tt.g=new Set,tt.h&&(pa(tt,tt.h),tt.h=null))}if(C.D){const tl=He.g?He.g.getResponseHeader("X-HTTP-Session-Id"):null;tl&&(C.ya=tl,ee(C.I,C.D,tl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),C=_;var ht=c;if(C.qa=Xu(C,C.J?C.ia:null,C.W),ht.K){ln(C.h,ht);var qt=ht,De=C.L;De&&(qt.I=De),qt.B&&(vi(qt),ps(qt)),C.g=ht}else $u(C);0<_.i.length&&wa(_)}else Ht[0]!="stop"&&Ht[0]!="close"||Pr(_,7);else _.G==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?Pr(_,7):Xo(_):Ht[0]!="noop"&&_.l&&_.l.ta(Ht),_.v=0)}}pi(4)}catch{}}var zu=class{constructor(c,y){this.g=c,this.map=y}};function Nr(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function da(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ma(c){return c.h?1:c.g?c.g.size:0}function Go(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function pa(c,y){c.g?c.g.add(y):c.h=y}function ln(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Nr.prototype.cancel=function(){if(this.i=qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function qo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return O(c.i)}function Th(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,C=0;C<_;C++)y.push(c[C]);return y}y=[],_=0;for(C in c)y[_++]=c[C];return y}function ga(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const C in c)y[_++]=C;return y}}}function Ho(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=ga(c),C=Th(c),H=C.length,tt=0;tt<H;tt++)y.call(void 0,C[tt],_&&_[tt],c)}var ys=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Eh(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var C=c[_].indexOf("="),H=null;if(0<=C){var tt=c[_].substring(0,C);H=c[_].substring(C+1)}else tt=c[_];y(tt,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Se(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Se){this.h=c.h,vs(this,c.j),this.o=c.o,this.g=c.g,_i(this,c.s),this.l=c.l;var y=c.i,_=new Mr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Or(this,_),this.m=c.m}else c&&(y=String(c).match(ys))?(this.h=!1,vs(this,y[1]||"",!0),this.o=On(y[2]||""),this.g=On(y[3]||"",!0),_i(this,y[4]),this.l=On(y[5]||"",!0),Or(this,y[6]||"",!0),this.m=On(y[7]||"")):(this.h=!1,this.i=new Mr(null,this.h))}Se.prototype.toString=function(){var c=[],y=this.j;y&&c.push(bs(y,Fo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(bs(y,Fo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(bs(_,_.charAt(0)=="/"?wh:$o,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",bs(_,ya)),c.join("")};function Tn(c){return new Se(c)}function vs(c,y,_){c.j=_?On(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function _i(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Or(c,y,_){y instanceof Mr?(c.i=y,Bu(c.i,c.h)):(_||(y=bs(y,Sh)),c.i=new Mr(y,c.h))}function ee(c,y,_){c.i.set(y,_)}function _s(c){return ee(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function On(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function bs(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,ju),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ju(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Fo=/[#\/\?@]/g,$o=/[#\?:]/g,wh=/[#\?]/g,Sh=/[#\?@]/g,ya=/#/g;function Mr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Mn(c){c.g||(c.g=new Map,c.h=0,c.i&&Eh(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Mr.prototype,r.add=function(c,y){Mn(this),this.i=null,c=ur(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function kr(c,y){Mn(c),y=ur(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Lr(c,y){return Mn(c),y=ur(c,y),c.g.has(y)}r.forEach=function(c,y){Mn(this),this.g.forEach(function(_,C){_.forEach(function(H){c.call(y,H,C,this)},this)},this)},r.na=function(){Mn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let C=0;C<y.length;C++){const H=c[C];for(let tt=0;tt<H.length;tt++)_.push(y[C])}return _},r.V=function(c){Mn(this);let y=[];if(typeof c=="string")Lr(this,c)&&(y=y.concat(this.g.get(ur(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return Mn(this),this.i=null,c=ur(this,c),Lr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Qo(c,y,_){kr(c,y),0<_.length&&(c.i=null,c.g.set(ur(c,y),O(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var C=y[_];const tt=encodeURIComponent(String(C)),ht=this.V(C);for(C=0;C<ht.length;C++){var H=tt;ht[C]!==""&&(H+="="+encodeURIComponent(String(ht[C]))),c.push(H)}}return this.i=c.join("&")};function ur(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Bu(c,y){y&&!c.j&&(Mn(c),c.i=null,c.g.forEach(function(_,C){var H=C.toLowerCase();C!=H&&(kr(this,C),Qo(this,H,_))},c)),c.j=y}function Ts(c,y){const _=new Nn;if(d.Image){const C=new Image;C.onload=I(kn,_,"TestLoadImage: loaded",!0,y,C),C.onerror=I(kn,_,"TestLoadImage: error",!1,y,C),C.onabort=I(kn,_,"TestLoadImage: abort",!1,y,C),C.ontimeout=I(kn,_,"TestLoadImage: timeout",!1,y,C),d.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=c}else y(!1)}function $n(c,y){const _=new Nn,C=new AbortController,H=setTimeout(()=>{C.abort(),kn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:C.signal}).then(tt=>{clearTimeout(H),tt.ok?kn(_,"TestPingServer: ok",!0,y):kn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),kn(_,"TestPingServer: error",!1,y)})}function kn(c,y,_,C,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),C(_)}catch{}}function Es(){this.g=new ds}function cr(c,y,_){const C=_||"";try{Ho(c,function(H,tt){let ht=H;g(H)&&(ht=Hn(H)),y.push(C+tt+"="+encodeURIComponent(ht))})}catch(H){throw y.push(C+"type="+encodeURIComponent("_badmap")),H}}function bi(c){this.l=c.Ub||null,this.j=c.eb||!1}D(bi,Lo),bi.prototype.g=function(){return new Vr(this.l,this.j)},bi.prototype.i=function(c){return function(){return c}}({});function Vr(c,y){pe.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Vr,pe),r=Vr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,hr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,hr(this)),this.g&&(this.readyState=3,hr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ko(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ko(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?fr(this):hr(this),this.readyState==3&&Ko(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,fr(this))},r.Qa=function(c){this.g&&(this.response=c,fr(this))},r.ga=function(){this.g&&fr(this)};function fr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,hr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function hr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Vr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Yo(c){let y="";return ct(c,function(_,C){y+=C,y+=":",y+=_,y+=`\r
`}),y}function Pe(c,y,_){t:{for(C in _){var C=!1;break t}C=!0}C||(_=Yo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):ee(c,y,_))}function Xt(c){pe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Xt,pe);var va=/^https?$/i,ws=["POST","PUT"];r=Xt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ar.g(),this.v=this.o?Vo(this.o):Vo(ar),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(tt){Gu(this,tt);return}if(c=_||"",_=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var H in C)_.set(H,C[H]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const tt of C.keys())_.set(tt,C.get(tt));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(_.keys()).find(tt=>tt.toLowerCase()=="content-type"),H=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ws,y,void 0))||C||H||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[tt,ht]of _)this.g.setRequestHeader(tt,ht);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ss(this),this.u=!0,this.g.send(c),this.u=!1}catch(tt){Gu(this,tt)}};function Gu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,_a(c),dr(c)}function _a(c){c.A||(c.A=!0,Zt(c,"complete"),Zt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Zt(this,"complete"),Zt(this,"abort"),dr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dr(this,!0)),Xt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ba(this):this.bb())},r.bb=function(){ba(this)};function ba(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Ln(c)!=4||c.Z()!=2)){if(c.u&&Ln(c)==4)Ze(c.Ea,0,c);else if(Zt(c,"readystatechange"),Ln(c)==4){c.h=!1;try{const ht=c.Z();t:switch(ht){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var C;if(C=ht===0){var H=String(c.D).match(ys)[1]||null;!H&&d.self&&d.self.location&&(H=d.self.location.protocol.slice(0,-1)),C=!va.test(H?H.toLowerCase():"")}_=C}if(_)Zt(c,"complete"),Zt(c,"success");else{c.m=6;try{var tt=2<Ln(c)?c.g.statusText:""}catch{tt=""}c.l=tt+" ["+c.Z()+"]",_a(c)}}finally{dr(c)}}}}function dr(c,y){if(c.g){Ss(c);const _=c.g,C=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Zt(c,"ready");try{_.onreadystatechange=C}catch{}}}function Ss(c){c.I&&(d.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Ln(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ca(y)}};function qu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ah(c){const y={};c=(c.g&&2<=Ln(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<c.length;C++){if(G(c[C]))continue;var _=V(c[C]);const H=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const tt=y[H]||[];y[H]=tt,tt.push(_)}R(y,function(C){return C.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function As(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Ta(c){this.Aa=0,this.i=[],this.j=new Nn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=As("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=As("baseRetryDelayMs",5e3,c),this.cb=As("retryDelaySeedMs",1e4,c),this.Wa=As("forwardChannelMaxRetries",2,c),this.wa=As("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Nr(c&&c.concurrentRequestLimit),this.Da=new Es,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ta.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,C){ce(0),this.W=c,this.H=y||{},_&&C!==void 0&&(this.H.OSID=_,this.H.OAID=C),this.F=this.X,this.I=Xu(this,null,this.W),wa(this)};function Xo(c){if(Hu(c),c.G==3){var y=c.U++,_=Tn(c.I);if(ee(_,"SID",c.K),ee(_,"RID",y),ee(_,"TYPE","terminate"),Cs(c,_),y=new on(c,c.j,y),y.L=2,y.v=_s(Tn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=Wu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ps(y)}Yu(c)}function Ea(c){c.g&&(Rs(c),c.g.cancel(),c.g=null)}function Hu(c){Ea(c),c.u&&(d.clearTimeout(c.u),c.u=null),Sa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function wa(c){if(!da(c.h)&&!c.s){c.s=!0;var y=c.Ga;ut||P(),et||(ut(),et=!0),St.add(y,c),c.B=0}}function Ch(c,y){return ma(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=we(T(c.Ga,c,y),Jo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new on(this,this.j,c);let tt=this.o;if(this.S&&(tt?(tt=E(tt),M(tt,this.S)):tt=this.S),this.m!==null||this.O||(H.H=tt,tt=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var C=this.i[_];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break e}C=void 0}if(C===void 0)break;if(y+=C,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=Fu(this,H,y),_=Tn(this.I),ee(_,"RID",c),ee(_,"CVER",22),this.D&&ee(_,"X-HTTP-Session-Id",this.D),Cs(this,_),tt&&(this.O?y="headers="+encodeURIComponent(String(Yo(tt)))+"&"+y:this.m&&Pe(_,this.m,tt)),pa(this.h,H),this.Ua&&ee(_,"TYPE","init"),this.P?(ee(_,"$req",y),ee(_,"SID","null"),H.T=!0,Fn(H,_,null)):Fn(H,_,y),this.G=2}}else this.G==3&&(c?Wo(this,c):this.i.length==0||da(this.h)||Wo(this))};function Wo(c,y){var _;y?_=y.l:_=c.U++;const C=Tn(c.I);ee(C,"SID",c.K),ee(C,"RID",_),ee(C,"AID",c.T),Cs(c,C),c.m&&c.o&&Pe(C,c.m,c.o),_=new on(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Fu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),pa(c.h,_),Fn(_,C,y)}function Cs(c,y){c.H&&ct(c.H,function(_,C){ee(y,C,_)}),c.l&&Ho({},function(_,C){ee(y,C,_)})}function Fu(c,y,_){_=Math.min(c.i.length,_);var C=c.l?T(c.l.Na,c.l,c):null;t:{var H=c.i;let tt=-1;for(;;){const ht=["count="+_];tt==-1?0<_?(tt=H[0].g,ht.push("ofs="+tt)):tt=0:ht.push("ofs="+tt);let qt=!0;for(let De=0;De<_;De++){let Ht=H[De].g;const Ue=H[De].map;if(Ht-=tt,0>Ht)tt=Math.max(0,H[De].g-100),qt=!1;else try{cr(Ue,ht,"req"+Ht+"_")}catch{C&&C(Ue)}}if(qt){C=ht.join("&");break t}}}return c=c.i.splice(0,_),y.D=c,C}function $u(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ut||P(),et||(ut(),et=!0),St.add(y,c),c.v=0}}function Zo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=we(T(c.Fa,c),Jo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Qu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=we(T(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ce(10),Ea(this),Qu(this))};function Rs(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Qu(c){c.g=new on(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Tn(c.qa);ee(y,"RID","rpc"),ee(y,"SID",c.K),ee(y,"AID",c.T),ee(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&ee(y,"TO",c.ja),ee(y,"TYPE","xmlhttp"),Cs(c,y),c.m&&c.o&&Pe(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=_s(Tn(y)),_.m=null,_.P=!0,Dr(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Ea(this),Zo(this),ce(19))};function Sa(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Ku(c,y){var _=null;if(c.g==y){Sa(c),Rs(c),c.g=null;var C=2}else if(Go(c.h,y))_=y.D,ln(c.h,y),C=1;else return;if(c.G!=0){if(y.o)if(C==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var H=c.B;C=mi(),Zt(C,new Ie(C,_)),wa(c)}else $u(c);else if(H=y.s,H==3||H==0&&0<y.X||!(C==1&&Ch(c,y)||C==2&&Zo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),H){case 1:Pr(c,5);break;case 4:Pr(c,10);break;case 3:Pr(c,6);break;default:Pr(c,2)}}}function Jo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Pr(c,y){if(c.j.info("Error code "+y),y==2){var _=T(c.fb,c),C=c.Xa;const H=!C;C=new Se(C||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||vs(C,"https"),_s(C),H?Ts(C.toString(),_):$n(C.toString(),_)}else ce(2);c.G=0,c.l&&c.l.sa(y),Yu(c),Hu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ce(2)):(this.j.info("Failed to ping google.com"),ce(1))};function Yu(c){if(c.G=0,c.ka=[],c.l){const y=qo(c.h);(y.length!=0||c.i.length!=0)&&(L(c.ka,y),L(c.ka,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.ra()}}function Xu(c,y,_){var C=_ instanceof Se?Tn(_):new Se(_);if(C.g!="")y&&(C.g=y+"."+C.g),_i(C,C.s);else{var H=d.location;C=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var tt=new Se(null);C&&vs(tt,C),y&&(tt.g=y),H&&_i(tt,H),_&&(tt.l=_),C=tt}return _=c.D,y=c.ya,_&&y&&ee(C,_,y),ee(C,"VER",c.la),Cs(c,C),C}function Wu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Xt(new bi({eb:_})):new Xt(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zu(){}r=Zu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Aa(){}Aa.prototype.g=function(c,y){return new un(c,y)};function un(c,y){pe.call(this),this.g=new Ta(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!G(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!G(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new mr(this)}D(un,pe),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Xo(this.g)},un.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Hn(c),c=_);y.i.push(new zu(y.Ya++,c)),y.G==3&&wa(y)},un.prototype.N=function(){this.g.l=null,delete this.j,Xo(this.g),delete this.g,un.aa.N.call(this)};function Ju(c){xr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}D(Ju,xr);function tc(){Uo.call(this),this.status=1}D(tc,Uo);function mr(c){this.g=c}D(mr,Zu),mr.prototype.ua=function(){Zt(this.g,"a")},mr.prototype.ta=function(c){Zt(this.g,new Ju(c))},mr.prototype.sa=function(c){Zt(this.g,new tc)},mr.prototype.ra=function(){Zt(this.g,"b")},Aa.prototype.createWebChannel=Aa.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,NT=function(){return new Aa},DT=function(){return mi()},IT=sr,Km={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yi.NO_ERROR=0,yi.TIMEOUT=8,yi.HTTP_ERROR=6,gf=yi,Ir.COMPLETE="complete",xT=Ir,Po.EventType=Rr,Rr.OPEN="a",Rr.CLOSE="b",Rr.ERROR="c",Rr.MESSAGE="d",pe.prototype.listen=pe.prototype.K,Fl=Po,Xt.prototype.listenOnce=Xt.prototype.L,Xt.prototype.getLastError=Xt.prototype.Ka,Xt.prototype.getLastErrorCode=Xt.prototype.Ba,Xt.prototype.getStatus=Xt.prototype.Z,Xt.prototype.getResponseJson=Xt.prototype.Oa,Xt.prototype.getResponseText=Xt.prototype.oa,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Ha,RT=Xt}).apply(typeof rf<"u"?rf:typeof self<"u"?self:typeof window<"u"?window:{});const _0="@firebase/firestore",b0="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eo="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new Tp("@firebase/firestore");function eo(){return Zs.logLevel}function mt(r,...t){if(Zs.logLevel<=Bt.DEBUG){const e=t.map(Lp);Zs.debug(`Firestore (${Eo}): ${r}`,...e)}}function li(r,...t){if(Zs.logLevel<=Bt.ERROR){const e=t.map(Lp);Zs.error(`Firestore (${Eo}): ${r}`,...e)}}function fo(r,...t){if(Zs.logLevel<=Bt.WARN){const e=t.map(Lp);Zs.warn(`Firestore (${Eo}): ${r}`,...e)}}function Lp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(r,t,e){let s="Unexpected state";typeof t=="string"?s=t:e=t,OT(r,s,e)}function OT(r,t,e){let s=`FIRESTORE (${Eo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(e!==void 0)try{s+=" CONTEXT: "+JSON.stringify(e)}catch{s+=" CONTEXT: "+e}throw li(s),new Error(s)}function Wt(r,t,e,s){let o="Unexpected state";typeof e=="string"?o=e:s=e,r||OT(t,o,s)}function Nt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends hi{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Nx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(nn.UNAUTHENTICATED))}shutdown(){}}class Ox{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Mx{constructor(t){this.t=t,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Wt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,e(p)):Promise.resolve();let u=new ni;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ni,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ni)}},0),f()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(s=>this.i!==t?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Wt(typeof s.accessToken=="string",31837,{l:s}),new MT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Wt(t===null||typeof t=="string",2055,{h:t}),new nn(t)}}class kx{constructor(t,e,s){this.P=t,this.T=e,this.I=s,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Lx{constructor(t,e,s){this.P=t,this.T=e,this.I=s}getToken(){return Promise.resolve(new kx(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class T0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vx{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Wt(this.o===void 0,3512);const s=u=>{u.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,mt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new T0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Wt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new T0(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<r;s++)e[s]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Px(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<e&&(s+=t.charAt(o[u]%62))}return s}}function Vt(r,t){return r<t?-1:r>t?1:0}function Ym(r,t){let e=0;for(;e<r.length&&e<t.length;){const s=r.codePointAt(e),o=t.codePointAt(e);if(s!==o){if(s<128&&o<128)return Vt(s,o);{const u=kT(),f=Ux(u.encode(E0(r,e)),u.encode(E0(t,e)));return f!==0?f:Vt(s,o)}}e+=s>65535?2:1}return Vt(r.length,t.length)}function E0(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function Ux(r,t){for(let e=0;e<r.length&&e<t.length;++e)if(r[e]!==t[e])return Vt(r[e],t[e]);return Vt(r.length,t.length)}function ho(r,t,e){return r.length===t.length&&r.every((s,o)=>e(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=-62135596800,S0=1e6;class Le{static now(){return Le.fromMillis(Date.now())}static fromDate(t){return Le.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*S0);return new Le(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new pt(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new pt(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<w0)throw new pt(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pt(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/S0}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-w0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{static fromTimestamp(t){return new Dt(t)}static min(){return new Dt(new Le(0,0))}static max(){return new Dt(new Le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="__name__";class Tr{constructor(t,e,s){e===void 0?e=0:e>t.length&&Ct(637,{offset:e,range:t.length}),s===void 0?s=t.length-e:s>t.length-e&&Ct(1746,{length:s,range:t.length-e}),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return Tr.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Tr?t.forEach(s=>{e.push(s)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let o=0;o<s;o++){const u=Tr.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return Vt(t.length,e.length)}static compareSegments(t,e){const s=Tr.isNumericId(t),o=Tr.isNumericId(e);return s&&!o?-1:!s&&o?1:s&&o?Tr.extractNumericId(t).compare(Tr.extractNumericId(e)):Ym(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zi.fromString(t.substring(4,t.length-2))}}class ue extends Tr{construct(t,e,s){return new ue(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new pt(lt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter(o=>o.length>0))}return new ue(e)}static emptyPath(){return new ue([])}}const zx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends Tr{construct(t,e,s){return new Ye(t,e,s)}static isValidIdentifier(t){return zx.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===A0}static keyField(){return new Ye([A0])}static fromServerFormat(t){const e=[];let s="",o=0;const u=()=>{if(s.length===0)throw new pt(lt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let f=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new pt(lt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pt(lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else d==="`"?(f=!f,o++):d!=="."||f?(s+=d,o++):(u(),o++)}if(u(),f)throw new pt(lt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ye(e)}static emptyPath(){return new Ye([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(t){this.path=t}static fromPath(t){return new Et(ue.fromString(t))}static fromName(t){return new Et(ue.fromString(t).popFirst(5))}static empty(){return new Et(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ue.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Et(new ue(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=-1;function jx(r,t){const e=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Dt.fromTimestamp(s===1e9?new Le(e+1,0):new Le(e,s));return new es(o,Et.empty(),t)}function Bx(r){return new es(r.readTime,r.key,iu)}class es{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new es(Dt.min(),Et.empty(),iu)}static max(){return new es(Dt.max(),Et.empty(),iu)}}function Gx(r,t){let e=r.readTime.compareTo(t.readTime);return e!==0?e:(e=Et.comparator(r.documentKey,t.documentKey),e!==0?e:Vt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(r){if(r.code!==lt.FAILED_PRECONDITION||r.message!==qx)throw r;mt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Ct(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ot((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(s,o)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ot?e:ot.resolve(e)}catch(e){return ot.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ot.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ot.reject(e)}static resolve(t){return new ot((e,s)=>{e(t)})}static reject(t){return new ot((e,s)=>{s(t)})}static waitFor(t){return new ot((e,s)=>{let o=0,u=0,f=!1;t.forEach(d=>{++o,d.next(()=>{++u,f&&u===o&&e()},p=>s(p))}),f=!0,u===o&&e()})}static or(t){let e=ot.resolve(!1);for(const s of t)e=e.next(o=>o?ot.resolve(o):s());return e}static forEach(t,e){const s=[];return t.forEach((o,u)=>{s.push(e.call(this,o,u))}),this.waitFor(s)}static mapArray(t,e){return new ot((s,o)=>{const u=t.length,f=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;e(t[g]).next(v=>{f[g]=v,++d,d===u&&s(f)},v=>o(v))}})}static doWhile(t,e){return new ot((s,o)=>{const u=()=>{t()===!0?e().next(()=>{u()},o):s()};u()})}}function Fx(r){const t=r.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function So(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>e.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Xf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp=-1;function Wf(r){return r==null}function Of(r){return r===0&&1/r==-1/0}function $x(r){return typeof r=="number"&&Number.isInteger(r)&&!Of(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="";function Qx(r){let t="";for(let e=0;e<r.length;e++)t.length>0&&(t=C0(t)),t=Kx(r.get(e),t);return C0(t)}function Kx(r,t){let e=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":e+="";break;case VT:e+="";break;default:e+=u}}return e}function C0(r){return r+VT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(r){let t=0;for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t++;return t}function ia(r,t){for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t(e,r[e])}function PT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(t,e){this.comparator=t,this.root=e||Ke.EMPTY}insert(t,e){return new me(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(t){return new me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return e+s.left.size;o<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,s)=>(t(e,s),!1))}toString(){const t=[];return this.inorderTraversal((e,s)=>(t.push(`${e}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new sf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new sf(this.root,t,this.comparator,!1)}getReverseIterator(){return new sf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new sf(this.root,t,this.comparator,!0)}}class sf{constructor(t,e,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?s(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ke{constructor(t,e,s,o,u){this.key=t,this.value=e,this.color=s??Ke.RED,this.left=o??Ke.EMPTY,this.right=u??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,o,u){return new Ke(t??this.key,e??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,s),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return Ke.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ct(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ct(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ct(27949);return t+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw Ct(57766)}get value(){throw Ct(16141)}get color(){throw Ct(16727)}get left(){throw Ct(29726)}get right(){throw Ct(36894)}copy(t,e,s,o,u){return this}insert(t,e,s){return new Ke(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t){this.comparator=t,this.data=new me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,s)=>(t(e),!1))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new x0(this.data.getIterator())}getIteratorFrom(t){return new x0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(s=>{e=e.add(s)}),e}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ve(this.comparator);return e.data=t,e}}class x0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t){this.fields=t,t.sort(Ye.comparator)}static empty(){return new Zn([])}unionWith(t){let e=new Ve(Ye.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new Zn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return ho(this.fields,t.fields,(e,s)=>e.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new UT("Invalid base64 string: "+u):u}}(t);return new Xe(e)}static fromUint8Array(t){const e=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new Xe(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const s=new Uint8Array(e.length);for(let o=0;o<e.length;o++)s[o]=e.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const Yx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(r){if(Wt(!!r,39018),typeof r=="string"){let t=0;const e=Yx.exec(r);if(Wt(!!e,46558,{timestamp:r}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ee(r.seconds),nanos:Ee(r.nanos)}}function Ee(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function rs(r){return typeof r=="string"?Xe.fromBase64String(r):Xe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="server_timestamp",jT="__type__",BT="__previous_value__",GT="__local_write_time__";function Pp(r){var t,e;return((e=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[jT])===null||e===void 0?void 0:e.stringValue)===zT}function Zf(r){const t=r.mapValue.fields[BT];return Pp(t)?Zf(t):t}function su(r){const t=ns(r.mapValue.fields[GT].timestampValue);return new Le(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(t,e,s,o,u,f,d,p,g,v){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Mf="(default)";class au{constructor(t,e){this.projectId=t,this.database=e||Mf}static empty(){return new au("","")}get isDefaultDatabase(){return this.database===Mf}isEqual(t){return t instanceof au&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="__type__",Wx="__max__",af={mapValue:{}},HT="__vector__",kf="value";function is(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Pp(r)?4:Jx(r)?9007199254740991:Zx(r)?10:11:Ct(28295,{value:r})}function Cr(r,t){if(r===t)return!0;const e=is(r);if(e!==is(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return su(r).isEqual(su(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ns(o.timestampValue),d=ns(u.timestampValue);return f.seconds===d.seconds&&f.nanos===d.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return rs(o.bytesValue).isEqual(rs(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return Ee(o.geoPointValue.latitude)===Ee(u.geoPointValue.latitude)&&Ee(o.geoPointValue.longitude)===Ee(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Ee(o.integerValue)===Ee(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ee(o.doubleValue),d=Ee(u.doubleValue);return f===d?Of(f)===Of(d):isNaN(f)&&isNaN(d)}return!1}(r,t);case 9:return ho(r.arrayValue.values||[],t.arrayValue.values||[],Cr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},d=u.mapValue.fields||{};if(R0(f)!==R0(d))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(d[p]===void 0||!Cr(f[p],d[p])))return!1;return!0}(r,t);default:return Ct(52216,{left:r})}}function ou(r,t){return(r.values||[]).find(e=>Cr(e,t))!==void 0}function mo(r,t){if(r===t)return 0;const e=is(r),s=is(t);if(e!==s)return Vt(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,t.booleanValue);case 2:return function(u,f){const d=Ee(u.integerValue||u.doubleValue),p=Ee(f.integerValue||f.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(r,t);case 3:return I0(r.timestampValue,t.timestampValue);case 4:return I0(su(r),su(t));case 5:return Ym(r.stringValue,t.stringValue);case 6:return function(u,f){const d=rs(u),p=rs(f);return d.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const d=u.split("/"),p=f.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=Vt(d[g],p[g]);if(v!==0)return v}return Vt(d.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const d=Vt(Ee(u.latitude),Ee(f.latitude));return d!==0?d:Vt(Ee(u.longitude),Ee(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return D0(r.arrayValue,t.arrayValue);case 10:return function(u,f){var d,p,g,v;const w=u.fields||{},T=f.fields||{},I=(d=w[kf])===null||d===void 0?void 0:d.arrayValue,D=(p=T[kf])===null||p===void 0?void 0:p.arrayValue,O=Vt(((g=I==null?void 0:I.values)===null||g===void 0?void 0:g.length)||0,((v=D==null?void 0:D.values)===null||v===void 0?void 0:v.length)||0);return O!==0?O:D0(I,D)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===af.mapValue&&f===af.mapValue)return 0;if(u===af.mapValue)return 1;if(f===af.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=f.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let w=0;w<p.length&&w<v.length;++w){const T=Ym(p[w],v[w]);if(T!==0)return T;const I=mo(d[p[w]],g[v[w]]);if(I!==0)return I}return Vt(p.length,v.length)}(r.mapValue,t.mapValue);default:throw Ct(23264,{Pe:e})}}function I0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Vt(r,t);const e=ns(r),s=ns(t),o=Vt(e.seconds,s.seconds);return o!==0?o:Vt(e.nanos,s.nanos)}function D0(r,t){const e=r.values||[],s=t.values||[];for(let o=0;o<e.length&&o<s.length;++o){const u=mo(e[o],s[o]);if(u)return u}return Vt(e.length,s.length)}function po(r){return Xm(r)}function Xm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(e){const s=ns(e);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(e){return rs(e).toBase64()}(r.bytesValue):"referenceValue"in r?function(e){return Et.fromName(e).toString()}(r.referenceValue):"geoPointValue"in r?function(e){return`geo(${e.latitude},${e.longitude})`}(r.geoPointValue):"arrayValue"in r?function(e){let s="[",o=!0;for(const u of e.values||[])o?o=!1:s+=",",s+=Xm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(e){const s=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Xm(e.fields[f])}`;return o+"}"}(r.mapValue):Ct(61005,{value:r})}function yf(r){switch(is(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Zf(r);return t?16+yf(t):16;case 5:return 2*r.stringValue.length;case 6:return rs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+yf(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return ia(s.fields,(u,f)=>{o+=u.length+yf(f)}),o}(r.mapValue);default:throw Ct(13486,{value:r})}}function N0(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Wm(r){return!!r&&"integerValue"in r}function Up(r){return!!r&&"arrayValue"in r}function O0(r){return!!r&&"nullValue"in r}function M0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function vf(r){return!!r&&"mapValue"in r}function Zx(r){var t,e;return((e=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[qT])===null||e===void 0?void 0:e.stringValue)===HT}function Wl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return ia(r.mapValue.fields,(e,s)=>t.mapValue.fields[e]=Wl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(r.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Wl(r.arrayValue.values[e]);return t}return Object.assign({},r)}function Jx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Wx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t){this.value=t}static empty(){return new qn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!vf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Wl(e)}setAll(t){let e=Ye.emptyPath(),s={},o=[];t.forEach((f,d)=>{if(!e.isImmediateParentOf(d)){const p=this.getFieldsMap(e);this.applyChanges(p,s,o),s={},o=[],e=d.popLast()}f?s[d.lastSegment()]=Wl(f):o.push(d.lastSegment())});const u=this.getFieldsMap(e);this.applyChanges(u,s,o)}delete(t){const e=this.field(t.popLast());vf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Cr(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=e.mapValue.fields[t.get(s)];vf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,s){ia(e,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new qn(Wl(this.value))}}function FT(r){const t=[];return ia(r.fields,(e,s)=>{const o=new Ye([e]);if(vf(s)){const u=FT(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new Zn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t,e,s,o,u,f,d){this.key=t,this.documentType=e,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=d}static newInvalidDocument(t){return new rn(t,0,Dt.min(),Dt.min(),Dt.min(),qn.empty(),0)}static newFoundDocument(t,e,s,o){return new rn(t,1,e,Dt.min(),s,o,0)}static newNoDocument(t,e){return new rn(t,2,e,Dt.min(),Dt.min(),qn.empty(),0)}static newUnknownDocument(t,e){return new rn(t,3,e,Dt.min(),Dt.min(),qn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Dt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(t,e){this.position=t,this.inclusive=e}}function k0(r,t,e){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=Et.comparator(Et.fromName(f.referenceValue),e.key):s=mo(f,e.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function L0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let e=0;e<r.position.length;e++)if(!Cr(r.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(t,e="asc"){this.field=t,this.dir=e}}function tI(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{}class xe extends $T{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new nI(t,e,s):e==="array-contains"?new sI(t,s):e==="in"?new aI(t,s):e==="not-in"?new oI(t,s):e==="array-contains-any"?new lI(t,s):new xe(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new rI(t,s):new iI(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(mo(e,this.value)):e!==null&&is(this.value)===is(e)&&this.matchesComparison(mo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ct(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tr extends $T{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new tr(t,e)}matches(t){return QT(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function QT(r){return r.op==="and"}function KT(r){return eI(r)&&QT(r)}function eI(r){for(const t of r.filters)if(t instanceof tr)return!1;return!0}function Zm(r){if(r instanceof xe)return r.field.canonicalString()+r.op.toString()+po(r.value);if(KT(r))return r.filters.map(t=>Zm(t)).join(",");{const t=r.filters.map(e=>Zm(e)).join(",");return`${r.op}(${t})`}}function YT(r,t){return r instanceof xe?function(s,o){return o instanceof xe&&s.op===o.op&&s.field.isEqual(o.field)&&Cr(s.value,o.value)}(r,t):r instanceof tr?function(s,o){return o instanceof tr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,d)=>u&&YT(f,o.filters[d]),!0):!1}(r,t):void Ct(19439)}function XT(r){return r instanceof xe?function(e){return`${e.field.canonicalString()} ${e.op} ${po(e.value)}`}(r):r instanceof tr?function(e){return e.op.toString()+" {"+e.getFilters().map(XT).join(" ,")+"}"}(r):"Filter"}class nI extends xe{constructor(t,e,s){super(t,e,s),this.key=Et.fromName(s.referenceValue)}matches(t){const e=Et.comparator(t.key,this.key);return this.matchesComparison(e)}}class rI extends xe{constructor(t,e){super(t,"in",e),this.keys=WT("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class iI extends xe{constructor(t,e){super(t,"not-in",e),this.keys=WT("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function WT(r,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(s=>Et.fromName(s.referenceValue))}class sI extends xe{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Up(e)&&ou(e.arrayValue,this.value)}}class aI extends xe{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&ou(this.value.arrayValue,e)}}class oI extends xe{constructor(t,e){super(t,"not-in",e)}matches(t){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!ou(this.value.arrayValue,e)}}class lI extends xe{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Up(e)||!e.arrayValue.values)&&e.arrayValue.values.some(s=>ou(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(t,e=null,s=[],o=[],u=null,f=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=d,this.Ie=null}}function V0(r,t=null,e=[],s=[],o=null,u=null,f=null){return new uI(r,t,e,s,o,u,f)}function zp(r){const t=Nt(r);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(s=>Zm(s)).join(","),e+="|ob:",e+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Wf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(s=>po(s)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(s=>po(s)).join(",")),t.Ie=e}return t.Ie}function jp(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<r.orderBy.length;e++)if(!tI(r.orderBy[e],t.orderBy[e]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let e=0;e<r.filters.length;e++)if(!YT(r.filters[e],t.filters[e]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!L0(r.startAt,t.startAt)&&L0(r.endAt,t.endAt)}function Jm(r){return Et.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(t,e=null,s=[],o=[],u=null,f="F",d=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=d,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function cI(r,t,e,s,o,u,f,d){return new _u(r,t,e,s,o,u,f,d)}function Bp(r){return new _u(r)}function P0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function ZT(r){return r.collectionGroup!==null}function Zl(r){const t=Nt(r);if(t.Ee===null){t.Ee=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ee.push(u),e.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let d=new Ve(Ye.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(t).forEach(u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ee.push(new Vf(u,s))}),e.has(Ye.keyField().canonicalString())||t.Ee.push(new Vf(Ye.keyField(),s))}return t.Ee}function wr(r){const t=Nt(r);return t.de||(t.de=fI(t,Zl(r))),t.de}function fI(r,t){if(r.limitType==="F")return V0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Vf(o.field,u)});const e=r.endAt?new Lf(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Lf(r.startAt.position,r.startAt.inclusive):null;return V0(r.path,r.collectionGroup,t,r.filters,r.limit,e,s)}}function tp(r,t){const e=r.filters.concat([t]);return new _u(r.path,r.collectionGroup,r.explicitOrderBy.slice(),e,r.limit,r.limitType,r.startAt,r.endAt)}function ep(r,t,e){return new _u(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,e,r.startAt,r.endAt)}function Jf(r,t){return jp(wr(r),wr(t))&&r.limitType===t.limitType}function JT(r){return`${zp(wr(r))}|lt:${r.limitType}`}function no(r){return`Query(target=${function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map(o=>XT(o)).join(", ")}]`),Wf(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map(o=>po(o)).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map(o=>po(o)).join(",")),`Target(${s})`}(wr(r))}; limitType=${r.limitType})`}function th(r,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Et.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,t)&&function(s,o){for(const u of Zl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,d,p){const g=k0(f,d,p);return f.inclusive?g<=0:g<0}(s.startAt,Zl(s),o)||s.endAt&&!function(f,d,p){const g=k0(f,d,p);return f.inclusive?g>=0:g>0}(s.endAt,Zl(s),o))}(r,t)}function hI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function tE(r){return(t,e)=>{let s=!1;for(const o of Zl(r)){const u=dI(o,t,e);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function dI(r,t,e){const s=r.field.isKeyField()?Et.comparator(t.key,e.key):function(u,f,d){const p=f.data.field(u),g=d.data.field(u);return p!==null&&g!==null?mo(p,g):Ct(42886)}(r.field,t,e);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ct(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[e]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ia(this.inner,(e,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return PT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=new me(Et.comparator);function ui(){return mI}const eE=new me(Et.comparator);function $l(...r){let t=eE;for(const e of r)t=t.insert(e.key,e);return t}function nE(r){let t=eE;return r.forEach((e,s)=>t=t.insert(e,s.overlayedDocument)),t}function $s(){return Jl()}function rE(){return Jl()}function Jl(){return new sa(r=>r.toString(),(r,t)=>r.isEqual(t))}const pI=new me(Et.comparator),gI=new Ve(Et.comparator);function Gt(...r){let t=gI;for(const e of r)t=t.add(e);return t}const yI=new Ve(Vt);function vI(){return yI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Of(t)?"-0":t}}function iE(r){return{integerValue:""+r}}function _I(r,t){return $x(t)?iE(t):Gp(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(){this._=void 0}}function bI(r,t,e){return r instanceof Pf?function(o,u){const f={fields:{[jT]:{stringValue:zT},[GT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Pp(u)&&(u=Zf(u)),u&&(f.fields[BT]=u),{mapValue:f}}(e,t):r instanceof lu?aE(r,t):r instanceof uu?oE(r,t):function(o,u){const f=sE(o,u),d=U0(f)+U0(o.Re);return Wm(f)&&Wm(o.Re)?iE(d):Gp(o.serializer,d)}(r,t)}function TI(r,t,e){return r instanceof lu?aE(r,t):r instanceof uu?oE(r,t):e}function sE(r,t){return r instanceof Uf?function(s){return Wm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class Pf extends eh{}class lu extends eh{constructor(t){super(),this.elements=t}}function aE(r,t){const e=lE(t);for(const s of r.elements)e.some(o=>Cr(o,s))||e.push(s);return{arrayValue:{values:e}}}class uu extends eh{constructor(t){super(),this.elements=t}}function oE(r,t){let e=lE(t);for(const s of r.elements)e=e.filter(o=>!Cr(o,s));return{arrayValue:{values:e}}}class Uf extends eh{constructor(t,e){super(),this.serializer=t,this.Re=e}}function U0(r){return Ee(r.integerValue||r.doubleValue)}function lE(r){return Up(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function EI(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof lu&&o instanceof lu||s instanceof uu&&o instanceof uu?ho(s.elements,o.elements,Cr):s instanceof Uf&&o instanceof Uf?Cr(s.Re,o.Re):s instanceof Pf&&o instanceof Pf}(r.transform,t.transform)}class wI{constructor(t,e){this.version=t,this.transformResults=e}}class ri{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ri}static exists(t){return new ri(void 0,t)}static updateTime(t){return new ri(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function _f(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class nh{}function uE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new fE(r.key,ri.none()):new bu(r.key,r.data,ri.none());{const e=r.data,s=qn.empty();let o=new Ve(Ye.comparator);for(let u of t.fields)if(!o.has(u)){let f=e.field(u);f===null&&u.length>1&&(u=u.popLast(),f=e.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new aa(r.key,s,new Zn(o.toArray()),ri.none())}}function SI(r,t,e){r instanceof bu?function(o,u,f){const d=o.value.clone(),p=j0(o.fieldTransforms,u,f.transformResults);d.setAll(p),u.convertToFoundDocument(f.version,d).setHasCommittedMutations()}(r,t,e):r instanceof aa?function(o,u,f){if(!_f(o.precondition,u))return void u.convertToUnknownDocument(f.version);const d=j0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(cE(o)),p.setAll(d),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,e):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,e)}function tu(r,t,e,s){return r instanceof bu?function(u,f,d,p){if(!_f(u.precondition,f))return d;const g=u.value.clone(),v=B0(u.fieldTransforms,p,f);return g.setAll(v),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,t,e,s):r instanceof aa?function(u,f,d,p){if(!_f(u.precondition,f))return d;const g=B0(u.fieldTransforms,p,f),v=f.data;return v.setAll(cE(u)),v.setAll(g),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(r,t,e,s):function(u,f,d){return _f(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):d}(r,t,e)}function AI(r,t){let e=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=sE(s.transform,o||null);u!=null&&(e===null&&(e=qn.empty()),e.set(s.field,u))}return e||null}function z0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ho(s,o,(u,f)=>EI(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class bu extends nh{constructor(t,e,s,o=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class aa extends nh{constructor(t,e,s,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function cE(r){const t=new Map;return r.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const s=r.data.field(e);t.set(e,s)}}),t}function j0(r,t,e){const s=new Map;Wt(r.length===e.length,32656,{Ve:e.length,me:r.length});for(let o=0;o<e.length;o++){const u=r[o],f=u.transform,d=t.data.field(u.field);s.set(u.field,TI(f,d,e[o]))}return s}function B0(r,t,e){const s=new Map;for(const o of r){const u=o.transform,f=e.data.field(o.field);s.set(o.field,bI(u,f,t))}return s}class fE extends nh{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CI extends nh{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(t,e,s,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&SI(u,t,s[o])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=tu(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=tu(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=rE();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let d=this.applyToLocalView(f,u.mutatedFields);d=e.has(o.key)?null:d;const p=uE(f,d);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Dt.min())}),s}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Gt())}isEqual(t){return this.batchId===t.batchId&&ho(this.mutations,t.mutations,(e,s)=>z0(e,s))&&ho(this.baseMutations,t.baseMutations,(e,s)=>z0(e,s))}}class qp{constructor(t,e,s,o){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=o}static from(t,e,s){Wt(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let o=function(){return pI}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new qp(t,e,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,$t;function DI(r){switch(r){case lt.OK:return Ct(64938);case lt.CANCELLED:case lt.UNKNOWN:case lt.DEADLINE_EXCEEDED:case lt.RESOURCE_EXHAUSTED:case lt.INTERNAL:case lt.UNAVAILABLE:case lt.UNAUTHENTICATED:return!1;case lt.INVALID_ARGUMENT:case lt.NOT_FOUND:case lt.ALREADY_EXISTS:case lt.PERMISSION_DENIED:case lt.FAILED_PRECONDITION:case lt.ABORTED:case lt.OUT_OF_RANGE:case lt.UNIMPLEMENTED:case lt.DATA_LOSS:return!0;default:return Ct(15467,{code:r})}}function hE(r){if(r===void 0)return li("GRPC error has no .code"),lt.UNKNOWN;switch(r){case Re.OK:return lt.OK;case Re.CANCELLED:return lt.CANCELLED;case Re.UNKNOWN:return lt.UNKNOWN;case Re.DEADLINE_EXCEEDED:return lt.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return lt.RESOURCE_EXHAUSTED;case Re.INTERNAL:return lt.INTERNAL;case Re.UNAVAILABLE:return lt.UNAVAILABLE;case Re.UNAUTHENTICATED:return lt.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return lt.INVALID_ARGUMENT;case Re.NOT_FOUND:return lt.NOT_FOUND;case Re.ALREADY_EXISTS:return lt.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return lt.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return lt.FAILED_PRECONDITION;case Re.ABORTED:return lt.ABORTED;case Re.OUT_OF_RANGE:return lt.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return lt.UNIMPLEMENTED;case Re.DATA_LOSS:return lt.DATA_LOSS;default:return Ct(39323,{code:r})}}($t=Re||(Re={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=new Zi([4294967295,4294967295],0);function G0(r){const t=kT().encode(r),e=new CT;return e.update(t),new Uint8Array(e.digest())}function q0(r){const t=new DataView(r.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Zi([e,s],0),new Zi([o,u],0)]}class Hp{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new Ql(`Invalid padding: ${e}`);if(s<0)throw new Ql(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=Zi.fromNumber(this.pe)}we(t,e,s){let o=t.add(e.multiply(Zi.fromNumber(s)));return o.compare(NI)===1&&(o=new Zi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=G0(t),[s,o]=q0(e);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(t,e,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Hp(u,o,e);return s.forEach(d=>f.insert(d)),f}insert(t){if(this.pe===0)return;const e=G0(t),[s,o]=q0(e);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(t,e,s,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const o=new Map;return o.set(t,Tu.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new rh(Dt.min(),o,new me(Vt),ui(),Gt())}}class Tu{constructor(t,e,s,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new Tu(s,e,Gt(),Gt(),Gt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(t,e,s,o){this.De=t,this.removedTargetIds=e,this.key=s,this.ve=o}}class dE{constructor(t,e){this.targetId=t,this.Ce=e}}class mE{constructor(t,e,s=Xe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=o}}class H0{constructor(){this.Fe=0,this.Me=F0(),this.xe=Xe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Gt(),e=Gt(),s=Gt();return this.Me.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:s=s.add(o);break;default:Ct(38017,{changeType:u})}}),new Tu(this.xe,this.Oe,t,e,s)}Qe(){this.Ne=!1,this.Me=F0()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Wt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class OI{constructor(t){this.ze=t,this.je=new Map,this.He=ui(),this.Je=of(),this.Ye=of(),this.Ze=new me(Vt)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const s=this.rt(e);switch(t.state){case 0:this.it(e)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(e);break;case 3:this.it(e)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),s.ke(t.resumeToken));break;default:Ct(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((s,o)=>{this.it(o)&&e(o)})}ot(t){const e=t.targetId,s=t.Ce.count,o=this._t(e);if(o){const u=o.target;if(Jm(u))if(s===0){const f=new Et(u.path);this.tt(e,f,rn.newNoDocument(f,Dt.min()))}else Wt(s===1,20013,{expectedCount:s});else{const f=this.ut(e);if(f!==s){const d=this.ct(t),p=d?this.lt(d,t,f):1;if(p!==0){this.st(e);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,g)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=e;let f,d;try{f=rs(s).toUint8Array()}catch(p){if(p instanceof UT)return fo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Hp(f,o,u)}catch(p){return fo(p instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.pe===0?null:d}lt(t,e,s){return e.Ce.count===s-this.Tt(t,e.targetId)?0:2}Tt(t,e){const s=this.ze.getRemoteKeysForTarget(e);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),d=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.tt(e,u,null),o++)}),o}It(t){const e=new Map;this.je.forEach((u,f)=>{const d=this._t(f);if(d){if(u.current&&Jm(d.target)){const p=new Et(d.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,rn.newNoDocument(p,t))}u.Le&&(e.set(f,u.qe()),u.Qe())}});let s=Gt();this.Ye.forEach((u,f)=>{let d=!0;f.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(t));const o=new rh(t,e,this.Ze,this.He,s);return this.He=ui(),this.Je=of(),this.Ye=of(),this.Ze=new me(Vt),o}et(t,e){if(!this.it(t))return;const s=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,s),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,s){if(!this.it(t))return;const o=this.rt(t);this.dt(t,e)?o.$e(e,1):o.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),s&&(this.He=this.He.insert(e,s))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new H0,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new Ve(Vt),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new Ve(Vt),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||mt("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new H0),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function of(){return new me(Et.comparator)}function F0(){return new me(Et.comparator)}const MI={asc:"ASCENDING",desc:"DESCENDING"},kI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LI={and:"AND",or:"OR"};class VI{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function np(r,t){return r.useProto3Json||Wf(t)?t:{value:t}}function zf(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function pE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function PI(r,t){return zf(r,t.toTimestamp())}function Sr(r){return Wt(!!r,49232),Dt.fromTimestamp(function(e){const s=ns(e);return new Le(s.seconds,s.nanos)}(r))}function Fp(r,t){return rp(r,t).canonicalString()}function rp(r,t){const e=function(o){return new ue(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?e:e.child(t)}function gE(r){const t=ue.fromString(r);return Wt(TE(t),10190,{key:t.toString()}),t}function ip(r,t){return Fp(r.databaseId,t.path)}function Nm(r,t){const e=gE(t);if(e.get(1)!==r.databaseId.projectId)throw new pt(lt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+r.databaseId.projectId);if(e.get(3)!==r.databaseId.database)throw new pt(lt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+r.databaseId.database);return new Et(vE(e))}function yE(r,t){return Fp(r.databaseId,t)}function UI(r){const t=gE(r);return t.length===4?ue.emptyPath():vE(t)}function sp(r){return new ue(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function vE(r){return Wt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function $0(r,t,e){return{name:ip(r,t),fields:e.value.mapValue.fields}}function zI(r,t){let e;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ct(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(Wt(v===void 0||typeof v=="string",58123),Xe.fromBase64String(v||"")):(Wt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Xe.fromUint8Array(v||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,d=f&&function(g){const v=g.code===void 0?lt.UNKNOWN:hE(g.code);return new pt(v,g.message||"")}(f);e=new mE(s,o,u,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Nm(r,s.document.name),u=Sr(s.document.updateTime),f=s.document.createTime?Sr(s.document.createTime):Dt.min(),d=new qn({mapValue:{fields:s.document.fields}}),p=rn.newFoundDocument(o,u,f,d),g=s.targetIds||[],v=s.removedTargetIds||[];e=new bf(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Nm(r,s.document),u=s.readTime?Sr(s.readTime):Dt.min(),f=rn.newNoDocument(o,u),d=s.removedTargetIds||[];e=new bf([],d,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Nm(r,s.document),u=s.removedTargetIds||[];e=new bf([],u,o,null)}else{if(!("filter"in t))return Ct(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new II(o,u),d=s.targetId;e=new dE(d,f)}}return e}function jI(r,t){let e;if(t instanceof bu)e={update:$0(r,t.key,t.value)};else if(t instanceof fE)e={delete:ip(r,t.key)};else if(t instanceof aa)e={update:$0(r,t.key,t.data),updateMask:YI(t.fieldMask)};else{if(!(t instanceof CI))return Ct(16599,{ft:t.type});e={verify:ip(r,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const d=f.transform;if(d instanceof Pf)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof lu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof uu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Uf)return{fieldPath:f.field.canonicalString(),increment:d.Re};throw Ct(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(e.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:PI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ct(27497)}(r,t.precondition)),e}function BI(r,t){return r&&r.length>0?(Wt(t!==void 0,14353),r.map(e=>function(o,u){let f=o.updateTime?Sr(o.updateTime):Sr(u);return f.isEqual(Dt.min())&&(f=Sr(u)),new wI(f,o.transformResults||[])}(e,t))):[]}function GI(r,t){return{documents:[yE(r,t.path)]}}function qI(r,t){const e={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=yE(r,o);const u=function(g){if(g.length!==0)return bE(tr.create(g,"and"))}(t.filters);u&&(e.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(v=>function(T){return{field:ro(T.field),direction:$I(T.dir)}}(v))}(t.orderBy);f&&(e.structuredQuery.orderBy=f);const d=np(r,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{gt:e,parent:o}}function HI(r){let t=UI(r.parent);const e=r.structuredQuery,s=e.from?e.from.length:0;let o=null;if(s>0){Wt(s===1,65062);const v=e.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];e.where&&(u=function(w){const T=_E(w);return T instanceof tr&&KT(T)?T.getFilters():[T]}(e.where));let f=[];e.orderBy&&(f=function(w){return w.map(T=>function(D){return new Vf(io(D.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(T))}(e.orderBy));let d=null;e.limit&&(d=function(w){let T;return T=typeof w=="object"?w.value:w,Wf(T)?null:T}(e.limit));let p=null;e.startAt&&(p=function(w){const T=!!w.before,I=w.values||[];return new Lf(I,T)}(e.startAt));let g=null;return e.endAt&&(g=function(w){const T=!w.before,I=w.values||[];return new Lf(I,T)}(e.endAt)),cI(t,o,f,u,d,"F",p,g)}function FI(r,t){const e=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ct(28987,{purpose:o})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function _E(r){return r.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=io(e.unaryFilter.field);return xe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=io(e.unaryFilter.field);return xe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=io(e.unaryFilter.field);return xe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=io(e.unaryFilter.field);return xe.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ct(61313);default:return Ct(60726)}}(r):r.fieldFilter!==void 0?function(e){return xe.create(io(e.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ct(58110);default:return Ct(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(e){return tr.create(e.compositeFilter.filters.map(s=>_E(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ct(1026)}}(e.compositeFilter.op))}(r):Ct(30097,{filter:r})}function $I(r){return MI[r]}function QI(r){return kI[r]}function KI(r){return LI[r]}function ro(r){return{fieldPath:r.canonicalString()}}function io(r){return Ye.fromServerFormat(r.fieldPath)}function bE(r){return r instanceof xe?function(e){if(e.op==="=="){if(M0(e.value))return{unaryFilter:{field:ro(e.field),op:"IS_NAN"}};if(O0(e.value))return{unaryFilter:{field:ro(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(M0(e.value))return{unaryFilter:{field:ro(e.field),op:"IS_NOT_NAN"}};if(O0(e.value))return{unaryFilter:{field:ro(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(e.field),op:QI(e.op),value:e.value}}}(r):r instanceof tr?function(e){const s=e.getFilters().map(o=>bE(o));return s.length===1?s[0]:{compositeFilter:{op:KI(e.op),filters:s}}}(r):Ct(54877,{filter:r})}function YI(r){const t=[];return r.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function TE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(t,e,s,o,u=Dt.min(),f=Dt.min(),d=Xe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new Ki(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(t){this.wt=t}}function WI(r){const t=HI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ep(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(){this.yn=new JI}addToCollectionParentIndex(t,e){return this.yn.add(e),ot.resolve()}getCollectionParents(t,e){return ot.resolve(this.yn.getEntries(e))}addFieldIndex(t,e){return ot.resolve()}deleteFieldIndex(t,e){return ot.resolve()}deleteAllFieldIndexes(t){return ot.resolve()}createTargetIndexes(t,e){return ot.resolve()}getDocumentsMatchingTarget(t,e){return ot.resolve(null)}getIndexType(t,e){return ot.resolve(0)}getFieldIndexes(t,e){return ot.resolve([])}getNextCollectionGroupToUpdate(t){return ot.resolve(null)}getMinOffset(t,e){return ot.resolve(es.min())}getMinOffsetFromCollectionGroup(t,e){return ot.resolve(es.min())}updateCollectionGroup(t,e,s){return ot.resolve()}updateIndexEntries(t,e){return ot.resolve()}}class JI{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),o=this.index[e]||new Ve(ue.comparator),u=!o.has(s);return this.index[e]=o.add(s),u}has(t){const e=t.lastSegment(),s=t.popLast(),o=this.index[e];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ve(ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},EE=41943040;class gn{static withCacheSize(t){return new gn(t,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(EE,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new go(0)}static ir(){return new go(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="LruGarbageCollector",t2=1048576;function Y0([r,t],[e,s]){const o=Vt(r,e);return o===0?Vt(t,s):o}class e2{constructor(t){this.cr=t,this.buffer=new Ve(Y0),this.lr=0}hr(){return++this.lr}Pr(t){const e=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();Y0(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class n2{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){mt(K0,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){So(e)?mt(K0,"Ignoring IndexedDB error during garbage collection: ",e):await wo(e)}await this.Ir(3e5)})}}class r2{constructor(t,e){this.Er=t,this.params=e}calculateTargetCount(t,e){return this.Er.dr(t).next(s=>Math.floor(e/100*s))}nthSequenceNumber(t,e){if(e===0)return ot.resolve(Xf.le);const s=new e2(e);return this.Er.forEachTarget(t,o=>s.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(t,o=>s.Pr(o))).next(()=>s.maxValue)}removeTargets(t,e,s){return this.Er.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.Er.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),ot.resolve(Q0)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q0):this.Rr(t,e))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,e){let s,o,u,f,d,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(t,o))).next(w=>(s=w,d=Date.now(),this.removeTargets(t,s,e))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(w=>(g=Date.now(),eo()<=Bt.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-v}ms
	Determined least recently used ${o} in `+(d-f)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ot.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function i2(r,t){return new r2(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(){this.changes=new sa(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,rn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?ot.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(t,e,s,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,e))).next(o=>(s!==null&&tu(s.mutation,o,Zn.empty(),Le.now()),o))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.getLocalViewOfDocuments(t,s,Gt()).next(()=>s))}getLocalViewOfDocuments(t,e,s=Gt()){const o=$s();return this.populateOverlays(t,o,e).next(()=>this.computeViews(t,e,o,s).next(u=>{let f=$l();return u.forEach((d,p)=>{f=f.insert(d,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,e){const s=$s();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,Gt()))}populateOverlays(t,e,s){const o=[];return s.forEach(u=>{e.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,d)=>{e.set(f,d)})})}computeViews(t,e,s,o){let u=ui();const f=Jl(),d=function(){return Jl()}();return e.forEach((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof aa)?u=u.insert(g.key,g):v!==void 0?(f.set(g.key,v.mutation.getFieldMask()),tu(v.mutation,g,v.mutation.getFieldMask(),Le.now())):f.set(g.key,Zn.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((g,v)=>f.set(g,v)),e.forEach((g,v)=>{var w;return d.set(g,new a2(v,(w=f.get(g))!==null&&w!==void 0?w:null))}),d))}recalculateAndSaveOverlays(t,e){const s=Jl();let o=new me((f,d)=>f-d),u=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(f=>{for(const d of f)d.keys().forEach(p=>{const g=e.get(p);if(g===null)return;let v=s.get(p)||Zn.empty();v=d.applyToLocalView(g,v),s.set(p,v);const w=(o.get(d.batchId)||Gt()).add(p);o=o.insert(d.batchId,w)})}).next(()=>{const f=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,w=rE();v.forEach(T=>{if(!u.has(T)){const I=uE(e.get(T),s.get(T));I!==null&&w.set(T,I),u=u.add(T)}}),f.push(this.documentOverlayCache.saveOverlays(t,g,w))}return ot.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,e,s,o){return function(f){return Et.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):ZT(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,o):this.getDocumentsMatchingCollectionQuery(t,e,s,o)}getNextDocuments(t,e,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,o-u.size):ot.resolve($s());let d=iu,p=u;return f.next(g=>ot.forEach(g,(v,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),u.get(v)?ot.resolve():this.remoteDocumentCache.getEntry(t,v).next(T=>{p=p.insert(v,T)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,p,g,Gt())).next(v=>({batchId:d,changes:nE(v)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Et(e)).next(s=>{let o=$l();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,e,s,o){const u=e.collectionGroup;let f=$l();return this.indexManager.getCollectionParents(t,u).next(d=>ot.forEach(d,p=>{const g=function(w,T){return new _u(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(e,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next(v=>{v.forEach((w,T)=>{f=f.insert(w,T)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,e,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,u,o))).next(f=>{u.forEach((p,g)=>{const v=g.getKey();f.get(v)===null&&(f=f.insert(v,rn.newInvalidDocument(v)))});let d=$l();return f.forEach((p,g)=>{const v=u.get(p);v!==void 0&&tu(v.mutation,g,Zn.empty(),Le.now()),th(e,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,e){return ot.resolve(this.Fr.get(e))}saveBundleMetadata(t,e){return this.Fr.set(e.id,function(o){return{id:o.id,version:o.version,createTime:Sr(o.createTime)}}(e)),ot.resolve()}getNamedQuery(t,e){return ot.resolve(this.Mr.get(e))}saveNamedQuery(t,e){return this.Mr.set(e.name,function(o){return{name:o.name,query:WI(o.bundledQuery),readTime:Sr(o.readTime)}}(e)),ot.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this.overlays=new me(Et.comparator),this.Or=new Map}getOverlay(t,e){return ot.resolve(this.overlays.get(e))}getOverlays(t,e){const s=$s();return ot.forEach(e,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,e,s){return s.forEach((o,u)=>{this.St(t,e,u)}),ot.resolve()}removeOverlaysForBatchId(t,e,s){const o=this.Or.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(s)),ot.resolve()}getOverlaysForCollection(t,e,s){const o=$s(),u=e.length+1,f=new Et(e.child("")),d=this.overlays.getIteratorFrom(f);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ot.resolve(o)}getOverlaysForCollectionGroup(t,e,s,o){let u=new me((g,v)=>g-v);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=$s(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=$s(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=o)););return ot.resolve(d)}St(t,e,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Or.get(o.largestBatchId).delete(s.key);this.Or.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new xI(e,s));let u=this.Or.get(e);u===void 0&&(u=Gt(),this.Or.set(e,u)),this.Or.set(e,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(t){return ot.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ot.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(){this.Nr=new Ve(Ge.Br),this.Lr=new Ve(Ge.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,e){const s=new Ge(t,e);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(t,e){t.forEach(s=>this.addReference(s,e))}removeReference(t,e){this.Qr(new Ge(t,e))}$r(t,e){t.forEach(s=>this.removeReference(s,e))}Ur(t){const e=new Et(new ue([])),s=new Ge(e,t),o=new Ge(e,t+1),u=[];return this.Lr.forEachInRange([s,o],f=>{this.Qr(f),u.push(f.key)}),u}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const e=new Et(new ue([])),s=new Ge(e,t),o=new Ge(e,t+1);let u=Gt();return this.Lr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const e=new Ge(t,0),s=this.Nr.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class Ge{constructor(t,e){this.key=t,this.Gr=e}static Br(t,e){return Et.comparator(t.key,e.key)||Vt(t.Gr,e.Gr)}static kr(t,e){return Vt(t.Gr,e.Gr)||Et.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Jn=1,this.zr=new Ve(Ge.Br)}checkEmpty(t){return ot.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new RI(u,e,s,o);this.mutationQueue.push(f);for(const d of o)this.zr=this.zr.add(new Ge(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return ot.resolve(f)}lookupMutationBatch(t,e){return ot.resolve(this.jr(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,o=this.Hr(s),u=o<0?0:o;return ot.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ot.resolve(this.mutationQueue.length===0?Vp:this.Jn-1)}getAllMutationBatches(t){return ot.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new Ge(e,0),o=new Ge(e,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([s,o],f=>{const d=this.jr(f.Gr);u.push(d)}),ot.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new Ve(Vt);return e.forEach(o=>{const u=new Ge(o,0),f=new Ge(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,f],d=>{s=s.add(d.Gr)})}),ot.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,o=s.length+1;let u=s;Et.isDocumentKey(u)||(u=u.child(""));const f=new Ge(new Et(u),0);let d=new Ve(Vt);return this.zr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Gr)),!0)},f),ot.resolve(this.Jr(d))}Jr(t){const e=[];return t.forEach(s=>{const o=this.jr(s);o!==null&&e.push(o)}),e}removeMutationBatch(t,e){Wt(this.Yr(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return ot.forEach(e.mutations,o=>{const u=new Ge(o.key,e.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.zr=s})}Xn(t){}containsKey(t,e){const s=new Ge(e,0),o=this.zr.firstAfterOrEqual(s);return ot.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,ot.resolve()}Yr(t,e){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const e=this.Hr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(t){this.Zr=t,this.docs=function(){return new me(Et.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,o=this.docs.get(s),u=o?o.size:0,f=this.Zr(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return ot.resolve(s?s.document.mutableCopy():rn.newInvalidDocument(e))}getEntries(t,e){let s=ui();return e.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():rn.newInvalidDocument(o))}),ot.resolve(s)}getDocumentsMatchingQuery(t,e,s,o){let u=ui();const f=e.path,d=new Et(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||Gx(Bx(v),s)<=0||(o.has(v.key)||th(e,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ot.resolve(u)}getAllFromCollectionGroup(t,e,s,o){Ct(9500)}Xr(t,e){return ot.forEach(this.docs,s=>e(s))}newChangeBuffer(t){return new d2(this)}getSize(t){return ot.resolve(this.size)}}class d2 extends s2{constructor(t){super(),this.vr=t}applyChanges(t){const e=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?e.push(this.vr.addEntry(t,o)):this.vr.removeEntry(s)}),ot.waitFor(e)}getFromCache(t,e){return this.vr.getEntry(t,e)}getAllFromCache(t,e){return this.vr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(t){this.persistence=t,this.ei=new sa(e=>zp(e),jp),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.ti=0,this.ni=new $p,this.targetCount=0,this.ri=go.rr()}forEachTarget(t,e){return this.ei.forEach((s,o)=>e(o)),ot.resolve()}getLastRemoteSnapshotVersion(t){return ot.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ot.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),ot.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this.ti&&(this.ti=e),ot.resolve()}ar(t){this.ei.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ri=new go(e),this.highestTargetId=e),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,e){return this.ar(e),this.targetCount+=1,ot.resolve()}updateTargetData(t,e){return this.ar(e),ot.resolve()}removeTargetData(t,e){return this.ei.delete(e.target),this.ni.Ur(e.targetId),this.targetCount-=1,ot.resolve()}removeTargets(t,e,s){let o=0;const u=[];return this.ei.forEach((f,d)=>{d.sequenceNumber<=e&&s.get(d.targetId)===null&&(this.ei.delete(f),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)}),ot.waitFor(u).next(()=>o)}getTargetCount(t){return ot.resolve(this.targetCount)}getTargetData(t,e){const s=this.ei.get(e)||null;return ot.resolve(s)}addMatchingKeys(t,e,s){return this.ni.qr(e,s),ot.resolve()}removeMatchingKeys(t,e,s){this.ni.$r(e,s);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),ot.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this.ni.Ur(e),ot.resolve()}getMatchingKeysForTargetId(t,e){const s=this.ni.Wr(e);return ot.resolve(s)}containsKey(t,e){return ot.resolve(this.ni.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(t,e){this.ii={},this.overlays={},this.si=new Xf(0),this.oi=!1,this.oi=!0,this._i=new c2,this.referenceDelegate=t(this),this.ai=new m2(this),this.indexManager=new ZI,this.remoteDocumentCache=function(o){return new h2(o)}(s=>this.referenceDelegate.ui(s)),this.serializer=new XI(e),this.ci=new l2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new u2,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this.ii[t.toKey()];return s||(s=new f2(e,this.referenceDelegate),this.ii[t.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,e,s){mt("MemoryPersistence","Starting transaction:",t);const o=new p2(this.si.next());return this.referenceDelegate.li(),s(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(t,e){return ot.or(Object.values(this.ii).map(s=>()=>s.containsKey(t,e)))}}class p2 extends Hx{constructor(t){super(),this.currentSequenceNumber=t}}class Qp{constructor(t){this.persistence=t,this.Ti=new $p,this.Ii=null}static Ei(t){return new Qp(t)}get di(){if(this.Ii)return this.Ii;throw Ct(60996)}addReference(t,e,s){return this.Ti.addReference(s,e),this.di.delete(s.toString()),ot.resolve()}removeReference(t,e,s){return this.Ti.removeReference(s,e),this.di.add(s.toString()),ot.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),ot.resolve()}removeTarget(t,e){this.Ti.Ur(e.targetId).forEach(o=>this.di.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>s.removeTargetData(t,e))}li(){this.Ii=new Set}hi(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ot.forEach(this.di,s=>{const o=Et.fromPath(s);return this.Ai(t,o).next(u=>{u||e.removeEntry(o,Dt.min())})}).next(()=>(this.Ii=null,e.apply(t)))}updateLimboDocument(t,e){return this.Ai(t,e).next(s=>{s?this.di.delete(e.toString()):this.di.add(e.toString())})}ui(t){return 0}Ai(t,e){return ot.or([()=>ot.resolve(this.Ti.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Pi(t,e)])}}class jf{constructor(t,e){this.persistence=t,this.Ri=new sa(s=>Qx(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=i2(this,e)}static Ei(t,e){return new jf(t,e)}li(){}hi(t){return ot.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>e.next(o=>s+o))}Vr(t){let e=0;return this.Ar(t,s=>{e++}).next(()=>e)}Ar(t,e){return ot.forEach(this.Ri,(s,o)=>this.gr(t,s,o).next(u=>u?ot.resolve():e(o)))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(t,f=>this.gr(t,f,e).next(d=>{d||(s++,u.removeEntry(f,Dt.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,e){return this.Ri.set(e,t.currentSequenceNumber),ot.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.Ri.set(s,t.currentSequenceNumber),ot.resolve()}removeReference(t,e,s){return this.Ri.set(s,t.currentSequenceNumber),ot.resolve()}updateLimboDocument(t,e){return this.Ri.set(e,t.currentSequenceNumber),ot.resolve()}ui(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=yf(t.data.value)),e}gr(t,e,s){return ot.or([()=>this.persistence.Pi(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.Ri.get(e);return ot.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(t,e,s,o){this.targetId=t,this.fromCache=e,this.ls=s,this.hs=o}static Ps(t,e){let s=Gt(),o=Gt();for(const u of e.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Kp(t,e.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return oA()?8:Fx(sn())>0?6:4}()}initialize(t,e){this.As=t,this.indexManager=e,this.Ts=!0}getDocumentsMatchingQuery(t,e,s,o){const u={result:null};return this.Rs(t,e).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Vs(t,e,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new g2;return this.fs(t,e,f).next(d=>{if(u.result=d,this.Is)return this.gs(t,e,f,d.size)})}).next(()=>u.result)}gs(t,e,s,o){return s.documentReadCount<this.Es?(eo()<=Bt.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",no(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ot.resolve()):(eo()<=Bt.DEBUG&&mt("QueryEngine","Query:",no(e),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(eo()<=Bt.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",no(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,wr(e))):ot.resolve())}Rs(t,e){if(P0(e))return ot.resolve(null);let s=wr(e);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(e.limit!==null&&o===1&&(e=ep(e,null,"F"),s=wr(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=Gt(...u);return this.As.getDocuments(t,f).next(d=>this.indexManager.getMinOffset(t,s).next(p=>{const g=this.ps(e,d);return this.ys(e,g,f,p.readTime)?this.Rs(t,ep(e,null,"F")):this.ws(t,g,e,p)}))})))}Vs(t,e,s,o){return P0(e)||o.isEqual(Dt.min())?ot.resolve(null):this.As.getDocuments(t,s).next(u=>{const f=this.ps(e,u);return this.ys(e,f,s,o)?ot.resolve(null):(eo()<=Bt.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),no(e)),this.ws(t,f,e,jx(o,iu)).next(d=>d))})}ps(t,e){let s=new Ve(tE(t));return e.forEach((o,u)=>{th(t,u)&&(s=s.add(u))}),s}ys(t,e,s,o){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(t,e,s){return eo()<=Bt.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",no(e)),this.As.getDocumentsMatchingQuery(t,e,es.min(),s)}ws(t,e,s,o){return this.As.getDocumentsMatchingQuery(t,s,o).next(u=>(e.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="LocalStore",v2=3e8;class _2{constructor(t,e,s,o){this.persistence=t,this.bs=e,this.serializer=o,this.Ss=new me(Vt),this.Ds=new sa(u=>zp(u),jp),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(s)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new o2(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ss))}}function b2(r,t,e,s){return new _2(r,t,e,s)}async function SE(r,t){const e=Nt(r);return await e.persistence.runTransaction("Handle user change","readonly",s=>{let o;return e.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,e.Fs(t),e.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],d=[];let p=Gt();for(const g of o){f.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return e.localDocuments.getDocuments(s,p).next(g=>({Ms:g,removedBatchIds:f,addedBatchIds:d}))})})}function T2(r,t){const e=Nt(r);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=e.Cs.newChangeBuffer({trackRemovals:!0});return function(d,p,g,v){const w=g.batch,T=w.keys();let I=ot.resolve();return T.forEach(D=>{I=I.next(()=>v.getEntry(p,D)).next(O=>{const L=g.docVersions.get(D);Wt(L!==null,48541),O.version.compareTo(L)<0&&(w.applyToRemoteDocument(O,g),O.isValidDocument()&&(O.setReadTime(g.commitVersion),v.addEntry(O)))})}),I.next(()=>d.mutationQueue.removeMutationBatch(p,w))}(e,s,t,u).next(()=>u.apply(s)).next(()=>e.mutationQueue.performConsistencyCheck(s)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=Gt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(t))).next(()=>e.localDocuments.getDocuments(s,o))})}function AE(r){const t=Nt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ai.getLastRemoteSnapshotVersion(e))}function E2(r,t){const e=Nt(r),s=t.snapshotVersion;let o=e.Ss;return e.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=e.Cs.newChangeBuffer({trackRemovals:!0});o=e.Ss;const d=[];t.targetChanges.forEach((v,w)=>{const T=o.get(w);if(!T)return;d.push(e.ai.removeMatchingKeys(u,v.removedDocuments,w).next(()=>e.ai.addMatchingKeys(u,v.addedDocuments,w)));let I=T.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(w)!==null?I=I.withResumeToken(Xe.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):v.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(v.resumeToken,s)),o=o.insert(w,I),function(O,L,z){return O.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=v2?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(T,I,v)&&d.push(e.ai.updateTargetData(u,I))});let p=ui(),g=Gt();if(t.documentUpdates.forEach(v=>{t.resolvedLimboDocuments.has(v)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(u,v))}),d.push(w2(u,f,t.documentUpdates).next(v=>{p=v.xs,g=v.Os})),!s.isEqual(Dt.min())){const v=e.ai.getLastRemoteSnapshotVersion(u).next(w=>e.ai.setTargetsMetadata(u,u.currentSequenceNumber,s));d.push(v)}return ot.waitFor(d).next(()=>f.apply(u)).next(()=>e.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(e.Ss=o,u))}function w2(r,t,e){let s=Gt(),o=Gt();return e.forEach(u=>s=s.add(u)),t.getEntries(r,s).next(u=>{let f=ui();return e.forEach((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Dt.min())?(t.removeEntry(d,p.readTime),f=f.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),f=f.insert(d,p)):mt(Yp,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{xs:f,Os:o}})}function S2(r,t){const e=Nt(r);return e.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Vp),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function A2(r,t){const e=Nt(r);return e.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return e.ai.getTargetData(s,t).next(u=>u?(o=u,ot.resolve(o)):e.ai.allocateTargetId(s).next(f=>(o=new Ki(t,f,"TargetPurposeListen",s.currentSequenceNumber),e.ai.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=e.Ss.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ss=e.Ss.insert(s.targetId,s),e.Ds.set(t,s.targetId)),s})}async function ap(r,t,e){const s=Nt(r),o=s.Ss.get(t),u=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!So(f))throw f;mt(Yp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ss=s.Ss.remove(t),s.Ds.delete(o.target)}function X0(r,t,e){const s=Nt(r);let o=Dt.min(),u=Gt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,v){const w=Nt(p),T=w.Ds.get(v);return T!==void 0?ot.resolve(w.Ss.get(T)):w.ai.getTargetData(g,v)}(s,f,wr(t)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(f,d.targetId).next(p=>{u=p})}).next(()=>s.bs.getDocumentsMatchingQuery(f,t,e?o:Dt.min(),e?u:Gt())).next(d=>(C2(s,hI(t),d),{documents:d,Ns:u})))}function C2(r,t,e){let s=r.vs.get(t)||Dt.min();e.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.vs.set(t,s)}class W0{constructor(){this.activeTargetIds=vI()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class R2{constructor(){this.So=new W0,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,e,s){this.Do[t]=e}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new W0,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="ConnectivityMonitor";class J0{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){mt(Z0,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){mt(Z0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lf=null;function op(){return lf===null?lf=function(){return 268435456+Math.round(2147483648*Math.random())}():lf++,"0x"+lf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="RestConnection",I2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class D2{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=e+"://"+t.host,this.ko=`projects/${s}/databases/${o}`,this.qo=this.databaseId.database===Mf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Qo(t,e,s,o,u){const f=op(),d=this.$o(t,e.toUriEncodedString());mt(Om,`Sending RPC '${t}' ${f}:`,d,s);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(p,o,u);const{host:g}=new URL(d),v=du(g);return this.Ko(t,d,p,s,v).then(w=>(mt(Om,`Received RPC '${t}' ${f}: `,w),w),w=>{throw fo(Om,`RPC '${t}' ${f} failed with error: `,w,"url: ",d,"request:",s),w})}Wo(t,e,s,o,u,f){return this.Qo(t,e,s,o,u)}Uo(t,e,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Eo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}$o(t,e){const s=I2[t];return`${this.Lo}/v1/${e}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class O2 extends D2{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,e,s,o,u){const f=op();return new Promise((d,p)=>{const g=new RT;g.setWithCredentials(!0),g.listenOnce(xT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case gf.NO_ERROR:const w=g.getResponseJson();mt(en,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(w)),d(w);break;case gf.TIMEOUT:mt(en,`RPC '${t}' ${f} timed out`),p(new pt(lt.DEADLINE_EXCEEDED,"Request time out"));break;case gf.HTTP_ERROR:const T=g.getStatus();if(mt(en,`RPC '${t}' ${f} failed with status:`,T,"response text:",g.getResponseText()),T>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const D=I==null?void 0:I.error;if(D&&D.status&&D.message){const O=function(z){const G=z.toLowerCase().replace(/_/g,"-");return Object.values(lt).indexOf(G)>=0?G:lt.UNKNOWN}(D.status);p(new pt(O,D.message))}else p(new pt(lt.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new pt(lt.UNAVAILABLE,"Connection failed."));break;default:Ct(9055,{s_:t,streamId:f,o_:g.getLastErrorCode(),__:g.getLastError()})}}finally{mt(en,`RPC '${t}' ${f} completed.`)}});const v=JSON.stringify(o);mt(en,`RPC '${t}' ${f} sending request:`,o),g.send(e,"POST",v,s,15)})}a_(t,e,s){const o=op(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=NT(),d=DT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,e,s),p.encodeInitMessageHeaders=!0;const v=u.join("");mt(en,`Creating RPC '${t}' stream ${o}: ${v}`,p);const w=f.createWebChannel(v,p);let T=!1,I=!1;const D=new N2({Go:L=>{I?mt(en,`Not sending because RPC '${t}' stream ${o} is closed:`,L):(T||(mt(en,`Opening RPC '${t}' stream ${o} transport.`),w.open(),T=!0),mt(en,`RPC '${t}' stream ${o} sending:`,L),w.send(L))},zo:()=>w.close()}),O=(L,z,G)=>{L.listen(z,K=>{try{G(K)}catch(J){setTimeout(()=>{throw J},0)}})};return O(w,Fl.EventType.OPEN,()=>{I||(mt(en,`RPC '${t}' stream ${o} transport opened.`),D.t_())}),O(w,Fl.EventType.CLOSE,()=>{I||(I=!0,mt(en,`RPC '${t}' stream ${o} transport closed`),D.r_())}),O(w,Fl.EventType.ERROR,L=>{I||(I=!0,fo(en,`RPC '${t}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),D.r_(new pt(lt.UNAVAILABLE,"The operation could not be completed")))}),O(w,Fl.EventType.MESSAGE,L=>{var z;if(!I){const G=L.data[0];Wt(!!G,16349);const K=G,J=(K==null?void 0:K.error)||((z=K[0])===null||z===void 0?void 0:z.error);if(J){mt(en,`RPC '${t}' stream ${o} received error:`,J);const F=J.status;let ct=function(A){const M=Re[A];if(M!==void 0)return hE(M)}(F),R=J.message;ct===void 0&&(ct=lt.INTERNAL,R="Unknown error status: "+F+" with message "+J.message),I=!0,D.r_(new pt(ct,R)),w.close()}else mt(en,`RPC '${t}' stream ${o} received:`,G),D.i_(G)}}),O(d,IT.STAT_EVENT,L=>{L.stat===Km.PROXY?mt(en,`RPC '${t}' stream ${o} detected buffering proxy`):L.stat===Km.NOPROXY&&mt(en,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{D.n_()},0),D}}function Mm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(r){return new VI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(t,e,s=1e3,o=1.5,u=6e4){this.bi=t,this.timerId=e,this.u_=s,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const e=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),o=Math.max(0,e-s);o>0&&mt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="PersistentStream";class RE{constructor(t,e,s,o,u,f,d,p){this.bi=t,this.R_=s,this.V_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new CE(t,e)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,e){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():e&&e.code===lt.RESOURCE_EXHAUSTED?(li(e.toString()),li("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):e&&e.code===lt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(e)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),e=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.m_===e&&this.B_(s,o)},s=>{t(()=>{const o=new pt(lt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(o)})})}B_(t,e){const s=this.N_(this.m_);this.stream=this.k_(t,e),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{s(()=>this.L_(o))}),this.stream.onMessage(o=>{s(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return mt(tb,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return e=>{this.bi.enqueueAndForget(()=>this.m_===t?e():(mt(tb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class M2 extends RE{constructor(t,e,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,o,f),this.serializer=u}k_(t,e){return this.connection.a_("Listen",t,e)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const e=zI(this.serializer,t),s=function(u){if(!("targetChange"in u))return Dt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Dt.min():f.readTime?Sr(f.readTime):Dt.min()}(t);return this.listener.Q_(e,s)}U_(t){const e={};e.database=sp(this.serializer),e.addTarget=function(u,f){let d;const p=f.target;if(d=Jm(p)?{documents:GI(u,p)}:{query:qI(u,p).gt},d.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){d.resumeToken=pE(u,f.resumeToken);const g=np(u,f.expectedCount);g!==null&&(d.expectedCount=g)}else if(f.snapshotVersion.compareTo(Dt.min())>0){d.readTime=zf(u,f.snapshotVersion.toTimestamp());const g=np(u,f.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,t);const s=FI(this.serializer,t);s&&(e.labels=s),this.F_(e)}K_(t){const e={};e.database=sp(this.serializer),e.removeTarget=t,this.F_(e)}}class k2 extends RE{constructor(t,e,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,o,f),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,e){return this.connection.a_("Write",t,e)}q_(t){return Wt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Wt(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){Wt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const e=BI(t.writeResults,t.commitTime),s=Sr(t.commitTime);return this.listener.j_(s,e)}H_(){const t={};t.database=sp(this.serializer),this.F_(t)}G_(t){const e={streamToken:this.lastStreamToken,writes:t.map(s=>jI(this.serializer,s))};this.F_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{}class V2 extends L2{constructor(t,e,s,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new pt(lt.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,e,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Qo(t,rp(e,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pt(lt.UNKNOWN,u.toString())})}Wo(t,e,s,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,d])=>this.connection.Wo(t,rp(e,s),o,f,d,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new pt(lt.UNKNOWN,f.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class P2{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(li(e),this.ea=!1):mt("OnlineStateTracker",e)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="RemoteStore";class U2{constructor(t,e,s,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(f=>{s.enqueueAndForget(async()=>{oa(this)&&(mt(Js,"Restarting streams for network reachability change."),await async function(p){const g=Nt(p);g.aa.add(4),await Eu(g),g.la.set("Unknown"),g.aa.delete(4),await sh(g)}(this))})}),this.la=new P2(s,o)}}async function sh(r){if(oa(r))for(const t of r.ua)await t(!0)}async function Eu(r){for(const t of r.ua)await t(!1)}function xE(r,t){const e=Nt(r);e._a.has(t.targetId)||(e._a.set(t.targetId,t),Jp(e)?Zp(e):Ao(e).b_()&&Wp(e,t))}function Xp(r,t){const e=Nt(r),s=Ao(e);e._a.delete(t),s.b_()&&IE(e,t),e._a.size===0&&(s.b_()?s.v_():oa(e)&&e.la.set("Unknown"))}function Wp(r,t){if(r.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Dt.min())>0){const e=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Ao(r).U_(t)}function IE(r,t){r.ha.Ke(t),Ao(r).K_(t)}function Zp(r){r.ha=new OI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r._a.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),Ao(r).start(),r.la.ta()}function Jp(r){return oa(r)&&!Ao(r).w_()&&r._a.size>0}function oa(r){return Nt(r).aa.size===0}function DE(r){r.ha=void 0}async function z2(r){r.la.set("Online")}async function j2(r){r._a.forEach((t,e)=>{Wp(r,t)})}async function B2(r,t){DE(r),Jp(r)?(r.la.ia(t),Zp(r)):r.la.set("Unknown")}async function G2(r,t,e){if(r.la.set("Online"),t instanceof mE&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const d of u.targetIds)o._a.has(d)&&(await o.remoteSyncer.rejectListen(d,f),o._a.delete(d),o.ha.removeTarget(d))}(r,t)}catch(s){mt(Js,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Bf(r,s)}else if(t instanceof bf?r.ha.Xe(t):t instanceof dE?r.ha.ot(t):r.ha.nt(t),!e.isEqual(Dt.min()))try{const s=await AE(r.localStore);e.compareTo(s)>=0&&await function(u,f){const d=u.ha.It(f);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u._a.get(g);v&&u._a.set(g,v.withResumeToken(p.resumeToken,f))}}),d.targetMismatches.forEach((p,g)=>{const v=u._a.get(p);if(!v)return;u._a.set(p,v.withResumeToken(Xe.EMPTY_BYTE_STRING,v.snapshotVersion)),IE(u,p);const w=new Ki(v.target,p,g,v.sequenceNumber);Wp(u,w)}),u.remoteSyncer.applyRemoteEvent(d)}(r,e)}catch(s){mt(Js,"Failed to raise snapshot:",s),await Bf(r,s)}}async function Bf(r,t,e){if(!So(t))throw t;r.aa.add(1),await Eu(r),r.la.set("Offline"),e||(e=()=>AE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{mt(Js,"Retrying IndexedDB access"),await e(),r.aa.delete(1),await sh(r)})}function NE(r,t){return t().catch(e=>Bf(r,e,t))}async function ah(r){const t=Nt(r),e=ss(t);let s=t.oa.length>0?t.oa[t.oa.length-1].batchId:Vp;for(;q2(t);)try{const o=await S2(t.localStore,s);if(o===null){t.oa.length===0&&e.v_();break}s=o.batchId,H2(t,o)}catch(o){await Bf(t,o)}OE(t)&&ME(t)}function q2(r){return oa(r)&&r.oa.length<10}function H2(r,t){r.oa.push(t);const e=ss(r);e.b_()&&e.W_&&e.G_(t.mutations)}function OE(r){return oa(r)&&!ss(r).w_()&&r.oa.length>0}function ME(r){ss(r).start()}async function F2(r){ss(r).H_()}async function $2(r){const t=ss(r);for(const e of r.oa)t.G_(e.mutations)}async function Q2(r,t,e){const s=r.oa.shift(),o=qp.from(s,t,e);await NE(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await ah(r)}async function K2(r,t){t&&ss(r).W_&&await async function(s,o){if(function(f){return DI(f)&&f!==lt.ABORTED}(o.code)){const u=s.oa.shift();ss(s).D_(),await NE(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await ah(s)}}(r,t),OE(r)&&ME(r)}async function eb(r,t){const e=Nt(r);e.asyncQueue.verifyOperationInProgress(),mt(Js,"RemoteStore received new credentials");const s=oa(e);e.aa.add(3),await Eu(e),s&&e.la.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.aa.delete(3),await sh(e)}async function Y2(r,t){const e=Nt(r);t?(e.aa.delete(2),await sh(e)):t||(e.aa.add(2),await Eu(e),e.la.set("Unknown"))}function Ao(r){return r.Pa||(r.Pa=function(e,s,o){const u=Nt(e);return u.Y_(),new M2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{jo:z2.bind(null,r),Jo:j2.bind(null,r),Zo:B2.bind(null,r),Q_:G2.bind(null,r)}),r.ua.push(async t=>{t?(r.Pa.D_(),Jp(r)?Zp(r):r.la.set("Unknown")):(await r.Pa.stop(),DE(r))})),r.Pa}function ss(r){return r.Ta||(r.Ta=function(e,s,o){const u=Nt(e);return u.Y_(),new k2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{jo:()=>Promise.resolve(),Jo:F2.bind(null,r),Zo:K2.bind(null,r),z_:$2.bind(null,r),j_:Q2.bind(null,r)}),r.ua.push(async t=>{t?(r.Ta.D_(),await ah(r)):(await r.Ta.stop(),r.oa.length>0&&(mt(Js,`Stopping write stream with ${r.oa.length} pending writes`),r.oa=[]))})),r.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t,e,s,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,o,u){const f=Date.now()+s,d=new tg(t,e,f,o,u);return d.start(s),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(lt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eg(r,t){if(li("AsyncQueue",`${t}: ${r}`),So(r))return new pt(lt.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{static emptySet(t){return new lo(t.comparator)}constructor(t){this.comparator=t?(e,s)=>t(e,s)||Et.comparator(e.key,s.key):(e,s)=>Et.comparator(e.key,s.key),this.keyedMap=$l(),this.sortedSet=new me(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,s)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof lo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new lo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(){this.Ia=new me(Et.comparator)}track(t){const e=t.doc.key,s=this.Ia.get(e);s?t.type!==0&&s.type===3?this.Ia=this.Ia.insert(e,t):t.type===3&&s.type!==1?this.Ia=this.Ia.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Ia=this.Ia.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Ia=this.Ia.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Ia=this.Ia.remove(e):t.type===1&&s.type===2?this.Ia=this.Ia.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Ia=this.Ia.insert(e,{type:2,doc:t.doc}):Ct(63341,{Vt:t,Ea:s}):this.Ia=this.Ia.insert(e,t)}da(){const t=[];return this.Ia.inorderTraversal((e,s)=>{t.push(s)}),t}}class yo{constructor(t,e,s,o,u,f,d,p,g){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,e,s,o,u){const f=[];return e.forEach(d=>{f.push({type:0,doc:d})}),new yo(t,e,lo.emptySet(e),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Jf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==s[o].type||!e[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class W2{constructor(){this.queries=rb(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(e,s){const o=Nt(e),u=o.queries;o.queries=rb(),u.forEach((f,d)=>{for(const p of d.Ra)p.onError(s)})})(this,new pt(lt.ABORTED,"Firestore shutting down"))}}function rb(){return new sa(r=>JT(r),Jf)}async function kE(r,t){const e=Nt(r);let s=3;const o=t.query;let u=e.queries.get(o);u?!u.Va()&&t.ma()&&(s=2):(u=new X2,s=t.ma()?0:1);try{switch(s){case 0:u.Aa=await e.onListen(o,!0);break;case 1:u.Aa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(f){const d=eg(f,`Initialization of query '${no(t.query)}' failed`);return void t.onError(d)}e.queries.set(o,u),u.Ra.push(t),t.ga(e.onlineState),u.Aa&&t.pa(u.Aa)&&ng(e)}async function LE(r,t){const e=Nt(r),s=t.query;let o=3;const u=e.queries.get(s);if(u){const f=u.Ra.indexOf(t);f>=0&&(u.Ra.splice(f,1),u.Ra.length===0?o=t.ma()?0:1:!u.Va()&&t.ma()&&(o=2))}switch(o){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function Z2(r,t){const e=Nt(r);let s=!1;for(const o of t){const u=o.query,f=e.queries.get(u);if(f){for(const d of f.Ra)d.pa(o)&&(s=!0);f.Aa=o}}s&&ng(e)}function J2(r,t,e){const s=Nt(r),o=s.queries.get(t);if(o)for(const u of o.Ra)u.onError(e);s.queries.delete(t)}function ng(r){r.fa.forEach(t=>{t.next()})}var lp,ib;(ib=lp||(lp={})).ya="default",ib.Cache="cache";class VE{constructor(t,e,s){this.query=t,this.wa=e,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new yo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.ba?this.Da(t)&&(this.wa.next(t),e=!0):this.va(t,this.onlineState)&&(this.Ca(t),e=!0),this.Sa=t,e}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let e=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),e=!0),e}va(t,e){if(!t.fromCache||!this.ma())return!0;const s=e!=="Offline";return(!this.options.Fa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const e=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}Ca(t){t=yo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==lp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(t){this.key=t}}class UE{constructor(t){this.key=t}}class tD{constructor(t,e){this.query=t,this.qa=e,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Gt(),this.mutatedKeys=Gt(),this.Ua=tE(t),this.Ka=new lo(this.Ua)}get Wa(){return this.qa}Ga(t,e){const s=e?e.za:new nb,o=e?e.Ka:this.Ka;let u=e?e.mutatedKeys:this.mutatedKeys,f=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((v,w)=>{const T=o.get(v),I=th(this.query,w)?w:null,D=!!T&&this.mutatedKeys.has(T.key),O=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let L=!1;T&&I?T.data.isEqual(I.data)?D!==O&&(s.track({type:3,doc:I}),L=!0):this.ja(T,I)||(s.track({type:2,doc:I}),L=!0,(p&&this.Ua(I,p)>0||g&&this.Ua(I,g)<0)&&(d=!0)):!T&&I?(s.track({type:0,doc:I}),L=!0):T&&!I&&(s.track({type:1,doc:T}),L=!0,(p||g)&&(d=!0)),L&&(I?(f=f.add(I),u=O?u.add(v):u.delete(v)):(f=f.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const v=this.query.limitType==="F"?f.last():f.first();f=f.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{Ka:f,za:s,ys:d,mutatedKeys:u}}ja(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,o){const u=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const f=t.za.da();f.sort((v,w)=>function(I,D){const O=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ct(20277,{Vt:L})}};return O(I)-O(D)}(v.type,w.type)||this.Ua(v.doc,w.doc)),this.Ha(s),o=o!=null&&o;const d=e&&!o?this.Ja():[],p=this.$a.size===0&&this.current&&!o?1:0,g=p!==this.Qa;return this.Qa=p,f.length!==0||g?{snapshot:new yo(this.query,t.Ka,u,f,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:d}:{Ya:d}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new nb,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(e=>this.qa=this.qa.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.qa=this.qa.delete(e)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Gt(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const e=[];return t.forEach(s=>{this.$a.has(s)||e.push(new UE(s))}),this.$a.forEach(s=>{t.has(s)||e.push(new PE(s))}),e}Xa(t){this.qa=t.Ns,this.$a=Gt();const e=this.Ga(t.documents);return this.applyChanges(e,!0)}eu(){return yo.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const rg="SyncEngine";class eD{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class nD{constructor(t){this.key=t,this.tu=!1}}class rD{constructor(t,e,s,o,u,f){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.nu={},this.ru=new sa(d=>JT(d),Jf),this.iu=new Map,this.su=new Set,this.ou=new me(Et.comparator),this._u=new Map,this.au=new $p,this.uu={},this.cu=new Map,this.lu=go.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function iD(r,t,e=!0){const s=HE(r);let o;const u=s.ru.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await zE(s,t,e,!0),o}async function sD(r,t){const e=HE(r);await zE(e,t,!0,!1)}async function zE(r,t,e,s){const o=await A2(r.localStore,wr(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,e);let d;return s&&(d=await aD(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&e&&xE(r.remoteStore,o),d}async function aD(r,t,e,s,o){r.Pu=(w,T,I)=>async function(O,L,z,G){let K=L.view.Ga(z);K.ys&&(K=await X0(O.localStore,L.query,!1).then(({documents:R})=>L.view.Ga(R,K)));const J=G&&G.targetChanges.get(L.targetId),F=G&&G.targetMismatches.get(L.targetId)!=null,ct=L.view.applyChanges(K,O.isPrimaryClient,J,F);return ab(O,L.targetId,ct.Ya),ct.snapshot}(r,w,T,I);const u=await X0(r.localStore,t,!0),f=new tD(t,u.Ns),d=f.Ga(u.documents),p=Tu.createSynthesizedTargetChangeForCurrentChange(e,s&&r.onlineState!=="Offline",o),g=f.applyChanges(d,r.isPrimaryClient,p);ab(r,e,g.Ya);const v=new eD(t,e,f);return r.ru.set(t,v),r.iu.has(e)?r.iu.get(e).push(t):r.iu.set(e,[t]),g.snapshot}async function oD(r,t,e){const s=Nt(r),o=s.ru.get(t),u=s.iu.get(o.targetId);if(u.length>1)return s.iu.set(o.targetId,u.filter(f=>!Jf(f,t))),void s.ru.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ap(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),e&&Xp(s.remoteStore,o.targetId),up(s,o.targetId)}).catch(wo)):(up(s,o.targetId),await ap(s.localStore,o.targetId,!0))}async function lD(r,t){const e=Nt(r),s=e.ru.get(t),o=e.iu.get(s.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),Xp(e.remoteStore,s.targetId))}async function uD(r,t,e){const s=gD(r);try{const o=await function(f,d){const p=Nt(f),g=Le.now(),v=d.reduce((I,D)=>I.add(D.key),Gt());let w,T;return p.persistence.runTransaction("Locally write mutations","readwrite",I=>{let D=ui(),O=Gt();return p.Cs.getEntries(I,v).next(L=>{D=L,D.forEach((z,G)=>{G.isValidDocument()||(O=O.add(z))})}).next(()=>p.localDocuments.getOverlayedDocuments(I,D)).next(L=>{w=L;const z=[];for(const G of d){const K=AI(G,w.get(G.key).overlayedDocument);K!=null&&z.push(new aa(G.key,K,FT(K.value.mapValue),ri.exists(!0)))}return p.mutationQueue.addMutationBatch(I,g,z,d)}).next(L=>{T=L;const z=L.applyToLocalDocumentSet(w,O);return p.documentOverlayCache.saveOverlays(I,L.batchId,z)})}).then(()=>({batchId:T.batchId,changes:nE(w)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,d,p){let g=f.uu[f.currentUser.toKey()];g||(g=new me(Vt)),g=g.insert(d,p),f.uu[f.currentUser.toKey()]=g}(s,o.batchId,e),await wu(s,o.changes),await ah(s.remoteStore)}catch(o){const u=eg(o,"Failed to persist write");e.reject(u)}}async function jE(r,t){const e=Nt(r);try{const s=await E2(e.localStore,t);t.targetChanges.forEach((o,u)=>{const f=e._u.get(u);f&&(Wt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.tu=!0:o.modifiedDocuments.size>0?Wt(f.tu,14607):o.removedDocuments.size>0&&(Wt(f.tu,42227),f.tu=!1))}),await wu(e,s,t)}catch(s){await wo(s)}}function sb(r,t,e){const s=Nt(r);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const o=[];s.ru.forEach((u,f)=>{const d=f.view.ga(t);d.snapshot&&o.push(d.snapshot)}),function(f,d){const p=Nt(f);p.onlineState=d;let g=!1;p.queries.forEach((v,w)=>{for(const T of w.Ra)T.ga(d)&&(g=!0)}),g&&ng(p)}(s.eventManager,t),o.length&&s.nu.Q_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function cD(r,t,e){const s=Nt(r);s.sharedClientState.updateQueryState(t,"rejected",e);const o=s._u.get(t),u=o&&o.key;if(u){let f=new me(Et.comparator);f=f.insert(u,rn.newNoDocument(u,Dt.min()));const d=Gt().add(u),p=new rh(Dt.min(),new Map,new me(Vt),f,d);await jE(s,p),s.ou=s.ou.remove(u),s._u.delete(t),ig(s)}else await ap(s.localStore,t,!1).then(()=>up(s,t,e)).catch(wo)}async function fD(r,t){const e=Nt(r),s=t.batch.batchId;try{const o=await T2(e.localStore,t);GE(e,s,null),BE(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await wu(e,o)}catch(o){await wo(o)}}async function hD(r,t,e){const s=Nt(r);try{const o=await function(f,d){const p=Nt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next(w=>(Wt(w!==null,37113),v=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(s.localStore,t);GE(s,t,e),BE(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await wu(s,o)}catch(o){await wo(o)}}function BE(r,t){(r.cu.get(t)||[]).forEach(e=>{e.resolve()}),r.cu.delete(t)}function GE(r,t,e){const s=Nt(r);let o=s.uu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),s.uu[s.currentUser.toKey()]=o}}function up(r,t,e=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.iu.get(t))r.ru.delete(s),e&&r.nu.Tu(s,e);r.iu.delete(t),r.isPrimaryClient&&r.au.Ur(t).forEach(s=>{r.au.containsKey(s)||qE(r,s)})}function qE(r,t){r.su.delete(t.path.canonicalString());const e=r.ou.get(t);e!==null&&(Xp(r.remoteStore,e),r.ou=r.ou.remove(t),r._u.delete(e),ig(r))}function ab(r,t,e){for(const s of e)s instanceof PE?(r.au.addReference(s.key,t),dD(r,s)):s instanceof UE?(mt(rg,"Document no longer in limbo: "+s.key),r.au.removeReference(s.key,t),r.au.containsKey(s.key)||qE(r,s.key)):Ct(19791,{Iu:s})}function dD(r,t){const e=t.key,s=e.path.canonicalString();r.ou.get(e)||r.su.has(s)||(mt(rg,"New document in limbo: "+e),r.su.add(s),ig(r))}function ig(r){for(;r.su.size>0&&r.ou.size<r.maxConcurrentLimboResolutions;){const t=r.su.values().next().value;r.su.delete(t);const e=new Et(ue.fromString(t)),s=r.lu.next();r._u.set(s,new nD(e)),r.ou=r.ou.insert(e,s),xE(r.remoteStore,new Ki(wr(Bp(e.path)),s,"TargetPurposeLimboResolution",Xf.le))}}async function wu(r,t,e){const s=Nt(r),o=[],u=[],f=[];s.ru.isEmpty()||(s.ru.forEach((d,p)=>{f.push(s.Pu(p,t,e).then(g=>{var v;if((g||e)&&s.isPrimaryClient){const w=g?!g.fromCache:(v=e==null?void 0:e.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=Kp.Ps(p.targetId,g);u.push(w)}}))}),await Promise.all(f),s.nu.Q_(o),await async function(p,g){const v=Nt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ot.forEach(g,T=>ot.forEach(T.ls,I=>v.persistence.referenceDelegate.addReference(w,T.targetId,I)).next(()=>ot.forEach(T.hs,I=>v.persistence.referenceDelegate.removeReference(w,T.targetId,I)))))}catch(w){if(!So(w))throw w;mt(Yp,"Failed to update sequence numbers: "+w)}for(const w of g){const T=w.targetId;if(!w.fromCache){const I=v.Ss.get(T),D=I.snapshotVersion,O=I.withLastLimboFreeSnapshotVersion(D);v.Ss=v.Ss.insert(T,O)}}}(s.localStore,u))}async function mD(r,t){const e=Nt(r);if(!e.currentUser.isEqual(t)){mt(rg,"User change. New user:",t.toKey());const s=await SE(e.localStore,t);e.currentUser=t,function(u,f){u.cu.forEach(d=>{d.forEach(p=>{p.reject(new pt(lt.CANCELLED,f))})}),u.cu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await wu(e,s.Ms)}}function pD(r,t){const e=Nt(r),s=e._u.get(t);if(s&&s.tu)return Gt().add(s.key);{let o=Gt();const u=e.iu.get(t);if(!u)return o;for(const f of u){const d=e.ru.get(f);o=o.unionWith(d.view.Wa)}return o}}function HE(r){const t=Nt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=jE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=pD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cD.bind(null,t),t.nu.Q_=Z2.bind(null,t.eventManager),t.nu.Tu=J2.bind(null,t.eventManager),t}function gD(r){const t=Nt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=fD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=hD.bind(null,t),t}class Gf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ih(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,e){return null}fu(t,e){return null}Vu(t){return b2(this.persistence,new y2,t.initialUser,this.serializer)}Ru(t){return new wE(Qp.Ei,this.serializer)}Au(t){return new R2}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gf.provider={build:()=>new Gf};class yD extends Gf{constructor(t){super(),this.cacheSizeBytes=t}mu(t,e){Wt(this.persistence.referenceDelegate instanceof jf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new n2(s,t.asyncQueue,e)}Ru(t){const e=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new wE(s=>jf.Ei(s,e),this.serializer)}}class cp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>sb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=mD.bind(null,this.syncEngine),await Y2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new W2}()}createDatastore(t){const e=ih(t.databaseInfo.databaseId),s=function(u){return new O2(u)}(t.databaseInfo);return function(u,f,d,p){return new V2(u,f,d,p)}(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return function(s,o,u,f,d){return new U2(s,o,u,f,d)}(this.localStore,this.datastore,t.asyncQueue,e=>sb(this.syncEngine,e,0),function(){return J0.C()?new J0:new x2}())}createSyncEngine(t,e){return function(o,u,f,d,p,g,v){const w=new rD(o,u,f,d,p,g);return v&&(w.hu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(o){const u=Nt(o);mt(Js,"RemoteStore shutting down."),u.aa.add(5),await Eu(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}cp.provider={build:()=>new cp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):li("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="FirestoreClient";class vD{constructor(t,e,s,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=LT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{mt(as,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(mt(as,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=eg(e,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function km(r,t){r.asyncQueue.verifyOperationInProgress(),mt(as,"Initializing OfflineComponentProvider");const e=r.configuration;await t.initialize(e);let s=e.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await SE(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function ob(r,t){r.asyncQueue.verifyOperationInProgress();const e=await _D(r);mt(as,"Initializing OnlineComponentProvider"),await t.initialize(e,r.configuration),r.setCredentialChangeListener(s=>eb(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>eb(t.remoteStore,o)),r._onlineComponents=t}async function _D(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){mt(as,"Using user provided OfflineComponentProvider");try{await km(r,r._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(o){return o.name==="FirebaseError"?o.code===lt.FAILED_PRECONDITION||o.code===lt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(e))throw e;fo("Error using user provided cache. Falling back to memory cache: "+e),await km(r,new Gf)}}else mt(as,"Using default OfflineComponentProvider"),await km(r,new yD(void 0));return r._offlineComponents}async function $E(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(mt(as,"Using user provided OnlineComponentProvider"),await ob(r,r._uninitializedComponentsProvider._online)):(mt(as,"Using default OnlineComponentProvider"),await ob(r,new cp))),r._onlineComponents}function bD(r){return $E(r).then(t=>t.syncEngine)}async function QE(r){const t=await $E(r),e=t.eventManager;return e.onListen=iD.bind(null,t.syncEngine),e.onUnlisten=oD.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=sD.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=lD.bind(null,t.syncEngine),e}function TD(r,t,e={}){const s=new ni;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,d,p,g){const v=new FE({next:T=>{v.yu(),f.enqueueAndForget(()=>LE(u,w));const I=T.docs.has(d);!I&&T.fromCache?g.reject(new pt(lt.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&T.fromCache&&p&&p.source==="server"?g.reject(new pt(lt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),w=new VE(Bp(d.path),v,{includeMetadataChanges:!0,Fa:!0});return kE(u,w)}(await QE(r),r.asyncQueue,t,e,s)),s.promise}function ED(r,t,e={}){const s=new ni;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,d,p,g){const v=new FE({next:T=>{v.yu(),f.enqueueAndForget(()=>LE(u,w)),T.fromCache&&p.source==="server"?g.reject(new pt(lt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),w=new VE(d,v,{includeMetadataChanges:!0,Fa:!0});return kE(u,w)}(await QE(r),r.asyncQueue,t,e,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(r,t,e){if(!e)throw new pt(lt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function wD(r,t,e,s){if(t===!0&&s===!0)throw new pt(lt.INVALID_ARGUMENT,`${r} and ${e} cannot be used together.`)}function ub(r){if(!Et.isDocumentKey(r))throw new pt(lt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function cb(r){if(Et.isDocumentKey(r))throw new pt(lt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function oh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Ct(12329,{type:typeof r})}function ta(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new pt(lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=oh(r);throw new pt(lt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="firestore.googleapis.com",fb=!0;class hb{constructor(t){var e,s;if(t.host===void 0){if(t.ssl!==void 0)throw new pt(lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XE,this.ssl=fb}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:fb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=EE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<t2)throw new pt(lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}wD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KE((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new pt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new pt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new pt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class lh{constructor(t,e,s,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt(lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new pt(lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Nx;switch(s.type){case"firstParty":return new Lx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pt(lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,$f("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const s=lb.get(e);s&&(mt("ComponentProvider","Removing Datastore"),lb.delete(e),s.terminate())}(this),Promise.resolve()}}function SD(r,t,e,s={}){var o;r=ta(r,lh);const u=du(t),f=r._getSettings(),d=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${t}:${e}`;f.host!==XE&&f.host!==p&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!Ys(g,d)&&(r._setSettings(g),u&&(qb(`https://${p}`),$f("Firestore",!0)),s.mockUserToken)){let v,w;if(typeof s.mockUserToken=="string")v=s.mockUserToken,w=nn.MOCK_USER;else{v=ZS(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new pt(lt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new nn(T)}r._authCredentials=new Ox(new MT(v,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Co(this.firestore,t,this._query)}}class yn{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new yn(this.firestore,t,this._key)}}class Ji extends Co{constructor(t,e,s){super(t,e,Bp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new yn(this.firestore,null,new Et(t))}withConverter(t){return new Ji(this.firestore,t,this._path)}}function AD(r,t,...e){if(r=vn(r),YE("collection","path",t),r instanceof lh){const s=ue.fromString(t,...e);return cb(s),new Ji(r,null,s)}{if(!(r instanceof yn||r instanceof Ji))throw new pt(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ue.fromString(t,...e));return cb(s),new Ji(r.firestore,null,s)}}function vo(r,t,...e){if(r=vn(r),arguments.length===1&&(t=LT.newId()),YE("doc","path",t),r instanceof lh){const s=ue.fromString(t,...e);return ub(s),new yn(r,null,new Et(s))}{if(!(r instanceof yn||r instanceof Ji))throw new pt(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ue.fromString(t,...e));return ub(s),new yn(r.firestore,r instanceof Ji?r.converter:null,new Et(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="AsyncQueue";class mb{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new CE(this,"async_queue_retry"),this.ju=()=>{const s=Mm();s&&mt(db,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=t;const e=Mm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const e=Mm();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const e=new ni;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!So(t))throw t;mt(db,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const e=this.Hu.then(()=>(this.Wu=!0,t().catch(s=>{throw this.Ku=s,this.Wu=!1,li("INTERNAL UNHANDLED ERROR: ",pb(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=e,e}enqueueAfterDelay(t,e,s){this.Ju(),this.zu.indexOf(t)>-1&&(e=0);const o=tg.createAndSchedule(this,t,e,s,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&Ct(47125,{ec:pb(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const e of this.Uu)if(e.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((e,s)=>e.targetTimeMs-s.targetTimeMs);for(const e of this.Uu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const e=this.Uu.indexOf(t);this.Uu.splice(e,1)}}function pb(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class uh extends lh{constructor(t,e,s,o){super(t,e,s,o),this.type="firestore",this._queue=new mb,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new mb(t),this._firestoreClient=void 0,await t}}}function CD(r,t){const e=typeof r=="object"?r:Qb(),s=typeof r=="string"?r:Mf,o=wp(e,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=XS("firestore");u&&SD(o,...u)}return o}function sg(r){if(r._terminated)throw new pt(lt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||RD(r),r._firestoreClient}function RD(r){var t,e,s;const o=r._freezeSettings(),u=function(d,p,g,v){return new Xx(d,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,KE(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((e=o.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new vD(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(t){this._byteString=t}static fromBase64String(t){try{return new _o(Xe.fromBase64String(t))}catch(e){throw new pt(lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new _o(Xe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new pt(lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new pt(lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new pt(lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=/^__.*__$/;class ID{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new aa(t,this.data,this.fieldMask,e,this.fieldTransforms):new bu(t,this.data,e,this.fieldTransforms)}}function ZE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ct(40011,{oc:r})}}class ug{constructor(t,e,s,o,u,f){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new ug(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),o=this.ac({path:s,cc:!1});return o.lc(t),o}hc(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),o=this.ac({path:s,cc:!1});return o._c(),o}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return qf(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(ZE(this.oc)&&xD.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class DD{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||ih(t)}dc(t,e,s,o=!1){return new ug({oc:t,methodName:e,Ec:s,path:Ye.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function JE(r){const t=r._freezeSettings(),e=ih(r._databaseId);return new DD(r._databaseId,!!t.ignoreUndefinedProperties,e)}function ND(r,t,e,s,o,u={}){const f=r.dc(u.merge||u.mergeFields?2:0,t,e,o);n1("Data must be an object, but it was:",f,s);const d=t1(s,f);let p,g;if(u.merge)p=new Zn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const v=[];for(const w of u.mergeFields){const T=MD(t,w,e);if(!f.contains(T))throw new pt(lt.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);LD(v,T)||v.push(T)}p=new Zn(v),g=f.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=f.fieldTransforms;return new ID(new qn(d),p,g)}function OD(r,t,e,s=!1){return cg(e,r.dc(s?4:3,t))}function cg(r,t){if(e1(r=vn(r)))return n1("Unsupported field value:",t,r),t1(r,t);if(r instanceof WE)return function(s,o){if(!ZE(o.oc))throw o.Tc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const d of s){let p=cg(d,o.Pc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,t)}return function(s,o){if((s=vn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return _I(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Le.fromDate(s);return{timestampValue:zf(o.serializer,u)}}if(s instanceof Le){const u=new Le(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:zf(o.serializer,u)}}if(s instanceof og)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof _o)return{bytesValue:pE(o.serializer,s._byteString)};if(s instanceof yn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Tc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Fp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof lg)return function(f,d){return{mapValue:{fields:{[qT]:{stringValue:HT},[kf]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw d.Tc("VectorValues must only contain numeric values.");return Gp(d.serializer,g)})}}}}}}(s,o);throw o.Tc(`Unsupported field value: ${oh(s)}`)}(r,t)}function t1(r,t){const e={};return PT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ia(r,(s,o)=>{const u=cg(o,t.uc(s));u!=null&&(e[s]=u)}),{mapValue:{fields:e}}}function e1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Le||r instanceof og||r instanceof _o||r instanceof yn||r instanceof WE||r instanceof lg)}function n1(r,t,e){if(!e1(e)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(e)){const s=oh(e);throw s==="an object"?t.Tc(r+" a custom object"):t.Tc(r+" "+s)}}function MD(r,t,e){if((t=vn(t))instanceof ag)return t._internalPath;if(typeof t=="string")return r1(r,t);throw qf("Field path arguments must be of type string or ",r,!1,void 0,e)}const kD=new RegExp("[~\\*/\\[\\]]");function r1(r,t,e){if(t.search(kD)>=0)throw qf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,e);try{return new ag(...t.split("."))._internalPath}catch{throw qf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,e)}}function qf(r,t,e,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new pt(lt.INVALID_ARGUMENT,d+r+p)}function LD(r,t){return r.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(t,e,s,o,u){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new VD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(fg("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class VD extends i1{data(){return super.data()}}function fg(r,t){return typeof t=="string"?r1(r,t):t instanceof ag?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new pt(lt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hg{}class UD extends hg{}function zD(r,t,...e){let s=[];t instanceof hg&&s.push(t),s=s.concat(e),function(u){const f=u.filter(p=>p instanceof dg).length,d=u.filter(p=>p instanceof ch).length;if(f>1||f>0&&d>0)throw new pt(lt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class ch extends UD{constructor(t,e,s){super(),this._field=t,this._op=e,this._value=s,this.type="where"}static _create(t,e,s){return new ch(t,e,s)}_apply(t){const e=this._parse(t);return s1(t._query,e),new Co(t.firestore,t.converter,tp(t._query,e))}_parse(t){const e=JE(t.firestore);return function(u,f,d,p,g,v,w){let T;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new pt(lt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){vb(w,v);const D=[];for(const O of w)D.push(yb(p,u,O));T={arrayValue:{values:D}}}else T=yb(p,u,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||vb(w,v),T=OD(d,f,w,v==="in"||v==="not-in");return xe.create(g,v,T)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function gb(r,t,e){const s=t,o=fg("where",r);return ch._create(o,s,e)}class dg extends hg{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new dg(t,e)}_parse(t){const e=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return e.length===1?e[0]:tr.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(o,u){let f=o;const d=u.getFlattenedFilters();for(const p of d)s1(f,p),f=tp(f,p)}(t._query,e),new Co(t.firestore,t.converter,tp(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function yb(r,t,e){if(typeof(e=vn(e))=="string"){if(e==="")throw new pt(lt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZT(t)&&e.indexOf("/")!==-1)throw new pt(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const s=t.path.child(ue.fromString(e));if(!Et.isDocumentKey(s))throw new pt(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return N0(r,new Et(s))}if(e instanceof yn)return N0(r,e._key);throw new pt(lt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oh(e)}.`)}function vb(r,t){if(!Array.isArray(r)||r.length===0)throw new pt(lt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function s1(r,t){const e=function(o,u){for(const f of o)for(const d of f.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new pt(lt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new pt(lt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class jD{convertValue(t,e="none"){switch(is(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(rs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Ct(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return ia(t,(o,u)=>{s[o]=this.convertValue(u,e)}),s}convertVectorValue(t){var e,s,o;const u=(o=(s=(e=t.fields)===null||e===void 0?void 0:e[kf].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>Ee(f.doubleValue));return new lg(u)}convertGeoPoint(t){return new og(Ee(t.latitude),Ee(t.longitude))}convertArray(t,e){return(t.values||[]).map(s=>this.convertValue(s,e))}convertServerTimestamp(t,e){switch(e){case"previous":const s=Zf(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(su(t));default:return null}}convertTimestamp(t){const e=ns(t);return new Le(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=ue.fromString(t);Wt(TE(s),9688,{name:t});const o=new au(s.get(1),s.get(3)),u=new Et(s.popFirst(5));return o.isEqual(e)||li(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(r,t,e){let s;return s=r?e&&(e.merge||e.mergeFields)?r.toFirestore(t,e):r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class a1 extends i1{constructor(t,e,s,o,u,f){super(t,e,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Tf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(fg("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}}class Tf extends a1{data(t={}){return super.data(t)}}class GD{constructor(t,e,s,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new Kl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(s=>{t.call(e,new Tf(this._firestore,this._userDataWriter,s.key,s,new Kl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new pt(lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(d=>{const p=new Tf(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Kl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const p=new Tf(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Kl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return d.type!==0&&(g=f.indexOf(d.doc.key),f=f.delete(d.doc.key)),d.type!==1&&(f=f.add(d.doc),v=f.indexOf(d.doc.key)),{type:qD(d.type),doc:p,oldIndex:g,newIndex:v}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function qD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ct(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(r){r=ta(r,yn);const t=ta(r.firestore,uh);return TD(sg(t),r._key).then(e=>$D(t,r,e))}class o1 extends jD{constructor(t){super(),this.firestore=t}convertBytes(t){return new _o(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new yn(this.firestore,null,e)}}function HD(r){r=ta(r,Co);const t=ta(r.firestore,uh),e=sg(t),s=new o1(t);return PD(r._query),ED(e,r._query).then(o=>new GD(t,s,r,o))}function l1(r,t,e){r=ta(r,yn);const s=ta(r.firestore,uh),o=BD(r.converter,t,e);return FD(s,[ND(JE(s),"setDoc",r._key,o,r.converter!==null,e).toMutation(r._key,ri.none())])}function FD(r,t){return function(s,o){const u=new ni;return s.asyncQueue.enqueueAndForget(async()=>uD(await bD(s),o,u)),u.promise}(sg(r),t)}function $D(r,t,e){const s=e.docs.get(t._key),o=new o1(r);return new a1(r,o,t._key,s,new Kl(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(o){Eo=o})(bo),uo(new Xs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),d=new uh(new Mx(s.getProvider("auth-internal")),new Vx(f,s.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new pt(lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(g.options.projectId,v)}(f,o),f);return u=Object.assign({useFetchStreams:e},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),Wi(_0,b0,t),Wi(_0,b0,"esm2017")})();class ii{constructor(t=""){oe(this,"settings");oe(this,"timesTableData");oe(this,"longMultData");oe(this,"isTeacher");oe(this,"classroomId");oe(this,"userName");this.timesTableData={historyGrid:Array.from({length:12},()=>Array.from({length:12},()=>0)),numCorrect:0,maxCorrect:0},this.settings={mode:"SelectedFactor",speedMode:!1},this.longMultData={difficultyScore:[0,0,0,0,0],numCorrect:0},this.isTeacher=!1,this.classroomId="",this.userName=t}toFireStore(){return{timesTableData:{historyGrid:this.timesTableData.historyGrid.flat(),numCorrect:this.timesTableData.numCorrect,maxCorrect:this.timesTableData.maxCorrect},settings:{mode:this.settings.mode,speedMode:this.settings.speedMode},longMultData:{difficultyScore:this.longMultData.difficultyScore,numCorrect:this.longMultData.numCorrect},isTeacher:this.isTeacher,classroomId:this.classroomId,userName:this.userName}}correct(t){this.settings.mode==="SelectedFactor"||this.settings.mode==="TimesTableAuto"?this.correctTimesTable(t.factor1,t.factor2):this.settings.mode==="LongMult"?this.correctLongMult(t.difficulty):console.error("Incompatible mode: ",this.settings.mode)}correctTimesTable(t,e){this.timesTableData.historyGrid[t-1][e-1]+=1,this.timesTableData.numCorrect+=1,this.timesTableData.historyGrid[t-1][e-1]>this.timesTableData.maxCorrect&&(this.timesTableData.maxCorrect=this.timesTableData.historyGrid[t-1][e-1])}correctLongMult(t){Number.isNaN(this.longMultData.difficultyScore[t])?this.longMultData.difficultyScore[t]=1:this.longMultData.difficultyScore[t]+=1,this.longMultData.numCorrect+=1}changeMode(t){this.settings.mode=t}speedModeToggle(){this.settings.speedMode=!this.settings.speedMode}toggleTeacher(){this.isTeacher=!this.isTeacher}setClassroomId(t){this.classroomId=t}setUserName(t){this.userName=t}clone(){const t=new ii;return t.timesTableData=this.timesTableData,t.settings=this.settings,t.longMultData=this.longMultData,t.classroomId=this.classroomId,t.isTeacher=this.isTeacher,t.userName=this.userName,t}static fromFireStore(t){let e=new ii;const s=[],o=t.timesTableData.historyGrid;for(let d=0;d<12;d++)s.push(o.slice(d*12,(d+1)*12));e.timesTableData.historyGrid=s,e.timesTableData.numCorrect=t.timesTableData.numCorrect,e.timesTableData.maxCorrect=t.timesTableData.maxCorrect;let u={mode:t.settings.mode,speedMode:t.settings.speedMode},f={difficultyScore:t.longMultData.difficultyScore,numCorrect:t.longMultData.numCorrect};return e.settings=u,e.longMultData=f,e.isTeacher=t.isTeacher,e.classroomId=t.classroomId,e.userName=t.userName,e}static generateCode(t=5){const e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let s="";for(let o=0;o<t;o++){const u=Math.floor(Math.random()*e.length);s+=e[u]}return s}}const QD={apiKey:"AIzaSyDdys6xkXRUIkb_Q4jYzOfutDgrqc-6H28",authDomain:"math-crow.firebaseapp.com",projectId:"math-crow",storageBucket:"math-crow.firebasestorage.app",messagingSenderId:"372664559387",appId:"1:372664559387:web:4f9b9b09342fc9392555be",measurementId:"G-MZBJMBBLPS"},u1=$b(QD),Lm=Sx(u1),ea=CD(u1),KD=new Jr,Su=async(r,t)=>{if(!r)return;const e=vo(ea,"users",r.uid);try{await l1(e,t==null?void 0:t.toFireStore(),{merge:!0})}catch(s){console.error("Error saving user data:",s),alert("Failed to save data.")}},na=xx((r,t)=>{Su(r,t)},5e3),YD=async r=>{let t=ii.generateCode();const e=vo(ea,"classrooms",t);let s=await cu(e);for(;s.exists();){let o=ii.generateCode();const u=vo(ea,"classrooms",o);s=await cu(u)}try{await l1(e,{className:r})}catch(o){console.error("Error saving user data:",o),alert("Failed to save data.")}return t},XD=async r=>{const t=vo(ea,"classrooms",r);return!!(await cu(t)).exists()},WD=async r=>{if(!r)return;const t=vo(ea,"users",r.uid),e=await cu(t);if(!e.exists())throw new Error("Teacher doc not found");const s=e.data().classroomId,o=zD(AD(ea,"users"),gb("classroomId","==",s),gb("isTeacher","==",!1));return(await HD(o)).docs.map(f=>ii.fromFireStore(f.data()))},c1=x.createContext(void 0),hn=()=>{const r=x.useContext(c1);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r},ZD=({children:r})=>{const[t,e]=x.useState(null),[s,o]=x.useState(!0);x.useEffect(()=>hR(Lm,p=>{e(p),o(!1)}),[]);const u=async()=>{try{await MR(Lm,KD)}catch(d){console.error("Login failed:",d)}},f=async()=>{await dR(Lm)};return B.jsx(c1.Provider,{value:{user:t,loading:s,loginWithGoogle:u,logout:f},children:r})};function f1(r){var t,e,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(t=0;t<o;t++)r[t]&&(e=f1(r[t]))&&(s&&(s+=" "),s+=e)}else for(e in r)r[e]&&(s&&(s+=" "),s+=e);return s}function ts(){for(var r,t,e=0,s="",o=arguments.length;e<o;e++)(r=arguments[e])&&(t=f1(r))&&(s&&(s+=" "),s+=t);return s}function JD(r){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e),e.styleSheet?e.styleSheet.cssText=r:e.appendChild(document.createTextNode(r))}JD(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Au=r=>typeof r=="number"&&!isNaN(r),ra=r=>typeof r=="string",ci=r=>typeof r=="function",tN=r=>ra(r)||Au(r),fp=r=>ra(r)||ci(r)?r:null,eN=(r,t)=>r===!1||Au(r)&&r>0?r:t,hp=r=>x.isValidElement(r)||ra(r)||ci(r)||Au(r);function nN(r,t,e=300){let{scrollHeight:s,style:o}=r;requestAnimationFrame(()=>{o.minHeight="initial",o.height=s+"px",o.transition=`all ${e}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,e)})})}function rN({enter:r,exit:t,appendPosition:e=!1,collapse:s=!0,collapseDuration:o=300}){return function({children:u,position:f,preventExitTransition:d,done:p,nodeRef:g,isIn:v,playToast:w}){let T=e?`${r}--${f}`:r,I=e?`${t}--${f}`:t,D=x.useRef(0);return x.useLayoutEffect(()=>{let O=g.current,L=T.split(" "),z=G=>{G.target===g.current&&(w(),O.removeEventListener("animationend",z),O.removeEventListener("animationcancel",z),D.current===0&&G.type!=="animationcancel"&&O.classList.remove(...L))};O.classList.add(...L),O.addEventListener("animationend",z),O.addEventListener("animationcancel",z)},[]),x.useEffect(()=>{let O=g.current,L=()=>{O.removeEventListener("animationend",L),s?nN(O,p,o):p()};v||(d?L():(D.current=1,O.className+=` ${I}`,O.addEventListener("animationend",L)))},[v]),le.createElement(le.Fragment,null,u)}}function _b(r,t){return{content:h1(r.content,r.props),containerId:r.props.containerId,id:r.props.toastId,theme:r.props.theme,type:r.props.type,data:r.props.data||{},isLoading:r.props.isLoading,icon:r.props.icon,reason:r.removalReason,status:t}}function h1(r,t,e=!1){return x.isValidElement(r)&&!ra(r.type)?x.cloneElement(r,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):ci(r)?r({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):r}function iN({closeToast:r,theme:t,ariaLabel:e="close"}){return le.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:s=>{s.stopPropagation(),r(!0)},"aria-label":e},le.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},le.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function sN({delay:r,isRunning:t,closeToast:e,type:s="default",hide:o,className:u,controlledProgress:f,progress:d,rtl:p,isIn:g,theme:v}){let w=o||f&&d===0,T={animationDuration:`${r}ms`,animationPlayState:t?"running":"paused"};f&&(T.transform=`scaleX(${d})`);let I=ts("Toastify__progress-bar",f?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${v}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":p}),D=ci(u)?u({rtl:p,type:s,defaultClassName:I}):ts(I,u),O={[f&&d>=1?"onTransitionEnd":"onAnimationEnd"]:f&&d<1?null:()=>{g&&e()}};return le.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":w},le.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${v} Toastify__progress-bar--${s}`}),le.createElement("div",{role:"progressbar","aria-hidden":w?"true":"false","aria-label":"notification timer",className:D,style:T,...O}))}var aN=1,d1=()=>`${aN++}`;function oN(r,t,e){let s=1,o=0,u=[],f=[],d=t,p=new Map,g=new Set,v=G=>(g.add(G),()=>g.delete(G)),w=()=>{f=Array.from(p.values()),g.forEach(G=>G())},T=({containerId:G,toastId:K,updateId:J})=>{let F=G?G!==r:r!==1,ct=p.has(K)&&J==null;return F||ct},I=(G,K)=>{p.forEach(J=>{var F;(K==null||K===J.props.toastId)&&((F=J.toggle)==null||F.call(J,G))})},D=G=>{var K,J;(J=(K=G.props)==null?void 0:K.onClose)==null||J.call(K,G.removalReason),G.isActive=!1},O=G=>{if(G==null)p.forEach(D);else{let K=p.get(G);K&&D(K)}w()},L=()=>{o-=u.length,u=[]},z=G=>{var K,J;let{toastId:F,updateId:ct}=G.props,R=ct==null;G.staleId&&p.delete(G.staleId),G.isActive=!0,p.set(F,G),w(),e(_b(G,R?"added":"updated")),R&&((J=(K=G.props).onOpen)==null||J.call(K))};return{id:r,props:d,observe:v,toggle:I,removeToast:O,toasts:p,clearQueue:L,buildToast:(G,K)=>{if(T(K))return;let{toastId:J,updateId:F,data:ct,staleId:R,delay:E}=K,A=F==null;A&&o++;let M={...d,style:d.toastStyle,key:s++,...Object.fromEntries(Object.entries(K).filter(([U,N])=>N!=null)),toastId:J,updateId:F,data:ct,isIn:!1,className:fp(K.className||d.toastClassName),progressClassName:fp(K.progressClassName||d.progressClassName),autoClose:K.isLoading?!1:eN(K.autoClose,d.autoClose),closeToast(U){p.get(J).removalReason=U,O(J)},deleteToast(){let U=p.get(J);if(U!=null){if(e(_b(U,"removed")),p.delete(J),o--,o<0&&(o=0),u.length>0){z(u.shift());return}w()}}};M.closeButton=d.closeButton,K.closeButton===!1||hp(K.closeButton)?M.closeButton=K.closeButton:K.closeButton===!0&&(M.closeButton=hp(d.closeButton)?d.closeButton:!0);let V={content:G,props:M,staleId:R};d.limit&&d.limit>0&&o>d.limit&&A?u.push(V):Au(E)?setTimeout(()=>{z(V)},E):z(V)},setProps(G){d=G},setToggle:(G,K)=>{let J=p.get(G);J&&(J.toggle=K)},isToastActive:G=>{var K;return(K=p.get(G))==null?void 0:K.isActive},getSnapshot:()=>f}}var fn=new Map,fu=[],dp=new Set,lN=r=>dp.forEach(t=>t(r)),m1=()=>fn.size>0;function uN(){fu.forEach(r=>g1(r.content,r.options)),fu=[]}var cN=(r,{containerId:t})=>{var e;return(e=fn.get(t||1))==null?void 0:e.toasts.get(r)};function p1(r,t){var e;if(t)return!!((e=fn.get(t))!=null&&e.isToastActive(r));let s=!1;return fn.forEach(o=>{o.isToastActive(r)&&(s=!0)}),s}function fN(r){if(!m1()){fu=fu.filter(t=>r!=null&&t.options.toastId!==r);return}if(r==null||tN(r))fn.forEach(t=>{t.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){let t=fn.get(r.containerId);t?t.removeToast(r.id):fn.forEach(e=>{e.removeToast(r.id)})}}var hN=(r={})=>{fn.forEach(t=>{t.props.limit&&(!r.containerId||t.id===r.containerId)&&t.clearQueue()})};function g1(r,t){hp(r)&&(m1()||fu.push({content:r,options:t}),fn.forEach(e=>{e.buildToast(r,t)}))}function dN(r){var t;(t=fn.get(r.containerId||1))==null||t.setToggle(r.id,r.fn)}function y1(r,t){fn.forEach(e=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===e.id)&&e.toggle(r,t==null?void 0:t.id)})}function mN(r){let t=r.containerId||1;return{subscribe(e){let s=oN(t,r,lN);fn.set(t,s);let o=s.observe(e);return uN(),()=>{o(),fn.delete(t)}},setProps(e){var s;(s=fn.get(t))==null||s.setProps(e)},getSnapshot(){var e;return(e=fn.get(t))==null?void 0:e.getSnapshot()}}}function pN(r){return dp.add(r),()=>{dp.delete(r)}}function gN(r){return r&&(ra(r.toastId)||Au(r.toastId))?r.toastId:d1()}function Cu(r,t){return g1(r,t),t.toastId}function fh(r,t){return{...t,type:t&&t.type||r,toastId:gN(t)}}function hh(r){return(t,e)=>Cu(t,fh(r,e))}function Yt(r,t){return Cu(r,fh("default",t))}Yt.loading=(r,t)=>Cu(r,fh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function yN(r,{pending:t,error:e,success:s},o){let u;t&&(u=ra(t)?Yt.loading(t,o):Yt.loading(t.render,{...o,...t}));let f={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(g,v,w)=>{if(v==null){Yt.dismiss(u);return}let T={type:g,...f,...o,data:w},I=ra(v)?{render:v}:v;return u?Yt.update(u,{...T,...I}):Yt(I.render,{...T,...I}),w},p=ci(r)?r():r;return p.then(g=>d("success",s,g)).catch(g=>d("error",e,g)),p}Yt.promise=yN;Yt.success=hh("success");Yt.info=hh("info");Yt.error=hh("error");Yt.warning=hh("warning");Yt.warn=Yt.warning;Yt.dark=(r,t)=>Cu(r,fh("default",{theme:"dark",...t}));function vN(r){fN(r)}Yt.dismiss=vN;Yt.clearWaitingQueue=hN;Yt.isActive=p1;Yt.update=(r,t={})=>{let e=cN(r,t);if(e){let{props:s,content:o}=e,u={delay:100,...s,...t,toastId:t.toastId||r,updateId:d1()};u.toastId!==r&&(u.staleId=r);let f=u.render||o;delete u.render,Cu(f,u)}};Yt.done=r=>{Yt.update(r,{progress:1})};Yt.onChange=pN;Yt.play=r=>y1(!0,r);Yt.pause=r=>y1(!1,r);function _N(r){var t;let{subscribe:e,getSnapshot:s,setProps:o}=x.useRef(mN(r)).current;o(r);let u=(t=x.useSyncExternalStore(e,s,s))==null?void 0:t.slice();function f(d){if(!u)return[];let p=new Map;return r.newestOnTop&&u.reverse(),u.forEach(g=>{let{position:v}=g.props;p.has(v)||p.set(v,[]),p.get(v).push(g)}),Array.from(p,g=>d(g[0],g[1]))}return{getToastToRender:f,isToastActive:p1,count:u==null?void 0:u.length}}function bN(r){let[t,e]=x.useState(!1),[s,o]=x.useState(!1),u=x.useRef(null),f=x.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:p,closeToast:g,onClick:v,closeOnClick:w}=r;dN({id:r.toastId,containerId:r.containerId,fn:e}),x.useEffect(()=>{if(r.pauseOnFocusLoss)return T(),()=>{I()}},[r.pauseOnFocusLoss]);function T(){document.hasFocus()||z(),window.addEventListener("focus",L),window.addEventListener("blur",z)}function I(){window.removeEventListener("focus",L),window.removeEventListener("blur",z)}function D(R){if(r.draggable===!0||r.draggable===R.pointerType){G();let E=u.current;f.canCloseOnClick=!0,f.canDrag=!0,E.style.transition="none",r.draggableDirection==="x"?(f.start=R.clientX,f.removalDistance=E.offsetWidth*(r.draggablePercent/100)):(f.start=R.clientY,f.removalDistance=E.offsetHeight*(r.draggablePercent===80?r.draggablePercent*1.5:r.draggablePercent)/100)}}function O(R){let{top:E,bottom:A,left:M,right:V}=u.current.getBoundingClientRect();R.nativeEvent.type!=="touchend"&&r.pauseOnHover&&R.clientX>=M&&R.clientX<=V&&R.clientY>=E&&R.clientY<=A?z():L()}function L(){e(!0)}function z(){e(!1)}function G(){f.didMove=!1,document.addEventListener("pointermove",J),document.addEventListener("pointerup",F)}function K(){document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",F)}function J(R){let E=u.current;if(f.canDrag&&E){f.didMove=!0,t&&z(),r.draggableDirection==="x"?f.delta=R.clientX-f.start:f.delta=R.clientY-f.start,f.start!==R.clientX&&(f.canCloseOnClick=!1);let A=r.draggableDirection==="x"?`${f.delta}px, var(--y)`:`0, calc(${f.delta}px + var(--y))`;E.style.transform=`translate3d(${A},0)`,E.style.opacity=`${1-Math.abs(f.delta/f.removalDistance)}`}}function F(){K();let R=u.current;if(f.canDrag&&f.didMove&&R){if(f.canDrag=!1,Math.abs(f.delta)>f.removalDistance){o(!0),r.closeToast(!0),r.collapseAll();return}R.style.transition="transform 0.2s, opacity 0.2s",R.style.removeProperty("transform"),R.style.removeProperty("opacity")}}let ct={onPointerDown:D,onPointerUp:O};return d&&p&&(ct.onMouseEnter=z,r.stacked||(ct.onMouseLeave=L)),w&&(ct.onClick=R=>{v&&v(R),f.canCloseOnClick&&g(!0)}),{playToast:L,pauseToast:z,isRunning:t,preventExitTransition:s,toastRef:u,eventHandlers:ct}}var TN=typeof window<"u"?x.useLayoutEffect:x.useEffect,dh=({theme:r,type:t,isLoading:e,...s})=>le.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:r==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...s});function EN(r){return le.createElement(dh,{...r},le.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function wN(r){return le.createElement(dh,{...r},le.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function SN(r){return le.createElement(dh,{...r},le.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function AN(r){return le.createElement(dh,{...r},le.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function CN(){return le.createElement("div",{className:"Toastify__spinner"})}var mp={info:wN,warning:EN,success:SN,error:AN,spinner:CN},RN=r=>r in mp;function xN({theme:r,type:t,isLoading:e,icon:s}){let o=null,u={theme:r,type:t};return s===!1||(ci(s)?o=s({...u,isLoading:e}):x.isValidElement(s)?o=x.cloneElement(s,u):e?o=mp.spinner():RN(t)&&(o=mp[t](u))),o}var IN=r=>{let{isRunning:t,preventExitTransition:e,toastRef:s,eventHandlers:o,playToast:u}=bN(r),{closeButton:f,children:d,autoClose:p,onClick:g,type:v,hideProgressBar:w,closeToast:T,transition:I,position:D,className:O,style:L,progressClassName:z,updateId:G,role:K,progress:J,rtl:F,toastId:ct,deleteToast:R,isIn:E,isLoading:A,closeOnClick:M,theme:V,ariaLabel:U}=r,N=ts("Toastify__toast",`Toastify__toast-theme--${V}`,`Toastify__toast--${v}`,{"Toastify__toast--rtl":F},{"Toastify__toast--close-on-click":M}),Mt=ci(O)?O({rtl:F,position:D,type:v,defaultClassName:N}):ts(N,O),Rt=xN(r),X=!!J||!p,ut={closeToast:T,type:v,theme:V},et=null;return f===!1||(ci(f)?et=f(ut):x.isValidElement(f)?et=x.cloneElement(f,ut):et=iN(ut)),le.createElement(I,{isIn:E,done:R,position:D,preventExitTransition:e,nodeRef:s,playToast:u},le.createElement("div",{id:ct,tabIndex:0,onClick:g,"data-in":E,className:Mt,...o,style:L,ref:s,...E&&{role:K,"aria-label":U}},Rt!=null&&le.createElement("div",{className:ts("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!A})},Rt),h1(d,r,!t),et,!r.customProgressBar&&le.createElement(sN,{...G&&!X?{key:`p-${G}`}:{},rtl:F,theme:V,delay:p,isRunning:t,isIn:E,closeToast:T,hide:w,type:v,className:z,controlledProgress:X,progress:J||0})))},DN=(r,t=!1)=>({enter:`Toastify--animate Toastify__${r}-enter`,exit:`Toastify--animate Toastify__${r}-exit`,appendPosition:t}),NN=rN(DN("bounce",!0)),ON={position:"top-right",transition:NN,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:r=>r.altKey&&r.code==="KeyT"};function MN(r){let t={...ON,...r},e=r.stacked,[s,o]=x.useState(!0),u=x.useRef(null),{getToastToRender:f,isToastActive:d,count:p}=_N(t),{className:g,style:v,rtl:w,containerId:T,hotKeys:I}=t;function D(L){let z=ts("Toastify__toast-container",`Toastify__toast-container--${L}`,{"Toastify__toast-container--rtl":w});return ci(g)?g({position:L,rtl:w,defaultClassName:z}):ts(z,fp(g))}function O(){e&&(o(!0),Yt.play())}return TN(()=>{var L;if(e){let z=u.current.querySelectorAll('[data-in="true"]'),G=12,K=(L=t.position)==null?void 0:L.includes("top"),J=0,F=0;Array.from(z).reverse().forEach((ct,R)=>{let E=ct;E.classList.add("Toastify__toast--stacked"),R>0&&(E.dataset.collapsed=`${s}`),E.dataset.pos||(E.dataset.pos=K?"top":"bot");let A=J*(s?.2:1)+(s?0:G*R);E.style.setProperty("--y",`${K?A:A*-1}px`),E.style.setProperty("--g",`${G}`),E.style.setProperty("--s",`${1-(s?F:0)}`),J+=E.offsetHeight,F+=.025})}},[s,p,e]),x.useEffect(()=>{function L(z){var G;let K=u.current;I(z)&&((G=K.querySelector('[tabIndex="0"]'))==null||G.focus(),o(!1),Yt.pause()),z.key==="Escape"&&(document.activeElement===K||K!=null&&K.contains(document.activeElement))&&(o(!0),Yt.play())}return document.addEventListener("keydown",L),()=>{document.removeEventListener("keydown",L)}},[I]),le.createElement("section",{ref:u,className:"Toastify",id:T,onMouseEnter:()=>{e&&(o(!1),Yt.pause())},onMouseLeave:O,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},f((L,z)=>{let G=z.length?{...v}:{...v,pointerEvents:"none"};return le.createElement("div",{tabIndex:-1,className:D(L),"data-stacked":e,style:G,key:`c-${L}`},z.map(({content:K,props:J})=>le.createElement(IN,{...J,stacked:e,collapseAll:O,isIn:d(J.toastId,J.containerId),key:`t-${J.key}`},K)))}))}const v1=x.createContext(void 0);function an(){const r=x.useContext(v1);if(!r)throw new Error("useUserDataContext must be used within a userUserDataProvider");return r}const kN=({children:r})=>{const{user:t}=hn(),[e,s]=x.useState(new ii),o=async()=>{s(new ii((t==null?void 0:t.displayName)??""));let u=!1;if(!t)return;const f=vo(ea,"users",t.uid);try{const d=await cu(f);if(d.exists()){u=!0;const p=d.data();s(ii.fromFireStore(p))}}catch(d){console.error("Failed to fetch user data:",d)}u||Su(t,e)};return x.useEffect(()=>{o()},[t==null?void 0:t.uid]),B.jsx(v1.Provider,{value:{userData:e,setUserData:s},children:r})};var Gl={},bb;function LN(){if(bb)return Gl;bb=1,Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.parse=f,Gl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function f(T,I){const D=new u,O=T.length;if(O<2)return D;const L=(I==null?void 0:I.decode)||v;let z=0;do{const G=T.indexOf("=",z);if(G===-1)break;const K=T.indexOf(";",z),J=K===-1?O:K;if(G>J){z=T.lastIndexOf(";",G-1)+1;continue}const F=d(T,z,G),ct=p(T,G,F),R=T.slice(F,ct);if(D[R]===void 0){let E=d(T,G+1,J),A=p(T,J,E);const M=L(T.slice(E,A));D[R]=M}z=J+1}while(z<O);return D}function d(T,I,D){do{const O=T.charCodeAt(I);if(O!==32&&O!==9)return I}while(++I<D);return D}function p(T,I,D){for(;I>D;){const O=T.charCodeAt(--I);if(O!==32&&O!==9)return I+1}return D}function g(T,I,D){const O=(D==null?void 0:D.encode)||encodeURIComponent;if(!r.test(T))throw new TypeError(`argument name is invalid: ${T}`);const L=O(I);if(!t.test(L))throw new TypeError(`argument val is invalid: ${I}`);let z=T+"="+L;if(!D)return z;if(D.maxAge!==void 0){if(!Number.isInteger(D.maxAge))throw new TypeError(`option maxAge is invalid: ${D.maxAge}`);z+="; Max-Age="+D.maxAge}if(D.domain){if(!e.test(D.domain))throw new TypeError(`option domain is invalid: ${D.domain}`);z+="; Domain="+D.domain}if(D.path){if(!s.test(D.path))throw new TypeError(`option path is invalid: ${D.path}`);z+="; Path="+D.path}if(D.expires){if(!w(D.expires)||!Number.isFinite(D.expires.valueOf()))throw new TypeError(`option expires is invalid: ${D.expires}`);z+="; Expires="+D.expires.toUTCString()}if(D.httpOnly&&(z+="; HttpOnly"),D.secure&&(z+="; Secure"),D.partitioned&&(z+="; Partitioned"),D.priority)switch(typeof D.priority=="string"?D.priority.toLowerCase():void 0){case"low":z+="; Priority=Low";break;case"medium":z+="; Priority=Medium";break;case"high":z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${D.priority}`)}if(D.sameSite)switch(typeof D.sameSite=="string"?D.sameSite.toLowerCase():D.sameSite){case!0:case"strict":z+="; SameSite=Strict";break;case"lax":z+="; SameSite=Lax";break;case"none":z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${D.sameSite}`)}return z}function v(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function w(T){return o.call(T)==="[object Date]"}return Gl}LN();var Tb="popstate";function VN(r={}){function t(s,o){let{pathname:u,search:f,hash:d}=s.location;return pp("",{pathname:u,search:f,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function e(s,o){return typeof o=="string"?o:hu(o)}return UN(t,e,null,r)}function he(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function er(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function PN(){return Math.random().toString(36).substring(2,10)}function Eb(r,t){return{usr:r.state,key:r.key,idx:t}}function pp(r,t,e=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Ro(t):t,state:e,key:t&&t.key||s||PN()}}function hu({pathname:r="/",search:t="",hash:e=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(r+=e.charAt(0)==="#"?e:"#"+e),r}function Ro(r){let t={};if(r){let e=r.indexOf("#");e>=0&&(t.hash=r.substring(e),r=r.substring(0,e));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function UN(r,t,e,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,d="POP",p=null,g=v();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function v(){return(f.state||{idx:null}).idx}function w(){d="POP";let L=v(),z=L==null?null:L-g;g=L,p&&p({action:d,location:O.location,delta:z})}function T(L,z){d="PUSH";let G=pp(O.location,L,z);g=v()+1;let K=Eb(G,g),J=O.createHref(G);try{f.pushState(K,"",J)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;o.location.assign(J)}u&&p&&p({action:d,location:O.location,delta:1})}function I(L,z){d="REPLACE";let G=pp(O.location,L,z);g=v();let K=Eb(G,g),J=O.createHref(G);f.replaceState(K,"",J),u&&p&&p({action:d,location:O.location,delta:0})}function D(L){return zN(L)}let O={get action(){return d},get location(){return r(o,f)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Tb,w),p=L,()=>{o.removeEventListener(Tb,w),p=null}},createHref(L){return t(o,L)},createURL:D,encodeLocation(L){let z=D(L);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:T,replace:I,go(L){return f.go(L)}};return O}function zN(r,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),he(e,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:hu(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=e+s),new URL(s,e)}function _1(r,t,e="/"){return jN(r,t,e,!1)}function jN(r,t,e,s){let o=typeof t=="string"?Ro(t):t,u=fi(o.pathname||"/",e);if(u==null)return null;let f=b1(r);BN(f);let d=null;for(let p=0;d==null&&p<f.length;++p){let g=ZN(u);d=XN(f[p],g,s)}return d}function b1(r,t=[],e=[],s=""){let o=(u,f,d)=>{let p={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(he(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=si([s,p.relativePath]),v=e.concat(p);u.children&&u.children.length>0&&(he(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),b1(u.children,t,v,g)),!(u.path==null&&!u.index)&&t.push({path:g,score:KN(g,u.index),routesMeta:v})};return r.forEach((u,f)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))o(u,f);else for(let p of T1(u.path))o(u,f,p)}),t}function T1(r){let t=r.split("/");if(t.length===0)return[];let[e,...s]=t,o=e.endsWith("?"),u=e.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=T1(s.join("/")),d=[];return d.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&d.push(...f),d.map(p=>r.startsWith("/")&&p===""?"/":p)}function BN(r){r.sort((t,e)=>t.score!==e.score?e.score-t.score:YN(t.routesMeta.map(s=>s.childrenIndex),e.routesMeta.map(s=>s.childrenIndex)))}var GN=/^:[\w-]+$/,qN=3,HN=2,FN=1,$N=10,QN=-2,wb=r=>r==="*";function KN(r,t){let e=r.split("/"),s=e.length;return e.some(wb)&&(s+=QN),t&&(s+=HN),e.filter(o=>!wb(o)).reduce((o,u)=>o+(GN.test(u)?qN:u===""?FN:$N),s)}function YN(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function XN(r,t,e=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,v=u==="/"?t:t.slice(u.length)||"/",w=Hf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),T=p.route;if(!w&&g&&e&&!s[s.length-1].route.index&&(w=Hf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:si([u,w.pathname]),pathnameBase:nO(si([u,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(u=si([u,w.pathnameBase]))}return f}function Hf(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[e,s]=WN(r.path,r.caseSensitive,r.end),o=t.match(e);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:w},T)=>{if(v==="*"){let D=d[T]||"";f=u.slice(0,u.length-D.length).replace(/(.)\/+$/,"$1")}const I=d[T];return w&&!I?g[v]=void 0:g[v]=(I||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function WN(r,t=!1,e=!0){er(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function ZN(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return er(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function fi(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,s=r.charAt(e);return s&&s!=="/"?null:r.slice(e)||"/"}function JN(r,t="/"){let{pathname:e,search:s="",hash:o=""}=typeof r=="string"?Ro(r):r;return{pathname:e?e.startsWith("/")?e:tO(e,t):t,search:rO(s),hash:iO(o)}}function tO(r,t){let e=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?e.length>1&&e.pop():o!=="."&&e.push(o)}),e.length>1?e.join("/"):"/"}function Vm(r,t,e,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eO(r){return r.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function mg(r){let t=eO(r);return t.map((e,s)=>s===t.length-1?e.pathname:e.pathnameBase)}function pg(r,t,e,s=!1){let o;typeof r=="string"?o=Ro(r):(o={...r},he(!o.pathname||!o.pathname.includes("?"),Vm("?","pathname","search",o)),he(!o.pathname||!o.pathname.includes("#"),Vm("#","pathname","hash",o)),he(!o.search||!o.search.includes("#"),Vm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,d;if(f==null)d=e;else{let w=t.length-1;if(!s&&f.startsWith("..")){let T=f.split("/");for(;T[0]==="..";)T.shift(),w-=1;o.pathname=T.join("/")}d=w>=0?t[w]:"/"}let p=JN(o,d),g=f&&f!=="/"&&f.endsWith("/"),v=(u||f===".")&&e.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var si=r=>r.join("/").replace(/\/\/+/g,"/"),nO=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),rO=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,iO=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function sO(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var E1=["POST","PUT","PATCH","DELETE"];new Set(E1);var aO=["GET",...E1];new Set(aO);var xo=x.createContext(null);xo.displayName="DataRouter";var mh=x.createContext(null);mh.displayName="DataRouterState";var w1=x.createContext({isTransitioning:!1});w1.displayName="ViewTransition";var oO=x.createContext(new Map);oO.displayName="Fetchers";var lO=x.createContext(null);lO.displayName="Await";var nr=x.createContext(null);nr.displayName="Navigation";var Ru=x.createContext(null);Ru.displayName="Location";var rr=x.createContext({outlet:null,matches:[],isDataRoute:!1});rr.displayName="Route";var gg=x.createContext(null);gg.displayName="RouteError";function uO(r,{relative:t}={}){he(Io(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:s}=x.useContext(nr),{hash:o,pathname:u,search:f}=Iu(r,{relative:t}),d=u;return e!=="/"&&(d=u==="/"?e:si([e,u])),s.createHref({pathname:d,search:f,hash:o})}function Io(){return x.useContext(Ru)!=null}function di(){return he(Io(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Ru).location}var S1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function A1(r){x.useContext(nr).static||x.useLayoutEffect(r)}function xu(){let{isDataRoute:r}=x.useContext(rr);return r?SO():cO()}function cO(){he(Io(),"useNavigate() may be used only in the context of a <Router> component.");let r=x.useContext(xo),{basename:t,navigator:e}=x.useContext(nr),{matches:s}=x.useContext(rr),{pathname:o}=di(),u=JSON.stringify(mg(s)),f=x.useRef(!1);return A1(()=>{f.current=!0}),x.useCallback((p,g={})=>{if(er(f.current,S1),!f.current)return;if(typeof p=="number"){e.go(p);return}let v=pg(p,JSON.parse(u),o,g.relative==="path");r==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:si([t,v.pathname])),(g.replace?e.replace:e.push)(v,g.state,g)},[t,e,u,o,r])}var fO=x.createContext(null);function hO(r){let t=x.useContext(rr).outlet;return t&&x.createElement(fO.Provider,{value:r},t)}function Iu(r,{relative:t}={}){let{matches:e}=x.useContext(rr),{pathname:s}=di(),o=JSON.stringify(mg(e));return x.useMemo(()=>pg(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function dO(r,t){return C1(r,t)}function C1(r,t,e,s){var z;he(Io(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=x.useContext(nr),{matches:u}=x.useContext(rr),f=u[u.length-1],d=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",v=f&&f.route;{let G=v&&v.path||"";R1(p,!v||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let w=di(),T;if(t){let G=typeof t=="string"?Ro(t):t;he(g==="/"||((z=G.pathname)==null?void 0:z.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${G.pathname}" was given in the \`location\` prop.`),T=G}else T=w;let I=T.pathname||"/",D=I;if(g!=="/"){let G=g.replace(/^\//,"").split("/");D="/"+I.replace(/^\//,"").split("/").slice(G.length).join("/")}let O=_1(r,{pathname:D});er(v||O!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),er(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=vO(O&&O.map(G=>Object.assign({},G,{params:Object.assign({},d,G.params),pathname:si([g,o.encodeLocation?o.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?g:si([g,o.encodeLocation?o.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),u,e,s);return t&&L?x.createElement(Ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},L):L}function mO(){let r=wO(),t=sO(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),e=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=x.createElement(x.Fragment,null,x.createElement("p",null,"💿 Hey developer 👋"),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:u},"ErrorBoundary")," or"," ",x.createElement("code",{style:u},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),e?x.createElement("pre",{style:o},e):null,f)}var pO=x.createElement(mO,null),gO=class extends x.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?x.createElement(rr.Provider,{value:this.props.routeContext},x.createElement(gg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yO({routeContext:r,match:t,children:e}){let s=x.useContext(xo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(rr.Provider,{value:r},e)}function vO(r,t=[],e=null,s=null){if(r==null){if(!e)return null;if(e.errors)r=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)r=e.matches;else return null}let o=r,u=e==null?void 0:e.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);he(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,d=-1;if(e)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:v,errors:w}=e,T=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||T){f=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,g,v)=>{let w,T=!1,I=null,D=null;e&&(w=u&&g.route.id?u[g.route.id]:void 0,I=g.route.errorElement||pO,f&&(d<0&&v===0?(R1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,D=null):d===v&&(T=!0,D=g.route.hydrateFallbackElement||null)));let O=t.concat(o.slice(0,v+1)),L=()=>{let z;return w?z=I:T?z=D:g.route.Component?z=x.createElement(g.route.Component,null):g.route.element?z=g.route.element:z=p,x.createElement(yO,{match:g,routeContext:{outlet:p,matches:O,isDataRoute:e!=null},children:z})};return e&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?x.createElement(gO,{location:e.location,revalidation:e.revalidation,component:I,error:w,children:L(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):L()},null)}function yg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _O(r){let t=x.useContext(xo);return he(t,yg(r)),t}function bO(r){let t=x.useContext(mh);return he(t,yg(r)),t}function TO(r){let t=x.useContext(rr);return he(t,yg(r)),t}function vg(r){let t=TO(r),e=t.matches[t.matches.length-1];return he(e.route.id,`${r} can only be used on routes that contain a unique "id"`),e.route.id}function EO(){return vg("useRouteId")}function wO(){var s;let r=x.useContext(gg),t=bO("useRouteError"),e=vg("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[e]}function SO(){let{router:r}=_O("useNavigate"),t=vg("useNavigate"),e=x.useRef(!1);return A1(()=>{e.current=!0}),x.useCallback(async(o,u={})=>{er(e.current,S1),e.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var Sb={};function R1(r,t,e){!t&&!Sb[r]&&(Sb[r]=!0,er(!1,e))}x.memo(AO);function AO({routes:r,future:t,state:e}){return C1(r,void 0,e,t)}function Ab({to:r,replace:t,state:e,relative:s}){he(Io(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=x.useContext(nr);er(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=x.useContext(rr),{pathname:f}=di(),d=xu(),p=pg(r,mg(u),f,s==="path"),g=JSON.stringify(p);return x.useEffect(()=>{d(JSON.parse(g),{replace:t,state:e,relative:s})},[d,g,s,t,e]),null}function CO(r){return hO(r.context)}function Hi(r){he(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function RO({basename:r="/",children:t=null,location:e,navigationType:s="POP",navigator:o,static:u=!1}){he(!Io(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),d=x.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof e=="string"&&(e=Ro(e));let{pathname:p="/",search:g="",hash:v="",state:w=null,key:T="default"}=e,I=x.useMemo(()=>{let D=fi(p,f);return D==null?null:{location:{pathname:D,search:g,hash:v,state:w,key:T},navigationType:s}},[f,p,g,v,w,T,s]);return er(I!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:x.createElement(nr.Provider,{value:d},x.createElement(Ru.Provider,{children:t,value:I}))}function xO({children:r,location:t}){return dO(gp(r),t)}function gp(r,t=[]){let e=[];return x.Children.forEach(r,(s,o)=>{if(!x.isValidElement(s))return;let u=[...t,o];if(s.type===x.Fragment){e.push.apply(e,gp(s.props.children,u));return}he(s.type===Hi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),he(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=gp(s.props.children,u)),e.push(f)}),e}var Ef="get",wf="application/x-www-form-urlencoded";function ph(r){return r!=null&&typeof r.tagName=="string"}function IO(r){return ph(r)&&r.tagName.toLowerCase()==="button"}function DO(r){return ph(r)&&r.tagName.toLowerCase()==="form"}function NO(r){return ph(r)&&r.tagName.toLowerCase()==="input"}function OO(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function MO(r,t){return r.button===0&&(!t||t==="_self")&&!OO(r)}var uf=null;function kO(){if(uf===null)try{new FormData(document.createElement("form"),0),uf=!1}catch{uf=!0}return uf}var LO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pm(r){return r!=null&&!LO.has(r)?(er(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wf}"`),null):r}function VO(r,t){let e,s,o,u,f;if(DO(r)){let d=r.getAttribute("action");s=d?fi(d,t):null,e=r.getAttribute("method")||Ef,o=Pm(r.getAttribute("enctype"))||wf,u=new FormData(r)}else if(IO(r)||NO(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||d.getAttribute("action");if(s=p?fi(p,t):null,e=r.getAttribute("formmethod")||d.getAttribute("method")||Ef,o=Pm(r.getAttribute("formenctype"))||Pm(d.getAttribute("enctype"))||wf,u=new FormData(d,r),!kO()){let{name:g,type:v,value:w}=r;if(v==="image"){let T=g?`${g}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else g&&u.append(g,w)}}else{if(ph(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Ef,s=null,o=wf,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:e.toLowerCase(),encType:o,formData:u,body:f}}function _g(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function PO(r,t){if(r.id in t)return t[r.id];try{let e=await import(r.module);return t[r.id]=e,e}catch(e){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UO(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function zO(r,t,e){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await PO(u,e);return f.links?f.links():[]}return[]}));return qO(s.flat(1).filter(UO).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Cb(r,t,e,s,o,u){let f=(p,g)=>e[g]?p.route.id!==e[g].route.id:!0,d=(p,g)=>{var v;return e[g].pathname!==p.pathname||((v=e[g].route.path)==null?void 0:v.endsWith("*"))&&e[g].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,g)=>f(p,g)||d(p,g)):u==="data"?t.filter((p,g)=>{var w;let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(f(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=e[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function jO(r,t,{includeHydrateFallback:e}={}){return BO(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),e&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function BO(r){return[...new Set(r)]}function GO(r){let t={},e=Object.keys(r).sort();for(let s of e)t[s]=r[s];return t}function qO(r,t){let e=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(GO(o));return e.has(u)||(e.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var HO=new Set([100,101,204,205]);function FO(r,t){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":t&&fi(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function x1(){let r=x.useContext(xo);return _g(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function $O(){let r=x.useContext(mh);return _g(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var bg=x.createContext(void 0);bg.displayName="FrameworkContext";function I1(){let r=x.useContext(bg);return _g(r,"You must render this element inside a <HydratedRouter> element"),r}function QO(r,t){let e=x.useContext(bg),[s,o]=x.useState(!1),[u,f]=x.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:w}=t,T=x.useRef(null);x.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let O=z=>{z.forEach(G=>{f(G.isIntersecting)})},L=new IntersectionObserver(O,{threshold:.5});return T.current&&L.observe(T.current),()=>{L.disconnect()}}},[r]),x.useEffect(()=>{if(s){let O=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(O)}}},[s]);let I=()=>{o(!0)},D=()=>{o(!1),f(!1)};return e?r!=="intent"?[u,T,{}]:[u,T,{onFocus:ql(d,I),onBlur:ql(p,D),onMouseEnter:ql(g,I),onMouseLeave:ql(v,D),onTouchStart:ql(w,I)}]:[!1,T,{}]}function ql(r,t){return e=>{r&&r(e),e.defaultPrevented||t(e)}}function KO({page:r,...t}){let{router:e}=x1(),s=x.useMemo(()=>_1(e.routes,r,e.basename),[e.routes,r,e.basename]);return s?x.createElement(XO,{page:r,matches:s,...t}):null}function YO(r){let{manifest:t,routeModules:e}=I1(),[s,o]=x.useState([]);return x.useEffect(()=>{let u=!1;return zO(r,t,e).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,e]),s}function XO({page:r,matches:t,...e}){let s=di(),{manifest:o,routeModules:u}=I1(),{basename:f}=x1(),{loaderData:d,matches:p}=$O(),g=x.useMemo(()=>Cb(r,t,p,o,s,"data"),[r,t,p,o,s]),v=x.useMemo(()=>Cb(r,t,p,o,s,"assets"),[r,t,p,o,s]),w=x.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let D=new Set,O=!1;if(t.forEach(z=>{var K;let G=o.routes[z.route.id];!G||!G.hasLoader||(!g.some(J=>J.route.id===z.route.id)&&z.route.id in d&&((K=u[z.route.id])!=null&&K.shouldRevalidate)||G.hasClientLoader?O=!0:D.add(z.route.id))}),D.size===0)return[];let L=FO(r,f);return O&&D.size>0&&L.searchParams.set("_routes",t.filter(z=>D.has(z.route.id)).map(z=>z.route.id).join(",")),[L.pathname+L.search]},[f,d,s,o,g,t,r,u]),T=x.useMemo(()=>jO(v,o),[v,o]),I=YO(v);return x.createElement(x.Fragment,null,w.map(D=>x.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...e})),T.map(D=>x.createElement("link",{key:D,rel:"modulepreload",href:D,...e})),I.map(({key:D,link:O})=>x.createElement("link",{key:D,...O})))}function WO(...r){return t=>{r.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var D1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{D1&&(window.__reactRouterVersion="7.6.2")}catch{}function ZO({basename:r,children:t,window:e}){let s=x.useRef();s.current==null&&(s.current=VN({window:e,v5Compat:!0}));let o=s.current,[u,f]=x.useState({action:o.action,location:o.location}),d=x.useCallback(p=>{x.startTransition(()=>f(p))},[f]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.createElement(RO,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var N1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tg=x.forwardRef(function({onClick:t,discover:e="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:d,target:p,to:g,preventScrollReset:v,viewTransition:w,...T},I){let{basename:D}=x.useContext(nr),O=typeof g=="string"&&N1.test(g),L,z=!1;if(typeof g=="string"&&O&&(L=g,D1))try{let A=new URL(window.location.href),M=g.startsWith("//")?new URL(A.protocol+g):new URL(g),V=fi(M.pathname,D);M.origin===A.origin&&V!=null?g=V+M.search+M.hash:z=!0}catch{er(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=uO(g,{relative:o}),[K,J,F]=QO(s,T),ct=nM(g,{replace:f,state:d,target:p,preventScrollReset:v,relative:o,viewTransition:w});function R(A){t&&t(A),A.defaultPrevented||ct(A)}let E=x.createElement("a",{...T,...F,href:L||G,onClick:z||u?t:R,ref:WO(I,J),target:p,"data-discover":!O&&e==="render"?"true":void 0});return K&&!O?x.createElement(x.Fragment,null,E,x.createElement(KO,{page:G})):E});Tg.displayName="Link";var JO=x.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:d,children:p,...g},v){let w=Iu(f,{relative:g.relative}),T=di(),I=x.useContext(mh),{navigator:D,basename:O}=x.useContext(nr),L=I!=null&&oM(w)&&d===!0,z=D.encodeLocation?D.encodeLocation(w).pathname:w.pathname,G=T.pathname,K=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;e||(G=G.toLowerCase(),K=K?K.toLowerCase():null,z=z.toLowerCase()),K&&O&&(K=fi(K,O)||K);const J=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let F=G===z||!o&&G.startsWith(z)&&G.charAt(J)==="/",ct=K!=null&&(K===z||!o&&K.startsWith(z)&&K.charAt(z.length)==="/"),R={isActive:F,isPending:ct,isTransitioning:L},E=F?t:void 0,A;typeof s=="function"?A=s(R):A=[s,F?"active":null,ct?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(R):u;return x.createElement(Tg,{...g,"aria-current":E,className:A,ref:v,style:M,to:f,viewTransition:d},typeof p=="function"?p(R):p)});JO.displayName="NavLink";var tM=x.forwardRef(({discover:r="render",fetcherKey:t,navigate:e,reloadDocument:s,replace:o,state:u,method:f=Ef,action:d,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:w,...T},I)=>{let D=sM(),O=aM(d,{relative:g}),L=f.toLowerCase()==="get"?"get":"post",z=typeof d=="string"&&N1.test(d),G=K=>{if(p&&p(K),K.defaultPrevented)return;K.preventDefault();let J=K.nativeEvent.submitter,F=(J==null?void 0:J.getAttribute("formmethod"))||f;D(J||K.currentTarget,{fetcherKey:t,method:F,navigate:e,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:w})};return x.createElement("form",{ref:I,method:L,action:O,onSubmit:s?p:G,...T,"data-discover":!z&&r==="render"?"true":void 0})});tM.displayName="Form";function eM(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function O1(r){let t=x.useContext(xo);return he(t,eM(r)),t}function nM(r,{target:t,replace:e,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let d=xu(),p=di(),g=Iu(r,{relative:u});return x.useCallback(v=>{if(MO(v,t)){v.preventDefault();let w=e!==void 0?e:hu(p)===hu(g);d(r,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,d,g,e,s,t,r,o,u,f])}var rM=0,iM=()=>`__${String(++rM)}__`;function sM(){let{router:r}=O1("useSubmit"),{basename:t}=x.useContext(nr),e=EO();return x.useCallback(async(s,o={})=>{let{action:u,method:f,encType:d,formData:p,body:g}=VO(s,t);if(o.navigate===!1){let v=o.fetcherKey||iM();await r.fetch(v,e,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||d,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:e,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,e])}function aM(r,{relative:t}={}){let{basename:e}=x.useContext(nr),s=x.useContext(rr);he(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Iu(r||".",{relative:t})},f=di();if(r==null){u.search=f.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(w=>w).forEach(w=>d.append("index",w));let v=d.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(u.pathname=u.pathname==="/"?e:si([e,u.pathname])),hu(u)}function oM(r,t={}){let e=x.useContext(w1);he(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=O1("useViewTransitionState"),o=Iu(r,{relative:t.relative});if(!e.isTransitioning)return!1;let u=fi(e.currentLocation.pathname,s)||e.currentLocation.pathname,f=fi(e.nextLocation.pathname,s)||e.nextLocation.pathname;return Hf(o.pathname,f)!=null||Hf(o.pathname,u)!=null}[...HO];Vb();function lM(){const{userData:r,setUserData:t}=an(),{user:e}=hn(),[s,o]=x.useState(!1),[u,f]=x.useState("");async function d(){r.isTeacher||r.toggleTeacher();let g=await YD(u);r.setClassroomId(g),t(r.clone()),Su(e,r),o(!1)}function p(g){f(g.target.value)}return B.jsxs("div",{children:[B.jsx("button",{onClick:g=>o(!s),className:`p-2 bg-[#2596be] text-white rounded font-bold w-full\r
      hover:cursor-pointer hover:scale-110 transform transition-transform duration-150`,children:"Set up Classroom"}),s&&B.jsx("div",{className:`fixed\r
                    top-0 left-0\r
                    h-full\r
                    w-full\r
                    bg-black/80\r
                    flex`,onClick:g=>o(!s),children:B.jsxs("div",{className:`bg-white\r
                                rounded-lg\r
                                w-[50vw]\r
                                h-[30vh]\r
                                flex\r
                                m-auto\r
                                items-center\r
                                flex-col gap-4\r
                                p-4`,onClick:g=>g.stopPropagation(),children:[B.jsx("div",{className:`\r
                                text-[3vh]\r
                                font-bold`,children:"Enter Classroom Name to Create!"}),B.jsxs("div",{children:[B.jsx("input",{type:"string",value:u,onChange:p,className:`\r
                                        h-[10vh]\r
                                        text-[6vh]\r
                                        w-[25vw]\r
                                        flex m-auto\r
                                        border-gray-400\r
                                        border-2\r
                                        rounded-lg\r
                                        text-center\r
                                        font-bold\r
                                        `}),B.jsx("button",{onClick:d,className:`p-2 bg-[#2596be] text-white rounded font-bold w-full h-[8vh] text-[6vh]\r
                                        hover:cursor-pointer hover:scale-110 transform transition-transform duration-150`,children:"Create"})]})]})})]})}function uM(){const{loginWithGoogle:r,user:t}=hn(),e=x.useMemo(()=>t!=null,[t]),s=xu();async function o(){if(!e)try{await r()}catch(u){console.log("Login failed: ",u)}s("/ActivitySelect")}return B.jsx("button",{onClick:o,className:`p-2 bg-[#2596be] text-white rounded-lg font-bold text-[5vh] h-[10vh] w-[20vw] hover:cursor-pointer\r
    hover:scale-110 transform transition-transform duration-150`,children:"Play"})}function cM(){const{userData:r,setUserData:t}=an(),{user:e}=hn(),[s,o]=x.useState(!1),[u,f]=x.useState("");async function d(){r.isTeacher&&r.toggleTeacher();let g=u.toUpperCase();await XD(g)?(r.setClassroomId(g),t(r.clone()),Su(e,r),o(!1)):Yt.error("Invalid classroom Id")}function p(g){f(g.target.value)}return B.jsxs("div",{children:[B.jsx("button",{onClick:g=>o(!s),className:`p-2 bg-[#2596be] text-white rounded font-bold w-full\r
        hover:cursor-pointer hover:scale-110 transform transition-transform duration-150`,children:"Join By Code"}),s&&B.jsx("div",{className:`fixed\r
                    top-0 left-0\r
                    h-full\r
                    w-full\r
                    bg-black/80\r
                    flex`,onClick:g=>o(!s),children:B.jsxs("div",{className:`bg-white\r
                                rounded-lg\r
                                w-[50vw]\r
                                h-[35vh]\r
                                flex\r
                                m-auto\r
                                items-center\r
                                flex-col gap-4\r
                                p-4`,onClick:g=>g.stopPropagation(),children:[B.jsx("div",{className:`\r
                                text-[3vh]\r
                                font-bold`,children:"Enter Classroom ID to Join!"}),r.isTeacher&&B.jsx("div",{className:`\r
                                        text-[2vh]\r
                                        font-bold\r
                                        text-red-500`,children:"By joining a classroom, you will forfeit your teacher status in your current classroom."}),B.jsxs("div",{children:[B.jsx("input",{type:"string",value:u,onChange:p,className:`\r
                                        h-[10vh]\r
                                        text-[8vh]\r
                                        w-[25vw]\r
                                        flex m-auto\r
                                        border-gray-400\r
                                        border-2\r
                                        rounded-lg\r
                                        text-center\r
                                        font-bold\r
                                        `}),B.jsx("button",{onClick:d,className:`p-2 bg-[#2596be] text-white rounded font-bold w-full h-[8vh] text-[6vh]\r
                                        hover:cursor-pointer hover:scale-110 transform transition-transform duration-150`,children:"Join"})]})]})})]})}const fM=()=>B.jsxs("div",{className:"leading-none m-auto flex flex-col w-fit h-fit gap-10",children:[B.jsx("img",{src:"/MathCrow/FullLogo.png",className:"w-[20vw] h-auto"}),B.jsx(uM,{}),B.jsx(lM,{}),B.jsx(cM,{})]}),M1=x.createContext(void 0);function Du(){const r=x.useContext(M1);if(!r)throw new Error("useSoundPlayerContext must be used within a SoundPlayerProvider");return r}const hM="/MathCrow/assets/orch-hit-1-CsffWDYV.mp3",dM=Object.freeze(Object.defineProperty({__proto__:null,default:hM},Symbol.toStringTag,{value:"Module"})),mM="/MathCrow/assets/orch-hit-10-ux3tHloy.mp3",pM=Object.freeze(Object.defineProperty({__proto__:null,default:mM},Symbol.toStringTag,{value:"Module"})),gM="/MathCrow/assets/orch-hit-11-CONLuYIA.mp3",yM=Object.freeze(Object.defineProperty({__proto__:null,default:gM},Symbol.toStringTag,{value:"Module"})),vM="/MathCrow/assets/orch-hit-12-CxAX3g2A.mp3",_M=Object.freeze(Object.defineProperty({__proto__:null,default:vM},Symbol.toStringTag,{value:"Module"})),bM="/MathCrow/assets/orch-hit-2-CUKZb2-K.mp3",TM=Object.freeze(Object.defineProperty({__proto__:null,default:bM},Symbol.toStringTag,{value:"Module"})),EM="/MathCrow/assets/orch-hit-3-Ps1Pdv85.mp3",wM=Object.freeze(Object.defineProperty({__proto__:null,default:EM},Symbol.toStringTag,{value:"Module"})),SM="/MathCrow/assets/orch-hit-4-CBoR7lba.mp3",AM=Object.freeze(Object.defineProperty({__proto__:null,default:SM},Symbol.toStringTag,{value:"Module"})),CM="/MathCrow/assets/orch-hit-5-Cc8k6qBw.mp3",RM=Object.freeze(Object.defineProperty({__proto__:null,default:CM},Symbol.toStringTag,{value:"Module"})),xM="/MathCrow/assets/orch-hit-6-B27W21CZ.mp3",IM=Object.freeze(Object.defineProperty({__proto__:null,default:xM},Symbol.toStringTag,{value:"Module"})),DM="/MathCrow/assets/orch-hit-7-DH3w1fY6.mp3",NM=Object.freeze(Object.defineProperty({__proto__:null,default:DM},Symbol.toStringTag,{value:"Module"})),OM="/MathCrow/assets/orch-hit-8-aacTRlPQ.mp3",MM=Object.freeze(Object.defineProperty({__proto__:null,default:OM},Symbol.toStringTag,{value:"Module"})),kM="/MathCrow/assets/orch-hit-9-DsvL1Ygm.mp3",LM=Object.freeze(Object.defineProperty({__proto__:null,default:kM},Symbol.toStringTag,{value:"Module"})),VM=Object.assign({"../assets/sounds/orch-hit-1.mp3":dM,"../assets/sounds/orch-hit-10.mp3":pM,"../assets/sounds/orch-hit-11.mp3":yM,"../assets/sounds/orch-hit-12.mp3":_M,"../assets/sounds/orch-hit-2.mp3":TM,"../assets/sounds/orch-hit-3.mp3":wM,"../assets/sounds/orch-hit-4.mp3":AM,"../assets/sounds/orch-hit-5.mp3":RM,"../assets/sounds/orch-hit-6.mp3":IM,"../assets/sounds/orch-hit-7.mp3":NM,"../assets/sounds/orch-hit-8.mp3":MM,"../assets/sounds/orch-hit-9.mp3":LM}),PM=Object.entries(VM).sort(([r],[t])=>{var o,u;const e=parseInt(((o=r.match(/(\d+)\.mp3$/))==null?void 0:o[1])||"0"),s=parseInt(((u=t.match(/(\d+)\.mp3$/))==null?void 0:u[1])||"0");return e-s}).map(([,r])=>r.default);class UM{constructor(){oe(this,"audios",[]);this.audios=PM.map(t=>{const e=new Audio(t);return e.load(),e})}playSound(t){let e=0;t>11?e=11:e=t,this.audios[e].volume=.1,this.audios[e].currentTime=0,this.audios[e].play()}}function k1({children:r}){const[t]=x.useState(new UM),[e,s]=x.useState(0),o=x.useRef(null),u=()=>{s(f=>f+1),t.playSound(e),o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{s(0)},5e3)};return B.jsx(M1.Provider,{value:{incrementStreak:u},children:r})}const L1=x.createContext(void 0);function ir(){const r=x.useContext(L1);if(!r)throw new Error("useFactorsContext must be used within a FactorsProvider");return r}function zM(){const r=[1,2,3,4,5,6,7,8,9,10,11,12],[t,e]=x.useState(0),{setFactors:s,factors:o}=ir(),{userData:u,setUserData:f}=an(),{user:d}=hn();x.useEffect(()=>{e(o.factor1)},[o.factor1]);const p=g=>{u.settings.mode==="TimesTableAuto"&&(u.changeMode("SelectedFactor"),na(d,u),f(u.clone())),e(Number(g)),o.setLevel(Number(g)),s(o.clone())};return B.jsxs("div",{children:[B.jsx("div",{className:"bg-[#305c84] mb-1 h-[4vh] flex items-center justify-center",children:B.jsx("h1",{className:"font-bold text-[3vh]",children:"Factor Practice"})}),B.jsx("div",{className:"grid grid-cols-3",children:r.map(g=>B.jsx("button",{onClick:v=>p(g),className:`${t===g&&u.settings.mode==="SelectedFactor"?"bg-[#08e4ac]":"bg-[#589ccc]"}
                            h-[5vh]
                            m-1 
                            rounded
                            font-bold
                            hover:cursor-pointer
                            hover:scale-110 transform transition-transform duration-150
                            `,children:g},g))})]})}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BM=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,s)=>s?s.toUpperCase():e.toLowerCase()),Rb=r=>{const t=BM(r);return t.charAt(0).toUpperCase()+t.slice(1)},V1=(...r)=>r.filter((t,e,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===e).join(" ").trim(),GM=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=x.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...d},p)=>x.createElement("svg",{ref:p,...qM,width:t,height:t,stroke:r,strokeWidth:s?Number(e)*24/Number(t):e,className:V1("lucide",o),...!u&&!GM(d)&&{"aria-hidden":"true"},...d},[...f.map(([g,v])=>x.createElement(g,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=(r,t)=>{const e=x.forwardRef(({className:s,...o},u)=>x.createElement(HM,{ref:u,iconNode:t,className:V1(`lucide-${jM(Rb(r))}`,`lucide-${r}`,s),...o}));return e.displayName=Rb(r),e};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],QM=FM("search",$M);function KM(){const r=[0,255,128],[t,e]=x.useState(!1),{userData:s}=an(),{setFactors:o,factors:u}=ir(),f=x.useMemo(()=>{const T=s.timesTableData.historyGrid.length,I=["X",...Array.from({length:T},(O,L)=>L+1)],D=[];D.push(I);for(let O=0;O<T;O++){const L=[O+1,...s.timesTableData.historyGrid[O]];D.push(L)}return D},[s.timesTableData.historyGrid]),d=T=>{const I=[200,200,200],D=s.timesTableData.maxCorrect;let O=0;D!==0&&(O=T/s.timesTableData.maxCorrect);const L=O*r[0]+(1-O)*I[0],z=O*r[1]+(1-O)*I[1],G=O*r[2]+(1-O)*I[2];return[L,z,G]},p=(T,I,D)=>D>1?`You've answered "${T}x${I}" ${D} times.`:D===1?`You've answered "${T}x${I}" ${D} time.`:`You've never answered "${T}x${I}."`,g=(T,I)=>{u.setFactors(T,I),o(u.clone())},v=()=>{console.log(f),e(!t)},w=(T,I)=>{v(),g(T,I)};return B.jsxs("div",{children:[B.jsxs("div",{className:"text-[3vh] font-bold items-center bg-[#589ccc] m-auto text-center",children:["Total Score: ",s.timesTableData.numCorrect]}),B.jsx("div",{className:"mt-2",children:s.timesTableData.historyGrid.map((T,I)=>B.jsx("div",{className:" h-auto flex flex-row justify-center",children:T.map((D,O)=>B.jsx("button",{className:`scoreboard-cell border-black 
                                    h-[1vw] w-[1vw]
                                    border-r border-b
                                    ${I===0?"border-t":""}
                                    ${O===0?"border-l":""}
                                    ${I===0&&O===0?"rounded-tl":""} 
                                    ${I===11&&O===0?"rounded-bl":""} 
                                    ${I===0&&O===11?"rounded-tr":""} 
                                    ${I===11&&O===11?"rounded-br":""} 
                                    `,style:{backgroundColor:`rgb(${d(D).join(",")})`},title:p(I+1,O+1,D),onClick:()=>g(I+1,O+1)},`${I}-${O}`))},I))}),B.jsxs("button",{onClick:v,className:`text-[3vh] font-bold \r
                flex items-center \r
                bg-[#589ccc] \r
                text-center rounded   \r
                mt-2 m-auto pl-2 pr-2\r
                hover:cursor-pointer\r
                hover:scale-110 transform transition-transform duration-150`,children:["Expand",B.jsx(QM,{className:" ml-2 h-[3vh] w-auto"})]}),t&&B.jsx("button",{className:`fixed\r
                    top-0 left-[20vw]\r
                    h-full\r
                    w-[80vw]\r
                    bg-black/50`,onClick:v,children:B.jsxs("div",{className:"flex flex-col gap-4 mr-auto ml-auto w-fit",children:[B.jsxs("div",{className:"flex flex-row mx-auto w-full",children:[B.jsx("button",{onClick:v,className:`text-[4vh] font-bold \r
                                    flex items-center   \r
                                    justify-start pl-2 pr-2\r
                                    hover:cursor-pointer\r
                                    hover:scale-110 transform transition-transform duration-150`,children:"←"}),B.jsx("div",{className:`text-[3vh] font-bold \r
                                    bg-[#2c8bcd]\r
                                    pt-2 pb-2 pr-6 pl-6\r
                                    rounded-lg\r
                                    mx-auto`,children:"Scoreboard"})]}),B.jsx("div",{className:"mr-auto ml-auto",children:f.map((T,I)=>B.jsx("div",{className:"h-auto flex flex-row justify-center",children:T.map((D,O)=>{if(I===0||O===0)return B.jsx("div",{className:`h-[2vw] w-[2vw] flex items-center justify-center
                                                font-bold bg-[#2c8bcd] 
                                                border-r border-b border-black
                                                ${I===0?"border-t":""}
                                                ${O===0?"border-l":""}
                                                ${I===0&&O===0?"rounded-tl":""}
                                                ${I===12&&O===0?"rounded-bl":""}
                                                ${I===0&&O===12?"rounded-tr":""}`,children:D},`${I}-${O}`);const z=s.timesTableData.historyGrid[I-1][O-1];return B.jsx("button",{className:`scoreboard-cell h-[2vw] w-[2vw] border-black
                                        border-r border-b
                                        ${I===12&&O===12?"rounded-br":""}
                                        `,style:{backgroundColor:`rgb(${d(z).join(",")})`},title:p(I,O,z),onClick:()=>w(I,O)},`${I}-${O}`)})},I))}),B.jsxs("div",{className:"text-[3vh] font-bold items-center mr-auto ml-auto text-center",children:["Total Score: ",s.timesTableData.numCorrect]})]})})]})}function YM(r,t,{checkForDefaultPrevented:e=!0}={}){return function(o){if(r==null||r(o),e===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function xb(r,t){if(typeof r=="function")return r(t);r!=null&&(r.current=t)}function P1(...r){return t=>{let e=!1;const s=r.map(o=>{const u=xb(o,t);return!e&&typeof u=="function"&&(e=!0),u});if(e)return()=>{for(let o=0;o<s.length;o++){const u=s[o];typeof u=="function"?u():xb(r[o],null)}}}}function U1(...r){return x.useCallback(P1(...r),r)}function XM(r,t=[]){let e=[];function s(u,f){const d=x.createContext(f),p=e.length;e=[...e,f];const g=w=>{var z;const{scope:T,children:I,...D}=w,O=((z=T==null?void 0:T[r])==null?void 0:z[p])||d,L=x.useMemo(()=>D,Object.values(D));return B.jsx(O.Provider,{value:L,children:I})};g.displayName=u+"Provider";function v(w,T){var O;const I=((O=T==null?void 0:T[r])==null?void 0:O[p])||d,D=x.useContext(I);if(D)return D;if(f!==void 0)return f;throw new Error(`\`${w}\` must be used within \`${u}\``)}return[g,v]}const o=()=>{const u=e.map(f=>x.createContext(f));return function(d){const p=(d==null?void 0:d[r])||u;return x.useMemo(()=>({[`__scope${r}`]:{...d,[r]:p}}),[d,p])}};return o.scopeName=r,[s,WM(o,...t)]}function WM(...r){const t=r[0];if(r.length===1)return t;const e=()=>{const s=r.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(u){const f=s.reduce((d,{useScope:p,scopeName:g})=>{const w=p(u)[`__scope${g}`];return{...d,...w}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:f}),[f])}};return e.scopeName=t.scopeName,e}var z1=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},ZM=LS[" useInsertionEffect ".trim().toString()]||z1;function JM({prop:r,defaultProp:t,onChange:e=()=>{},caller:s}){const[o,u,f]=tk({defaultProp:t,onChange:e}),d=r!==void 0,p=d?r:o;{const v=x.useRef(r!==void 0);x.useEffect(()=>{const w=v.current;w!==d&&console.warn(`${s} is changing from ${w?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=d},[d,s])}const g=x.useCallback(v=>{var w;if(d){const T=ek(v)?v(r):v;T!==r&&((w=f.current)==null||w.call(f,T))}else u(v)},[d,r,u,f]);return[p,g]}function tk({defaultProp:r,onChange:t}){const[e,s]=x.useState(r),o=x.useRef(e),u=x.useRef(t);return ZM(()=>{u.current=t},[t]),x.useEffect(()=>{var f;o.current!==e&&((f=u.current)==null||f.call(u,e),o.current=e)},[e,o]),[e,s,u]}function ek(r){return typeof r=="function"}function nk(r){const t=x.useRef({value:r,previous:r});return x.useMemo(()=>(t.current.value!==r&&(t.current.previous=t.current.value,t.current.value=r),t.current.previous),[r])}function rk(r){const[t,e]=x.useState(void 0);return z1(()=>{if(r){e({width:r.offsetWidth,height:r.offsetHeight});const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const u=o[0];let f,d;if("borderBoxSize"in u){const p=u.borderBoxSize,g=Array.isArray(p)?p[0]:p;f=g.inlineSize,d=g.blockSize}else f=r.offsetWidth,d=r.offsetHeight;e({width:f,height:d})});return s.observe(r,{box:"border-box"}),()=>s.unobserve(r)}else e(void 0)},[r]),t}function ik(r){const t=sk(r),e=x.forwardRef((s,o)=>{const{children:u,...f}=s,d=x.Children.toArray(u),p=d.find(ok);if(p){const g=p.props.children,v=d.map(w=>w===p?x.Children.count(g)>1?x.Children.only(null):x.isValidElement(g)?g.props.children:null:w);return B.jsx(t,{...f,ref:o,children:x.isValidElement(g)?x.cloneElement(g,void 0,v):null})}return B.jsx(t,{...f,ref:o,children:u})});return e.displayName=`${r}.Slot`,e}function sk(r){const t=x.forwardRef((e,s)=>{const{children:o,...u}=e;if(x.isValidElement(o)){const f=uk(o),d=lk(u,o.props);return o.type!==x.Fragment&&(d.ref=s?P1(s,f):f),x.cloneElement(o,d)}return x.Children.count(o)>1?x.Children.only(null):null});return t.displayName=`${r}.SlotClone`,t}var ak=Symbol("radix.slottable");function ok(r){return x.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===ak}function lk(r,t){const e={...t};for(const s in t){const o=r[s],u=t[s];/^on[A-Z]/.test(s)?o&&u?e[s]=(...d)=>{const p=u(...d);return o(...d),p}:o&&(e[s]=o):s==="style"?e[s]={...o,...u}:s==="className"&&(e[s]=[o,u].filter(Boolean).join(" "))}return{...r,...e}}function uk(r){var s,o;let t=(s=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:s.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?r.ref:(t=(o=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:o.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?r.props.ref:r.props.ref||r.ref)}var ck=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],j1=ck.reduce((r,t)=>{const e=ik(`Primitive.${t}`),s=x.forwardRef((o,u)=>{const{asChild:f,...d}=o,p=f?e:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),B.jsx(p,{...d,ref:u})});return s.displayName=`Primitive.${t}`,{...r,[t]:s}},{}),gh="Switch",[fk,w4]=XM(gh),[hk,dk]=fk(gh),B1=x.forwardRef((r,t)=>{const{__scopeSwitch:e,name:s,checked:o,defaultChecked:u,required:f,disabled:d,value:p="on",onCheckedChange:g,form:v,...w}=r,[T,I]=x.useState(null),D=U1(t,K=>I(K)),O=x.useRef(!1),L=T?v||!!T.closest("form"):!0,[z,G]=JM({prop:o,defaultProp:u??!1,onChange:g,caller:gh});return B.jsxs(hk,{scope:e,checked:z,disabled:d,children:[B.jsx(j1.button,{type:"button",role:"switch","aria-checked":z,"aria-required":f,"data-state":F1(z),"data-disabled":d?"":void 0,disabled:d,value:p,...w,ref:D,onClick:YM(r.onClick,K=>{G(J=>!J),L&&(O.current=K.isPropagationStopped(),O.current||K.stopPropagation())})}),L&&B.jsx(H1,{control:T,bubbles:!O.current,name:s,value:p,checked:z,required:f,disabled:d,form:v,style:{transform:"translateX(-100%)"}})]})});B1.displayName=gh;var G1="SwitchThumb",q1=x.forwardRef((r,t)=>{const{__scopeSwitch:e,...s}=r,o=dk(G1,e);return B.jsx(j1.span,{"data-state":F1(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t})});q1.displayName=G1;var mk="SwitchBubbleInput",H1=x.forwardRef(({__scopeSwitch:r,control:t,checked:e,bubbles:s=!0,...o},u)=>{const f=x.useRef(null),d=U1(f,u),p=nk(e),g=rk(t);return x.useEffect(()=>{const v=f.current;if(!v)return;const w=window.HTMLInputElement.prototype,I=Object.getOwnPropertyDescriptor(w,"checked").set;if(p!==e&&I){const D=new Event("click",{bubbles:s});I.call(v,e),v.dispatchEvent(D)}},[p,e,s]),B.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:e,...o,tabIndex:-1,ref:d,style:{...o.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});H1.displayName=mk;function F1(r){return r?"checked":"unchecked"}var pk=B1,gk=q1;const Eg="-",yk=r=>{const t=_k(r),{conflictingClassGroups:e,conflictingClassGroupModifiers:s}=r;return{getClassGroupId:f=>{const d=f.split(Eg);return d[0]===""&&d.length!==1&&d.shift(),$1(d,t)||vk(f)},getConflictingClassGroupIds:(f,d)=>{const p=e[f]||[];return d&&s[f]?[...p,...s[f]]:p}}},$1=(r,t)=>{var f;if(r.length===0)return t.classGroupId;const e=r[0],s=t.nextPart.get(e),o=s?$1(r.slice(1),s):void 0;if(o)return o;if(t.validators.length===0)return;const u=r.join(Eg);return(f=t.validators.find(({validator:d})=>d(u)))==null?void 0:f.classGroupId},Ib=/^\[(.+)\]$/,vk=r=>{if(Ib.test(r)){const t=Ib.exec(r)[1],e=t==null?void 0:t.substring(0,t.indexOf(":"));if(e)return"arbitrary.."+e}},_k=r=>{const{theme:t,classGroups:e}=r,s={nextPart:new Map,validators:[]};for(const o in e)yp(e[o],s,o,t);return s},yp=(r,t,e,s)=>{r.forEach(o=>{if(typeof o=="string"){const u=o===""?t:Db(t,o);u.classGroupId=e;return}if(typeof o=="function"){if(bk(o)){yp(o(s),t,e,s);return}t.validators.push({validator:o,classGroupId:e});return}Object.entries(o).forEach(([u,f])=>{yp(f,Db(t,u),e,s)})})},Db=(r,t)=>{let e=r;return t.split(Eg).forEach(s=>{e.nextPart.has(s)||e.nextPart.set(s,{nextPart:new Map,validators:[]}),e=e.nextPart.get(s)}),e},bk=r=>r.isThemeGetter,Tk=r=>{if(r<1)return{get:()=>{},set:()=>{}};let t=0,e=new Map,s=new Map;const o=(u,f)=>{e.set(u,f),t++,t>r&&(t=0,s=e,e=new Map)};return{get(u){let f=e.get(u);if(f!==void 0)return f;if((f=s.get(u))!==void 0)return o(u,f),f},set(u,f){e.has(u)?e.set(u,f):o(u,f)}}},vp="!",_p=":",Ek=_p.length,wk=r=>{const{prefix:t,experimentalParseClassName:e}=r;let s=o=>{const u=[];let f=0,d=0,p=0,g;for(let D=0;D<o.length;D++){let O=o[D];if(f===0&&d===0){if(O===_p){u.push(o.slice(p,D)),p=D+Ek;continue}if(O==="/"){g=D;continue}}O==="["?f++:O==="]"?f--:O==="("?d++:O===")"&&d--}const v=u.length===0?o:o.substring(p),w=Sk(v),T=w!==v,I=g&&g>p?g-p:void 0;return{modifiers:u,hasImportantModifier:T,baseClassName:w,maybePostfixModifierPosition:I}};if(t){const o=t+_p,u=s;s=f=>f.startsWith(o)?u(f.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:f,maybePostfixModifierPosition:void 0}}if(e){const o=s;s=u=>e({className:u,parseClassName:o})}return s},Sk=r=>r.endsWith(vp)?r.substring(0,r.length-1):r.startsWith(vp)?r.substring(1):r,Ak=r=>{const t=Object.fromEntries(r.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const o=[];let u=[];return s.forEach(f=>{f[0]==="["||t[f]?(o.push(...u.sort(),f),u=[]):u.push(f)}),o.push(...u.sort()),o}},Ck=r=>({cache:Tk(r.cacheSize),parseClassName:wk(r),sortModifiers:Ak(r),...yk(r)}),Rk=/\s+/,xk=(r,t)=>{const{parseClassName:e,getClassGroupId:s,getConflictingClassGroupIds:o,sortModifiers:u}=t,f=[],d=r.trim().split(Rk);let p="";for(let g=d.length-1;g>=0;g-=1){const v=d[g],{isExternal:w,modifiers:T,hasImportantModifier:I,baseClassName:D,maybePostfixModifierPosition:O}=e(v);if(w){p=v+(p.length>0?" "+p:p);continue}let L=!!O,z=s(L?D.substring(0,O):D);if(!z){if(!L){p=v+(p.length>0?" "+p:p);continue}if(z=s(D),!z){p=v+(p.length>0?" "+p:p);continue}L=!1}const G=u(T).join(":"),K=I?G+vp:G,J=K+z;if(f.includes(J))continue;f.push(J);const F=o(z,L);for(let ct=0;ct<F.length;++ct){const R=F[ct];f.push(K+R)}p=v+(p.length>0?" "+p:p)}return p};function Ik(){let r=0,t,e,s="";for(;r<arguments.length;)(t=arguments[r++])&&(e=Q1(t))&&(s&&(s+=" "),s+=e);return s}const Q1=r=>{if(typeof r=="string")return r;let t,e="";for(let s=0;s<r.length;s++)r[s]&&(t=Q1(r[s]))&&(e&&(e+=" "),e+=t);return e};function Dk(r,...t){let e,s,o,u=f;function f(p){const g=t.reduce((v,w)=>w(v),r());return e=Ck(g),s=e.cache.get,o=e.cache.set,u=d,d(p)}function d(p){const g=s(p);if(g)return g;const v=xk(p,e);return o(p,v),v}return function(){return u(Ik.apply(null,arguments))}}const ke=r=>{const t=e=>e[r]||[];return t.isThemeGetter=!0,t},K1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Y1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Nk=/^\d+\/\d+$/,Ok=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Mk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,kk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Lk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Vk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,to=r=>Nk.test(r),Lt=r=>!!r&&!Number.isNaN(Number(r)),qi=r=>!!r&&Number.isInteger(Number(r)),Um=r=>r.endsWith("%")&&Lt(r.slice(0,-1)),Zr=r=>Ok.test(r),Pk=()=>!0,Uk=r=>Mk.test(r)&&!kk.test(r),X1=()=>!1,zk=r=>Lk.test(r),jk=r=>Vk.test(r),Bk=r=>!vt(r)&&!_t(r),Gk=r=>Do(r,J1,X1),vt=r=>K1.test(r),qs=r=>Do(r,tw,Uk),zm=r=>Do(r,Qk,Lt),Nb=r=>Do(r,W1,X1),qk=r=>Do(r,Z1,jk),cf=r=>Do(r,ew,zk),_t=r=>Y1.test(r),Hl=r=>No(r,tw),Hk=r=>No(r,Kk),Ob=r=>No(r,W1),Fk=r=>No(r,J1),$k=r=>No(r,Z1),ff=r=>No(r,ew,!0),Do=(r,t,e)=>{const s=K1.exec(r);return s?s[1]?t(s[1]):e(s[2]):!1},No=(r,t,e=!1)=>{const s=Y1.exec(r);return s?s[1]?t(s[1]):e:!1},W1=r=>r==="position"||r==="percentage",Z1=r=>r==="image"||r==="url",J1=r=>r==="length"||r==="size"||r==="bg-size",tw=r=>r==="length",Qk=r=>r==="number",Kk=r=>r==="family-name",ew=r=>r==="shadow",Yk=()=>{const r=ke("color"),t=ke("font"),e=ke("text"),s=ke("font-weight"),o=ke("tracking"),u=ke("leading"),f=ke("breakpoint"),d=ke("container"),p=ke("spacing"),g=ke("radius"),v=ke("shadow"),w=ke("inset-shadow"),T=ke("text-shadow"),I=ke("drop-shadow"),D=ke("blur"),O=ke("perspective"),L=ke("aspect"),z=ke("ease"),G=ke("animate"),K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],F=()=>[...J(),_t,vt],ct=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],E=()=>[_t,vt,p],A=()=>[to,"full","auto",...E()],M=()=>[qi,"none","subgrid",_t,vt],V=()=>["auto",{span:["full",qi,_t,vt]},qi,_t,vt],U=()=>[qi,"auto",_t,vt],N=()=>["auto","min","max","fr",_t,vt],Mt=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Rt=()=>["start","end","center","stretch","center-safe","end-safe"],X=()=>["auto",...E()],ut=()=>[to,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],et=()=>[r,_t,vt],St=()=>[...J(),Ob,Nb,{position:[_t,vt]}],P=()=>["no-repeat",{repeat:["","x","y","space","round"]}],nt=()=>["auto","cover","contain",Fk,Gk,{size:[_t,vt]}],ft=()=>[Um,Hl,qs],W=()=>["","none","full",g,_t,vt],st=()=>["",Lt,Hl,qs],dt=()=>["solid","dashed","dotted","double"],bt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],gt=()=>[Lt,Um,Ob,Nb],Pt=()=>["","none",D,_t,vt],ve=()=>["none",Lt,_t,vt],We=()=>["none",Lt,_t,vt],_n=()=>[Lt,_t,vt],In=()=>[to,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Zr],breakpoint:[Zr],color:[Pk],container:[Zr],"drop-shadow":[Zr],ease:["in","out","in-out"],font:[Bk],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Zr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Zr],shadow:[Zr],spacing:["px",Lt],text:[Zr],"text-shadow":[Zr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",to,vt,_t,L]}],container:["container"],columns:[{columns:[Lt,vt,_t,d]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:F()}],overflow:[{overflow:ct()}],"overflow-x":[{"overflow-x":ct()}],"overflow-y":[{"overflow-y":ct()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:A()}],"inset-x":[{"inset-x":A()}],"inset-y":[{"inset-y":A()}],start:[{start:A()}],end:[{end:A()}],top:[{top:A()}],right:[{right:A()}],bottom:[{bottom:A()}],left:[{left:A()}],visibility:["visible","invisible","collapse"],z:[{z:[qi,"auto",_t,vt]}],basis:[{basis:[to,"full","auto",d,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Lt,to,"auto","initial","none",vt]}],grow:[{grow:["",Lt,_t,vt]}],shrink:[{shrink:["",Lt,_t,vt]}],order:[{order:[qi,"first","last","none",_t,vt]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":N()}],"auto-rows":[{"auto-rows":N()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...Mt(),"normal"]}],"justify-items":[{"justify-items":[...Rt(),"normal"]}],"justify-self":[{"justify-self":["auto",...Rt()]}],"align-content":[{content:["normal",...Mt()]}],"align-items":[{items:[...Rt(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Rt(),{baseline:["","last"]}]}],"place-content":[{"place-content":Mt()}],"place-items":[{"place-items":[...Rt(),"baseline"]}],"place-self":[{"place-self":["auto",...Rt()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:X()}],mx:[{mx:X()}],my:[{my:X()}],ms:[{ms:X()}],me:[{me:X()}],mt:[{mt:X()}],mr:[{mr:X()}],mb:[{mb:X()}],ml:[{ml:X()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:ut()}],w:[{w:[d,"screen",...ut()]}],"min-w":[{"min-w":[d,"screen","none",...ut()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[f]},...ut()]}],h:[{h:["screen","lh",...ut()]}],"min-h":[{"min-h":["screen","lh","none",...ut()]}],"max-h":[{"max-h":["screen","lh",...ut()]}],"font-size":[{text:["base",e,Hl,qs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,_t,zm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Um,vt]}],"font-family":[{font:[Hk,vt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,_t,vt]}],"line-clamp":[{"line-clamp":[Lt,"none",_t,zm]}],leading:[{leading:[u,...E()]}],"list-image":[{"list-image":["none",_t,vt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",_t,vt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:et()}],"text-color":[{text:et()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...dt(),"wavy"]}],"text-decoration-thickness":[{decoration:[Lt,"from-font","auto",_t,qs]}],"text-decoration-color":[{decoration:et()}],"underline-offset":[{"underline-offset":[Lt,"auto",_t,vt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_t,vt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_t,vt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:St()}],"bg-repeat":[{bg:P()}],"bg-size":[{bg:nt()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},qi,_t,vt],radial:["",_t,vt],conic:[qi,_t,vt]},$k,qk]}],"bg-color":[{bg:et()}],"gradient-from-pos":[{from:ft()}],"gradient-via-pos":[{via:ft()}],"gradient-to-pos":[{to:ft()}],"gradient-from":[{from:et()}],"gradient-via":[{via:et()}],"gradient-to":[{to:et()}],rounded:[{rounded:W()}],"rounded-s":[{"rounded-s":W()}],"rounded-e":[{"rounded-e":W()}],"rounded-t":[{"rounded-t":W()}],"rounded-r":[{"rounded-r":W()}],"rounded-b":[{"rounded-b":W()}],"rounded-l":[{"rounded-l":W()}],"rounded-ss":[{"rounded-ss":W()}],"rounded-se":[{"rounded-se":W()}],"rounded-ee":[{"rounded-ee":W()}],"rounded-es":[{"rounded-es":W()}],"rounded-tl":[{"rounded-tl":W()}],"rounded-tr":[{"rounded-tr":W()}],"rounded-br":[{"rounded-br":W()}],"rounded-bl":[{"rounded-bl":W()}],"border-w":[{border:st()}],"border-w-x":[{"border-x":st()}],"border-w-y":[{"border-y":st()}],"border-w-s":[{"border-s":st()}],"border-w-e":[{"border-e":st()}],"border-w-t":[{"border-t":st()}],"border-w-r":[{"border-r":st()}],"border-w-b":[{"border-b":st()}],"border-w-l":[{"border-l":st()}],"divide-x":[{"divide-x":st()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":st()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...dt(),"hidden","none"]}],"divide-style":[{divide:[...dt(),"hidden","none"]}],"border-color":[{border:et()}],"border-color-x":[{"border-x":et()}],"border-color-y":[{"border-y":et()}],"border-color-s":[{"border-s":et()}],"border-color-e":[{"border-e":et()}],"border-color-t":[{"border-t":et()}],"border-color-r":[{"border-r":et()}],"border-color-b":[{"border-b":et()}],"border-color-l":[{"border-l":et()}],"divide-color":[{divide:et()}],"outline-style":[{outline:[...dt(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Lt,_t,vt]}],"outline-w":[{outline:["",Lt,Hl,qs]}],"outline-color":[{outline:et()}],shadow:[{shadow:["","none",v,ff,cf]}],"shadow-color":[{shadow:et()}],"inset-shadow":[{"inset-shadow":["none",w,ff,cf]}],"inset-shadow-color":[{"inset-shadow":et()}],"ring-w":[{ring:st()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:et()}],"ring-offset-w":[{"ring-offset":[Lt,qs]}],"ring-offset-color":[{"ring-offset":et()}],"inset-ring-w":[{"inset-ring":st()}],"inset-ring-color":[{"inset-ring":et()}],"text-shadow":[{"text-shadow":["none",T,ff,cf]}],"text-shadow-color":[{"text-shadow":et()}],opacity:[{opacity:[Lt,_t,vt]}],"mix-blend":[{"mix-blend":[...bt(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":bt()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Lt]}],"mask-image-linear-from-pos":[{"mask-linear-from":gt()}],"mask-image-linear-to-pos":[{"mask-linear-to":gt()}],"mask-image-linear-from-color":[{"mask-linear-from":et()}],"mask-image-linear-to-color":[{"mask-linear-to":et()}],"mask-image-t-from-pos":[{"mask-t-from":gt()}],"mask-image-t-to-pos":[{"mask-t-to":gt()}],"mask-image-t-from-color":[{"mask-t-from":et()}],"mask-image-t-to-color":[{"mask-t-to":et()}],"mask-image-r-from-pos":[{"mask-r-from":gt()}],"mask-image-r-to-pos":[{"mask-r-to":gt()}],"mask-image-r-from-color":[{"mask-r-from":et()}],"mask-image-r-to-color":[{"mask-r-to":et()}],"mask-image-b-from-pos":[{"mask-b-from":gt()}],"mask-image-b-to-pos":[{"mask-b-to":gt()}],"mask-image-b-from-color":[{"mask-b-from":et()}],"mask-image-b-to-color":[{"mask-b-to":et()}],"mask-image-l-from-pos":[{"mask-l-from":gt()}],"mask-image-l-to-pos":[{"mask-l-to":gt()}],"mask-image-l-from-color":[{"mask-l-from":et()}],"mask-image-l-to-color":[{"mask-l-to":et()}],"mask-image-x-from-pos":[{"mask-x-from":gt()}],"mask-image-x-to-pos":[{"mask-x-to":gt()}],"mask-image-x-from-color":[{"mask-x-from":et()}],"mask-image-x-to-color":[{"mask-x-to":et()}],"mask-image-y-from-pos":[{"mask-y-from":gt()}],"mask-image-y-to-pos":[{"mask-y-to":gt()}],"mask-image-y-from-color":[{"mask-y-from":et()}],"mask-image-y-to-color":[{"mask-y-to":et()}],"mask-image-radial":[{"mask-radial":[_t,vt]}],"mask-image-radial-from-pos":[{"mask-radial-from":gt()}],"mask-image-radial-to-pos":[{"mask-radial-to":gt()}],"mask-image-radial-from-color":[{"mask-radial-from":et()}],"mask-image-radial-to-color":[{"mask-radial-to":et()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":J()}],"mask-image-conic-pos":[{"mask-conic":[Lt]}],"mask-image-conic-from-pos":[{"mask-conic-from":gt()}],"mask-image-conic-to-pos":[{"mask-conic-to":gt()}],"mask-image-conic-from-color":[{"mask-conic-from":et()}],"mask-image-conic-to-color":[{"mask-conic-to":et()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:St()}],"mask-repeat":[{mask:P()}],"mask-size":[{mask:nt()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",_t,vt]}],filter:[{filter:["","none",_t,vt]}],blur:[{blur:Pt()}],brightness:[{brightness:[Lt,_t,vt]}],contrast:[{contrast:[Lt,_t,vt]}],"drop-shadow":[{"drop-shadow":["","none",I,ff,cf]}],"drop-shadow-color":[{"drop-shadow":et()}],grayscale:[{grayscale:["",Lt,_t,vt]}],"hue-rotate":[{"hue-rotate":[Lt,_t,vt]}],invert:[{invert:["",Lt,_t,vt]}],saturate:[{saturate:[Lt,_t,vt]}],sepia:[{sepia:["",Lt,_t,vt]}],"backdrop-filter":[{"backdrop-filter":["","none",_t,vt]}],"backdrop-blur":[{"backdrop-blur":Pt()}],"backdrop-brightness":[{"backdrop-brightness":[Lt,_t,vt]}],"backdrop-contrast":[{"backdrop-contrast":[Lt,_t,vt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Lt,_t,vt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Lt,_t,vt]}],"backdrop-invert":[{"backdrop-invert":["",Lt,_t,vt]}],"backdrop-opacity":[{"backdrop-opacity":[Lt,_t,vt]}],"backdrop-saturate":[{"backdrop-saturate":[Lt,_t,vt]}],"backdrop-sepia":[{"backdrop-sepia":["",Lt,_t,vt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",_t,vt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Lt,"initial",_t,vt]}],ease:[{ease:["linear","initial",z,_t,vt]}],delay:[{delay:[Lt,_t,vt]}],animate:[{animate:["none",G,_t,vt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[O,_t,vt]}],"perspective-origin":[{"perspective-origin":F()}],rotate:[{rotate:ve()}],"rotate-x":[{"rotate-x":ve()}],"rotate-y":[{"rotate-y":ve()}],"rotate-z":[{"rotate-z":ve()}],scale:[{scale:We()}],"scale-x":[{"scale-x":We()}],"scale-y":[{"scale-y":We()}],"scale-z":[{"scale-z":We()}],"scale-3d":["scale-3d"],skew:[{skew:_n()}],"skew-x":[{"skew-x":_n()}],"skew-y":[{"skew-y":_n()}],transform:[{transform:[_t,vt,"","none","gpu","cpu"]}],"transform-origin":[{origin:F()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:In()}],"translate-x":[{"translate-x":In()}],"translate-y":[{"translate-y":In()}],"translate-z":[{"translate-z":In()}],"translate-none":["translate-none"],accent:[{accent:et()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:et()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_t,vt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_t,vt]}],fill:[{fill:["none",...et()]}],"stroke-w":[{stroke:[Lt,Hl,qs,zm]}],stroke:[{stroke:["none",...et()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Xk=Dk(Yk);function Mb(...r){return Xk(ts(r))}function nw({className:r,...t}){return B.jsx(pk,{"data-slot":"switch",className:Mb("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",r),...t,children:B.jsx(gk,{"data-slot":"switch-thumb",className:Mb("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function Wk(){const{user:r}=hn(),{userData:t,setUserData:e}=an(),s=()=>{t.settings.mode==="TimesTableAuto"?t.changeMode("SelectedFactor"):t.changeMode("TimesTableAuto"),na(r,t),e(t.clone())};return B.jsxs("div",{className:"bg-[#589ccc] flex flex-row h-[5vh]",children:[B.jsx("h1",{className:"flex m-auto font-bold text-[2vh]",children:"Auto Mode"}),B.jsx(nw,{checked:t.settings.mode==="TimesTableAuto",onCheckedChange:s,className:` h-[3vh] flex m-auto mr-5 bg-gray-300 data-[state=checked]:bg-[#08e4ac]\r
            hover:cursor-pointer\r
            hover:scale-110 transform transition-transform duration-150`})]})}function Zk(){var o;const{userData:r,setUserData:t}=an(),{user:e}=hn(),s=()=>{r.speedModeToggle(),na(e,r),t(r.clone())};return B.jsxs("div",{className:"bg-[#589ccc] flex flex-row h-[5vh]",children:[B.jsx("h1",{className:"flex m-auto font-bold text-[2vh]",children:"Speed Mode"}),B.jsx(nw,{checked:((o=r.settings)==null?void 0:o.speedMode)??!1,onCheckedChange:s,className:` h-[3vh] flex  m-auto mr-5 bg-gray-300 data-[state=checked]:bg-[#08e4ac]\r
                hover:cursor-pointer \r
                hover:scale-110 transform transition-transform duration-150`})]})}function Jk(){const[r,t]=x.useState(!1),{userData:e,setUserData:s}=an(),{user:o}=hn();function u(){t(!0),e.changeMode("LongMult"),na(o,e),s(e.clone())}function f(){t(!1),e.changeMode("TimesTableAuto"),na(o,e),s(e.clone())}return B.jsxs("div",{className:" flex flex-row",children:[B.jsx("button",{onClick:f,className:` ${r?"bg-[#589ccc]":"bg-[#08e4ac]"} 
                            h-[5vh]
                            m-1 

                            flex-1
                            rounded
                            font-bold
                            hover:cursor-pointer
                            hover:scale-110 transform transition-transform duration-150
                            p-2
                            `,children:"Times Table"}),B.jsx("button",{onClick:u,className:` ${r?"bg-[#08e4ac]":"bg-[#589ccc]"} 
                            h-[5vh]
                            flex-1
                            m-1 
                            rounded
                            font-bold
                            hover:cursor-pointer
                            hover:scale-110 transform transition-transform duration-150
                            p-2
                            `,children:"Long Mult"})]})}function t4(){const r=[1,2,3,4,5],[t,e]=x.useState(1),{userData:s,setUserData:o}=an(),{user:u}=hn(),{factors:f,setFactors:d}=ir(),p=g=>{s.settings.mode!="LongMult"&&(s.changeMode("LongMult"),o(s.clone()),na(u,s)),e(g),f.setDifficulty(g),d(f.clone())};return B.jsxs("div",{children:[B.jsx("div",{className:"bg-[#305c84] mb-1 h-[4vh] flex flex-col items-center justify-center font-bold text-[3vh]",children:"Difficulty Selector"}),B.jsx("div",{className:"flex flex-row",children:r.map(g=>B.jsx("button",{onClick:v=>p(g),className:`${t===g&&s.settings.mode==="LongMult"?"bg-[#08e4ac]":"bg-[#589ccc]"}
                h-[5vh]
                m-1 
                rounded
                font-bold
                hover:cursor-pointer
                hover:scale-110 transform transition-transform duration-150
                flex-1
                `,children:g},g))})]})}function e4(){const[r,t]=x.useState(!0),{userData:e}=an(),s=()=>{t(!r)};return B.jsxs("div",{className:`fixed
                top-0 left-0 h-full
                bg-[#2c8bcd]
                text-[#ecf0f1] 
                overflow-x-hidden 
                transition-all duration-300 p-0 
                ${r?"w-[20vw]":"w-[3vw]"}`,children:[B.jsx("div",{className:"h-[8vh]"}),B.jsx("button",{className:` text-[4vh] font-bold h-[4vh] items-center justify-center p-2
                    hover:cursor-pointer hover:scale-110 transform transition-transform duration-150
                    bg-[#589ccc]
                    flex m-1 ml-auto
                    rounded`,onClick:s,children:r?"←":"→"}),r&&B.jsxs("div",{className:"flex flex-col gap-2",children:[B.jsx(Wk,{}),B.jsx(Zk,{}),B.jsx(Jk,{}),e.settings.mode!=="LongMult"&&B.jsxs("div",{children:[B.jsx(zM,{}),B.jsx(KM,{})]}),e.settings.mode==="LongMult"&&B.jsx("div",{children:B.jsx(t4,{})})]})]})}const eu=class eu{constructor(){oe(this,"index");oe(this,"factor1");oe(this,"factor2");oe(this,"product");oe(this,"productList",[]);oe(this,"factorsOrder");oe(this,"productGridList",[]);oe(this,"numGridCorrect",0);oe(this,"numCarryCorrect",0);oe(this,"numSumCorrect",0);oe(this,"carryList",[]);oe(this,"rawMultList",[]);oe(this,"carrySumList",[]);oe(this,"sumCarryList",[]);oe(this,"numSumCarryCorrect",0);oe(this,"resetCounter",0);oe(this,"difficulty",1);this.index=0,this.factorsOrder=[],this.factorsOrder=[9,1,2,3,4,5,6,7,8,10,11,12],this.factorsOrder=this.shuffleArray(this.factorsOrder),this.factor1=12,this.factor2=this.factorsOrder[this.index],this.product=this.factor1*this.factor2,this.productList=this.initProductList(this.product),[this.productGridList,this.carryList,this.rawMultList,this.carrySumList]=this.initAnswers(),this.sumCarryList=this.initSumCarryList()}initSumCarryList(){const t=[];let e=this.productList.length,s=this.factor2.toString().length;const o=[];for(let f=0;f<s;f++){const d=f*e,p=d+e;o.push(this.productGridList.slice(d,p))}let u=0;for(let f=0;f<o[0].length;f++){let d=0,p=!1;for(let v=0;v<o.length;v++)d+=o[v][f];d>9&&(p=!0);let g=u+d;if(u=Math.floor(g/10),u>0){let v={value:u,primary:p,order:f,place:e-f-2};t.push(v)}}return t}initProductList(t){const e=[];for(let s=0;s<this.product.toString().length;s++)e.push(parseInt(t.toString()[s]));return e}initAnswers(){const t=[],e=[],s=[],o=[],u=this.factor1.toString(),f=this.factor2.toString();let d=0;const p=this.product.toString().length;let g=0;for(let v=f.length-1;v>=0;v--){g=0;for(let T=0;T<d;T++)e.push(0),g++;let w=0;for(let T=u.length-1;T>=0;T--){const I=parseInt(u[T]),D=parseInt(f[v]);let O=!1,L=I*D+w;if(I*D===L&&(O=!0),t.push(L),o.push(I*D),w=Math.floor(L/10),L=L%10,e.push(L),g++,w>0){const z={value:w,place:p-g-1,order:e.length-1,primary:O};s.push(z)}}for(w>0&&(e.push(w),g++),g;g<p;g++)e.push(0);d++}return[e,s,o,t]}next(t){t.settings.mode==="SelectedFactor"?this.selectedFactorNext():t.settings.mode==="TimesTableAuto"&&t.timesTableData.historyGrid?this.autoNext(t.timesTableData.historyGrid):t.settings.mode==="LongMult"&&this.longNext()}selectedFactorNext(){this.index<11?(this.index+=1,this.factor2=this.factorsOrder[this.index],this.product=this.factor1*this.factor2,this.productList=this.initProductList(this.product),[this.productGridList,this.carryList,this.rawMultList,this.carrySumList]=this.initAnswers(),this.sumCarryList=this.initSumCarryList(),this.numGridCorrect=0,this.numCarryCorrect=0,this.numSumCorrect=0,this.numSumCarryCorrect=0,this.resetCounter++):(this.index=0,this.factorsOrder=this.shuffleArray(this.factorsOrder),this.factor2=this.factorsOrder[this.index],this.product=this.factor1*this.factor2,this.productList=this.initProductList(this.product),[this.productGridList,this.carryList,this.rawMultList,this.carrySumList]=this.initAnswers(),this.sumCarryList=this.initSumCarryList(),this.numGridCorrect=0,this.numCarryCorrect=0,this.numSumCorrect=0,this.numSumCarryCorrect=0,this.resetCounter++)}autoNext(t){let e=Number.MAX_SAFE_INTEGER,s=[];for(let u=0;u<t.length;u++)for(let f=0;f<t[u].length;f++){const d=t[u][f];d<e?(e=d,s=[[u,f]]):d===e&&s.push([u,f])}const o=Math.floor(Math.random()*s.length);this.factor1=s[o][0]+1,this.factor2=s[o][1]+1,this.product=this.factor1*this.factor2,this.productList=this.initProductList(this.product),[this.productGridList,this.carryList,this.rawMultList,this.carrySumList]=this.initAnswers(),this.sumCarryList=this.initSumCarryList(),this.numGridCorrect=0,this.numCarryCorrect=0,this.numSumCorrect=0,this.numSumCarryCorrect=0,this.resetCounter++}longNext(){let t=this.difficulty+2;const e=Math.floor(t/2),s=t-e;this.factor1=this.randomDigits(s),this.factor2=this.randomDigits(e),this.product=this.factor1*this.factor2,this.productList=this.initProductList(this.product),[this.productGridList,this.carryList,this.rawMultList,this.carrySumList]=this.initAnswers(),this.sumCarryList=this.initSumCarryList(),this.numGridCorrect=0,this.numCarryCorrect=0,this.numSumCorrect=0,this.numSumCarryCorrect=0,this.resetCounter++}correctGrid(){this.numGridCorrect+=1}correctCarry(){this.numCarryCorrect+=1}correctSum(){this.numSumCorrect+=1}correctSumCarry(){this.numSumCarryCorrect+=1}nextCarry(){if(this.carryList[this.numCarryCorrect]!==void 0)return this.carryList[this.numCarryCorrect]}nextSumCarry(){if(this.sumCarryList[this.numSumCarryCorrect]!==void 0)return this.sumCarryList[this.numSumCarryCorrect]}clone(){const t=new eu;return t.index=this.index,t.factorsOrder=this.factorsOrder,t.factor1=this.factor1,t.factor2=this.factor2,t.product=this.product,t.productList=this.productList,t.numGridCorrect=this.numGridCorrect,t.numCarryCorrect=this.numCarryCorrect,t.numSumCorrect=this.numSumCorrect,t.numSumCarryCorrect=this.numSumCarryCorrect,t.productGridList=this.productGridList,t.carryList=this.carryList,t.resetCounter=this.resetCounter,t.difficulty=this.difficulty,t.rawMultList=this.rawMultList,t.carrySumList=this.carrySumList,t.sumCarryList=this.sumCarryList,t}setLevel(t){this.factor1=t,this.index=12,this.selectedFactorNext()}setDifficulty(t){this.difficulty=t,this.longNext()}setFactors(t,e){this.factor1=t,this.factor2=e,this.product=this.factor1*this.factor2,this.productList=this.initProductList(this.product),[this.productGridList,this.carryList,this.rawMultList,this.carrySumList]=this.initAnswers(),this.sumCarryList=this.initSumCarryList(),this.numGridCorrect=0,this.numCarryCorrect=0,this.numSumCorrect=0,this.numSumCarryCorrect=0,this.resetCounter++}shuffleArray(t){const e=[...t];for(let s=e.length-1;s>0;s--){const o=Math.floor(Math.random()*(s+1));[e[s],e[o]]=[e[o],e[s]]}return e}randomDigits(t){if(t<1)throw new Error("Number of digits must be at least 1.");const e=Math.pow(10,t-1),s=Math.pow(10,t)-1;return Math.floor(Math.random()*(s-e+1))+e}static rowComplete(t){let e=t.product.toString().length;const s=e*Math.ceil(t.numGridCorrect/e);for(let o=t.numGridCorrect;o<s;o++)if(t.productGridList[o]!==0)return!1;return!0}};oe(eu,"leadingZero",t=>{let e=t.product.toString().length;const s=e*Math.ceil(t.numGridCorrect/e);if(eu.rowComplete(t))for(let o=t.numGridCorrect;o<s;o++)t.correctGrid();return t});let Ks=eu;function n4({gridRef:r,gridInput:t,setGridInput:e,carryBarToGrid:s}){const{factors:o,setFactors:u}=ir(),{incrementStreak:f}=Du(),d=x.useMemo(()=>o.factor2.toString().length,[o.factor2]),p=x.useMemo(()=>o.product.toString().length,[o.product]),g=x.useMemo(()=>o.numGridCorrect===o.productGridList.length,[o.numGridCorrect]),v=x.useMemo(()=>o.factor2.toString().length>1,[o.factor2]),[w,T]=x.useState(!1),I=x.useMemo(()=>{var J;return(((J=o.nextCarry())==null?void 0:J.order)??-1)===o.numGridCorrect},[o.numCarryCorrect,o.resetCounter,o.numGridCorrect]),D=x.useMemo(()=>o.carryList[o.numCarryCorrect-1]??void 0,[o.numCarryCorrect]);x.useEffect(()=>{var R,E;const J=Array.from({length:d},()=>Array.from({length:p},()=>""));e(J),r.current=Array.from({length:d},()=>Array.from({length:p},()=>null));const F=o.clone();F.correctGrid();const ct=F.numGridCorrect;F.correctGrid(),I&&((R=F.nextCarry())==null?void 0:R.value)===F.productGridList[ct]&&Ks.rowComplete(F)&&((E=F.nextCarry())!=null&&E.primary)?T(!0):T(!1)},[o.resetCounter,d,p]),x.useEffect(()=>{var ct,R;const J=o.clone();J.correctGrid();const F=J.numGridCorrect;J.correctGrid(),I&&((ct=J.nextCarry())==null?void 0:ct.value)===J.productGridList[F]&&Ks.rowComplete(J)&&((R=J.nextCarry())!=null&&R.primary)&&T(!0)},[o.numCarryCorrect,I]);const O=(J,F)=>{const ct=p-1-o.numGridCorrect%p,R=Math.floor(o.numGridCorrect/p);return I||D&&D.order===o.numGridCorrect-1?!0:!(F===ct&&J===R)},L=(J,F)=>J*p+p-1-F<o.numGridCorrect,z=(J,F,ct)=>{let R="";if(J.target.value!==""&&(R=Number(J.target.value)),(R===""||R<10)&&e(E=>{const A=E.map(M=>[...M]);return A[F][ct]=R,A}),R===o.productGridList[o.numGridCorrect]){let E=o.clone();E.correctGrid(),w&&(E=s(E),T(!1)),E=Ks.leadingZero(E),console.log("Product grid correct trace",E),u(E),f()}};function G(J,F){if(g||I||D&&D.order===o.numGridCorrect-1)return!1;const ct=p-1-o.numGridCorrect%p,R=Math.floor(o.numGridCorrect/p);return J===R&&F===ct}function K(J){const F=p-o.numSumCorrect-1;return!g||!v?!1:J===F}return B.jsxs("div",{className:"flex flex-row items-end",children:[B.jsx("div",{className:`leading-none text-[10vh] font-bold  ${!g||!v?"invisible":"text-[#bb2020]"}`,children:"+"}),B.jsx("div",{className:"h-auto flex flex-col gap-2",children:t.map((J,F)=>B.jsx("div",{className:"h-auto flex flex-row gap-2 justify-end",children:J.map((ct,R)=>{var E;return B.jsx("input",{className:` product-grid-cell
                                    ${K(R)?"text-[#bb2020]":""}
                                    ${O(F,R)?L(F,R)?"bg-green-200":"bg-gray-400":""}
                                    `,type:"number",value:((E=t[F])==null?void 0:E[R])??"",readOnly:O(F,R),onChange:A=>z(A,F,R),ref:A=>{r.current[F]||(r.current[F]=[]),r.current[F][R]=A,A&&G(F,R)&&A.focus()}},`${F}-${R}`)})},F))})]})}function r4({sumBarRef:r,sumInput:t,setSumInput:e,carrySumCarryToSum:s}){const{setFactors:o,factors:u}=ir(),{user:f}=hn(),{incrementStreak:d}=Du(),{userData:p,setUserData:g}=an(),v=x.useMemo(()=>u.numGridCorrect===u.productGridList.length,[u.numGridCorrect]),w=x.useMemo(()=>u.factor2.toString().length>1,[u.product]),T=x.useMemo(()=>u.product.toString().length,[u.product]),I=x.useMemo(()=>u.numSumCorrect==u.productList.length,[u.numSumCorrect]),D=x.useMemo(()=>I||v&&!w,[I,v,w]),[O,L]=x.useState(!1),z=x.useMemo(()=>{var R;return((R=u.nextSumCarry())==null?void 0:R.order)===u.numSumCorrect},[u.numSumCorrect,u.numSumCarryCorrect,u.resetCounter]);x.useEffect(()=>{v&&!w&&p.settings.speedMode&&J()},[v]),x.useEffect(()=>{u.numSumCarryCorrect>0&&u.sumCarryList[u.numSumCarryCorrect-1].place===0&&u.sumCarryList[u.numSumCarryCorrect-1].value===u.productList[0]?L(!0):L(!1)},[u.numSumCarryCorrect]),x.useEffect(()=>{e(Array.from({length:T},()=>""))},[u.resetCounter,T]),x.useEffect(()=>{p.settings.speedMode&&J()},[I]),x.useEffect(()=>{const R=E=>{E.key==="Enter"&&D&&J()};return window.addEventListener("keydown",R),()=>{window.removeEventListener("keydown",R)}},[D]);const G=R=>T-1-R<u.numSumCorrect,K=(R,E)=>{let A="";R.target.value!==""&&(A=Number(R.target.value));let M=[...t];if((A===""||A<10)&&(M[E]=A),A===u.productList[E]){let V=u.clone();R.target.value="",d(),V.correctSum(),O&&(console.log(M),[V,M]=s(V,M),console.log(M)),o(V),L(!1)}e(M),console.log(p)},J=()=>{p.correct(u),na(f,p),u.next(p),g(p.clone()),o(u.clone())},F=R=>{if(z)return!0;const E=u.productList.length-u.numSumCorrect-1;return R!==E};function ct(R){if(!v||!w||z)return!1;const E=T-u.numSumCorrect-1;return R===E}return B.jsx("div",{className:` mt-2 border-t-6 border-[rgb(20,128,223)] h-auto flex flex-row gap-2 justify-end ${!v||!w?"invisible":""}`,children:t.map((R,E)=>B.jsx("input",{className:`mt-2 product-grid-cell ${F(E)?G(E)?"bg-green-200":"bg-gray-400":""}`,type:"number",value:t[E],readOnly:F(E),ref:A=>{r.current[E]=A,A&&ct(E)&&A.focus()},onChange:A=>K(A,E)},E))})}function i4({rawMultComplete:r}){const{factors:t}=ir(),e=s=>{if(t.numGridCorrect===t.productGridList.length)return!1;const o=t.factor1.toString().length,u=o-s-1,f=t.product.toString().length,d=Math.floor(t.numGridCorrect/f),p=Math.min(t.numGridCorrect%f-d,o-1);return u===p&&!r};return B.jsx("div",{className:" text-[10vh] font-bold text-[rgb(20,128,223)]",children:t.factor1.toString().split("").map((s,o)=>B.jsx("span",{className:`${e(o)?"text-[#bb2020]":""}`,children:s},o))})}function s4({rawMultComplete:r}){const{factors:t}=ir(),e=s=>{if(t.numGridCorrect===t.productGridList.length)return!1;const o=t.product.toString().length,u=Math.floor(t.numGridCorrect/o);return t.factor2.toString().length-s-1===u&&!r};return B.jsxs("div",{className:"  border-b-6 border-[rgb(20,128,223)] text-[10vh] font-bold text-[rgb(20,128,223)] flex flex-row",children:[B.jsx("div",{className:`flex ${r||t.numGridCorrect>=t.productGridList.length?"":"text-[#bb2020]"}`,children:"X"}),B.jsx("div",{className:"flex",children:t.factor2.toString().split("").map((s,o)=>B.jsx("span",{className:`${e(o)?"text-[#bb2020]":""}`,children:s},o))})]})}function a4({from:r,to:t,value:e,duration:s,grow:o,onAnimationEnd:u}){const[f,d]=x.useState(!1);return x.useEffect(()=>{const p=requestAnimationFrame(()=>{d(!0)});return()=>cancelAnimationFrame(p)},[]),B.jsx("div",{style:{position:"fixed",left:r.left,top:r.top,width:r.width,height:r.height,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4,fontSize:"4vh",fontWeight:"bolder",transition:`transform ${s}ms ease-in`,transform:f?`translate(${t.left-r.left}px, ${t.top-r.top}px) scale(${o})`:"translate(0px, 0px) scale(1)",zIndex:1e3},onTransitionEnd:u,children:e})}function o4({carrySumBarRef:r,carrySumToGrid:t,clearCarryBar:e,carrySumToBar:s,rawMultComplete:o,setRawMultComplete:u}){const{setFactors:f,factors:d}=ir(),{incrementStreak:p}=Du(),g=x.useMemo(()=>d.product.toString().length,[d.product,d.resetCounter]),v=x.useMemo(()=>d.carryList[d.numCarryCorrect-1]??void 0,[d.numCarryCorrect]),[w,T]=x.useState(!0),I=x.useRef([]),D=x.useMemo(()=>{const W=d.factor1.toString().length,st=d.product.toString().length,dt=Math.floor(d.numGridCorrect/st);let bt=0;return st*dt<=d.numGridCorrect&&d.numGridCorrect<=st*dt+dt?bt=0:bt=Math.min((d.numGridCorrect-dt)%st,W-1),dt*W+bt},[d.numGridCorrect]),[O,L]=x.useState(()=>Array.from({length:g},()=>"")),[z,G]=x.useState([]),[K,J]=x.useState(0),[F,ct]=x.useState([]),[R,E]=x.useState(()=>Array.from({length:g},()=>"")),[A,M]=x.useState([]),[V,U]=x.useState(0),[N,Mt]=x.useState([]),Rt=x.useMemo(()=>V>=N.length&&N.length>0,[N,A]);x.useEffect(()=>{u(K>=F.length)},[F,z]),x.useEffect(()=>{v&&v.order+1===d.numGridCorrect?T(!0):T(!1)},[d.numGridCorrect,d.resetCounter]),x.useEffect(()=>{if(Rt){let W=d.clone();W=t(W,v.place);let st=!0;W.carryList[W.numCarryCorrect+1]!=null&&W.carryList[W.numCarryCorrect+1].primary===!1&&(st=!1),V===2&&(N[0]===W.productGridList[W.numGridCorrect]&&st?(W=t(W,v.place-1),W.correctCarry()):(s(N[0],v.place-1),W.correctCarry())),e(v.place),W=Ks.leadingZero(W),f(W)}},[Rt]),x.useEffect(()=>{L(Array.from({length:g},()=>"")),G(Array.from({length:g},()=>!1)),E(Array.from({length:g},()=>"")),M(Array.from({length:g},()=>!1))},[d.numCarryCorrect,d.resetCounter]),x.useEffect(()=>{if(D<d.rawMultList.length){const W=d.rawMultList[D].toString().split("").map(Number),st=d.carrySumList[D].toString().split("").map(Number);ct(W),Mt(st)}J(0),U(0)},[D,d.resetCounter]);const X=W=>{if(d.carrySumList){const dt=(d.carrySumList[D]??0).toString().length-1;return v===void 0||W>v.place?!1:!(W<v.place-dt)}},ut=W=>{if(v){const st=((v==null?void 0:v.place)??0)-F.length+1+K;return o?!0:W!==st}},et=W=>{if(v){const st=((v==null?void 0:v.place)??0)-N.length+1+V;return Rt||!o?!0:W!==st}},St=(W,st)=>{let dt="";W.target.value!==""&&(dt=Number(W.target.value));const bt=[...O];if(bt[st]=dt,(dt===""||dt<10)&&L(bt),dt===F[K]){J(K+1),p();const gt=[...z];gt[st]=!0,G(gt)}},P=(W,st)=>{let dt="";W.target.value!==""&&(dt=Number(W.target.value));const bt=[...R];if(bt[st]=dt,(dt===""||dt<10)&&E(bt),dt===N[V]){U(V+1),p();const gt=[...A];gt[st]=!0,M(gt)}};function nt(W){if(v){const st=((v==null?void 0:v.place)??0)-N.length+1+V;return Rt||!o?!1:W===st}}function ft(W){if(v){const st=((v==null?void 0:v.place)??0)-F.length+1+K;return o?!1:W===st}}return B.jsx("div",{children:w&&B.jsxs("div",{className:"h-auto flex flex-col gap-2",children:[B.jsx("div",{className:"flex flex-row gap-2 justify-end mt-2",children:O.map((W,st)=>B.jsx("input",{className:`carry-cell 
                                    ${o?"text-[#bb2020]":""}
                                    ${X(st)?z[st]||o?"bg-green-200":ut(st)?"bg-gray-400":"":"invisible"}`,type:"number",value:O[st],onChange:dt=>St(dt,st),readOnly:ut(st),ref:dt=>{I.current[st]=dt,dt&&ft(st)&&dt.focus()}},st))}),B.jsxs("div",{className:"border-t-6 border-[rgb(20,128,223)] flex flex-row gap-2",children:[B.jsx("div",{className:`text-[5vh] font-bold ${o?"text-[#bb2020]":"text-[rgb(20,128,223)]"}`,children:"+"}),R.map((W,st)=>B.jsx("input",{className:`carry-cell 
                                    mt-1
                                    ${X(st)?A[st]||Rt?"bg-green-200":et(st)?"bg-gray-400":"":"invisible"}`,type:"number",value:R[st],onChange:dt=>P(dt,st),readOnly:et(st),ref:dt=>{r.current[st]=dt,dt&&nt(st)&&dt.focus()}},st))]})]})})}function l4({carryBarRef:r,carryInput:t,setCarryInput:e,carryCorrect:s,setCarryCorrect:o,rawMultComplete:u}){const{setFactors:f,factors:d}=ir(),{incrementStreak:p}=Du(),g=x.useMemo(()=>d.product.toString().length,[d.product,d.resetCounter]),v=x.useMemo(()=>d.nextCarry(),[d.numCarryCorrect,d.resetCounter]);x.useEffect(()=>{d.numGridCorrect%g===0&&(e(Array.from({length:g},()=>"")),o(Array.from({length:g},()=>!1)))},[d.numGridCorrect,d.resetCounter]);const w=D=>t[D]!=""?!0:!(v===void 0||v.place!==D||v.primary===!1||v.order!==d.numGridCorrect),T=(D,O)=>{let L="";D.target.value!==""&&(L=Number(D.target.value));const z=[...t];if(z[O]=L,(L===""||L<10)&&e(z),v!==void 0&&L===v.value){d.correctCarry(),f(d.clone()),p();const G=[...s];G[O]=!0,o(G)}};function I(D,O,L){return O?O.place===D&&O.order===L&&O.primary:!1}return B.jsx("div",{className:"flex flex-row gap-2 justify-end",children:t.map((D,O)=>B.jsx("input",{className:`carry-cell 
                        ${u?"text-[#bb2020]":""}
                        ${w(O)?s[O]?"bg-green-200":"":"invisible"}
                         `,type:"number",value:t[O],onChange:L=>T(L,O),readOnly:s[O],ref:L=>{r.current[O]=L,L&&I(O,v,d.numGridCorrect)&&L.focus()}},O))})}function u4({carryBarRef:r,carrySumBarRef:t,carrySumToGrid:e,rawMultComplete:s,setRawMultComplete:o}){const[u,f]=x.useState([]),[d,p]=x.useState([]);function g(w,T){let I=u;I[T]=w,f(I)}function v(w){let T=u;T[w]="",f(T)}return B.jsxs("div",{className:"h-[20vh] flex flex-col justify-end",children:[B.jsx(l4,{carryBarRef:r,carryInput:u,setCarryInput:f,carryCorrect:d,setCarryCorrect:p,rawMultComplete:s}),B.jsx(o4,{carrySumBarRef:t,rawMultComplete:s,setRawMultComplete:o,carrySumToGrid:e,clearCarryBar:v,carrySumToBar:g})]})}function c4({sumCarryBarRef:r}){const{setFactors:t,factors:e}=ir(),[s,o]=x.useState([]),[u,f]=x.useState([]),{incrementStreak:d}=Du(),p=x.useMemo(()=>e.product.toString().length,[e.product,e.resetCounter]),g=x.useMemo(()=>e.nextSumCarry(),[e.numSumCarryCorrect,e.resetCounter]),v=x.useMemo(()=>e.numGridCorrect===e.productGridList.length,[e.numGridCorrect]),w=x.useMemo(()=>e.factor2.toString().length>1,[e.product]);x.useEffect(()=>{e.numGridCorrect%p===0&&(o(Array.from({length:p},()=>"")),f(Array.from({length:p},()=>!1)))},[e.numGridCorrect,e.resetCounter]);const T=L=>v?s[L]!=""?!0:!(g===void 0||g.place!==L||g.order!==e.numSumCorrect):!1,I=(L,z)=>{let G="";L.target.value!==""&&(G=Number(L.target.value));const K=[...s];if(K[z]=G,(G===""||G<10)&&o(K),g!==void 0&&G===g.value){e.correctSumCarry(),t(e.clone()),d();const J=[...u];J[z]=!0,f(J)}};function D(L,z,G){return!z||!v||!w?!1:z.place===L&&z.order===G}function O(L){const z=p-e.numSumCorrect-1;return L===z}return B.jsx("div",{className:"flex flex-row gap-2 justify-end",children:s.map((L,z)=>B.jsx("input",{className:`carry-cell
                        ${O(z)?"text-[#bb2020]":""}
                        ${T(z)?u[z]?"bg-green-200":"":"invisible"}
                        `,type:"number",value:s[z],onChange:G=>I(G,z),readOnly:u[z],ref:G=>{r.current[z]=G,G&&D(z,g,e.numSumCorrect)&&G.focus()}},z))})}function rw(){const{factors:r,setFactors:t}=ir(),{userData:e}=an(),s=r.factor2.toString().length,o=r.product.toString().length,u=1e3,f=1.5,d=x.useRef([]),p=x.useRef([]),g=x.useRef([]),v=x.useRef([]),[w,T]=x.useState(!1),[I,D]=x.useState(()=>Array.from({length:o},()=>"")),O=x.useRef(Array.from({length:s},()=>Array.from({length:o},()=>null))),L=x.useRef(r.resetCounter),[z,G]=x.useState([]),[K,J]=x.useState([]);x.useEffect(()=>{L.current=r.resetCounter,J([])},[r.resetCounter]),x.useEffect(()=>{r.next(e),t(r.clone())},[e.settings.mode]);const F=A=>new Promise(M=>setTimeout(M,A)),ct=A=>{const M=A.productGridList[A.numGridCorrect],V=o-1-A.numGridCorrect%o,U=Math.floor(A.numGridCorrect/o),N=d.current[A.carryList[A.numCarryCorrect-1].place],Mt=O.current[U][V];if(N&&Mt){const Rt=N.getBoundingClientRect(),X=Mt.getBoundingClientRect(),ut=A.resetCounter,et=Date.now()+Math.random();J(St=>[...St,{id:et,from:Rt,to:X,value:M,duration:u,grow:f,onAnimationEnd:()=>{J(P=>P.filter(nt=>nt.id!==et))}}]),F(u).then(()=>{L.current===ut&&G(St=>{const P=St.map(nt=>[...nt]);return P[U][V]=M,P})})}return A.correctGrid(),A},R=(A,M)=>{const V=A.productGridList[A.numGridCorrect],U=o-1-A.numGridCorrect%o,N=Math.floor(A.numGridCorrect/o),Mt=p.current[M],Rt=O.current[N][U];if(Mt&&Rt){const X=Mt.getBoundingClientRect(),ut=Rt.getBoundingClientRect(),et=A.resetCounter,St=Date.now()+Math.random();J(P=>[...P,{id:St,from:X,to:ut,value:V,duration:u,grow:f,onAnimationEnd:()=>{J(nt=>nt.filter(ft=>ft.id!==St))}}]),F(u).then(()=>{L.current===et&&G(P=>{const nt=P.map(ft=>[...ft]);return nt[N][U]=V,nt})})}return A.correctGrid(),A},E=(A,M)=>{const V=A.productList[0],U=o-1-A.numSumCorrect,N=v.current[A.sumCarryList[A.numSumCarryCorrect-1].place],Mt=g.current[U];if(N&&Mt){const Rt=N.getBoundingClientRect(),X=Mt.getBoundingClientRect(),ut=A.resetCounter,et=Date.now()+Math.random();J(St=>[...St,{id:et,from:Rt,to:X,value:V,duration:u,grow:f,onAnimationEnd:()=>{J(P=>P.filter(nt=>nt.id!==et))}}]),F(u).then(()=>{if(L.current===ut){let St=M;St[U]=V,D(St)}})}return A.correctSum(),[A,M]};return B.jsxs("div",{className:"  leading-none m-auto flex flex-col items-end w-fit h-fit",children:[B.jsx(u4,{carryBarRef:d,carrySumBarRef:p,carrySumToGrid:R,rawMultComplete:w,setRawMultComplete:T}),B.jsx(i4,{rawMultComplete:w}),B.jsx(s4,{rawMultComplete:w}),B.jsx(c4,{sumCarryBarRef:v}),B.jsx(n4,{gridRef:O,gridInput:z,setGridInput:G,carryBarToGrid:ct}),B.jsx(r4,{sumBarRef:g,sumInput:I,setSumInput:D,carrySumCarryToSum:E}),K.map(A=>B.jsx(a4,{...A},A.id))]})}function iw({children:r}){const[t,e]=x.useState(new Ks);return B.jsx(L1.Provider,{value:{factors:t,setFactors:e},children:r})}const f4=()=>{const{userData:r,setUserData:t}=an();return x.useEffect(()=>{r.changeMode("TimesTableAuto"),t(r.clone())},[]),B.jsx("div",{children:B.jsx(k1,{children:B.jsxs(iw,{children:[B.jsx(rw,{}),B.jsx(e4,{})]})})})},h4=()=>{const{userData:r,setUserData:t}=an();return x.useEffect(()=>{r.changeMode("LongMult"),t(r.clone())},[]),B.jsxs("div",{children:[B.jsx(Tg,{to:"/",children:"Go to HomeScreen"}),B.jsx(k1,{children:B.jsx(iw,{children:B.jsx(rw,{})})})]})},d4=()=>{const r=xu();return B.jsxs("div",{className:"flex flex-col m-auto items-center gap-5",children:[B.jsx("div",{className:"text-[10vh] mb-[10vh]",children:"Select an activity"}),B.jsxs("div",{className:" flex flex-row m-auto items-center gap-5",children:[B.jsxs("div",{className:"flex flex-col items-center text-[3vh] font-bold",children:[B.jsx("button",{className:` h-[20vh] w-[20vh] \r
          bg-[url("/MultIcon.png")]\r
          bg-cover\r
          rounded \r
          hover:cursor-pointer hover:scale-110 transform transition-transform duration-150`,onClick:t=>r("/TimesTable")}),"Multiplication"]}),B.jsxs("div",{className:"flex flex-col items-center text-[3vh] font-bold",children:[B.jsx("button",{className:` h-[20vh] w-[20vh] \r
          bg-[url("/DivIcon.png")]\r
          bg-cover\r
          rounded \r
          hover:cursor-pointer hover:scale-110 transform transition-transform duration-150`,onClick:t=>Yt.error("Feature not complete")}),"Division"]}),B.jsxs("div",{className:"flex flex-col items-center text-[3vh] font-bold",children:[B.jsx("button",{className:` h-[20vh] w-[20vh] \r
          bg-[url("/FracIcon.png")]\r
          bg-cover\r
          rounded \r
          hover:cursor-pointer hover:scale-110 transform transition-transform duration-150`,onClick:t=>Yt.error("Feature not complete")}),"Fraction"]}),B.jsxs("div",{className:"flex flex-col items-center text-[3vh] font-bold",children:[B.jsx("button",{className:` h-[20vh] w-[20vh] \r
          bg-[url("/DecIcon.png")]\r
          bg-cover\r
          rounded \r
          hover:cursor-pointer hover:scale-110 transform transition-transform duration-150`,onClick:t=>Yt.error("Feature not complete")}),"Decimal"]})]})]})},kb=({requireTeacher:r})=>{const{userData:t}=an(),{user:e}=hn(),s=di();return e?r&&!t.isTeacher?B.jsx(Ab,{to:"/",replace:!0,state:{from:s}}):B.jsx(CO,{}):B.jsx(Ab,{to:"/",replace:!0,state:{from:s}})};function m4(){const{logout:r,user:t}=hn(),{userData:e}=an(),s=()=>{Su(t,e),r()};return B.jsx("button",{onClick:s,className:`p-2 bg-[#2596be] text-white rounded font-bold  
    hover:cursor-pointer hover:scale-110 transform transition-transform duration-150
    h-auto w-auto`,children:"Log out"})}function p4(){const{loginWithGoogle:r,user:t}=hn(),e=x.useMemo(()=>t!=null,[t]);async function s(){if(!e)try{await r()}catch(o){console.log("Login failed: ",o)}}return B.jsx("button",{onClick:s,className:`p-2 bg-[#2596be] text-white rounded font-bold \r
    hover:cursor-pointer hover:scale-110 transform transition-transform duration-150`,children:"Log in"})}const g4=()=>{const r=xu(),{user:t}=hn(),{userData:e}=an(),s=x.useMemo(()=>t!=null,[t]);return B.jsxs("header",{className:" fixed top-0 left-0 right-0 z-50 bg-white shadow-md flex flex-row h-[8vh] items-center gap-2 text-center",children:[B.jsx("button",{className:` bg-[url("/Logo-landscape.png")] h-[6vh] w-[18vh]\r
            bg-cover\r
          rounded \r
          hover:cursor-pointer hover:scale-110 transform transition-transform duration-150\r
          m-4`,onClick:o=>r("/")}),s&&B.jsx("button",{className:`h-[6vh] w-[25vh] font-bold bg-[url("/Activities-button.png")]\r
              bg-cover\r
              rounded \r
              hover:cursor-pointer hover:scale-110 transform transition-transform duration-150`,onClick:o=>r("/ActivitySelect")}),e.isTeacher&&B.jsx("button",{className:`h-[6vh] w-[25vh] font-bold\r
              bg-cover\r
              rounded \r
              hover:cursor-pointer hover:scale-110 transform transition-transform duration-150`,onClick:o=>r("/TeacherDashboard"),children:"Teacher Dashboard"}),s&&B.jsxs("div",{className:"flex flex-row m-auto mr-2 gap-5",children:[B.jsxs("div",{className:"h-auto w-auto text-[2vh] font-bold m-2",children:["Welcome ",t==null?void 0:t.displayName,"!"]}),B.jsx(m4,{}),B.jsx("div",{className:"h-auto w-auto text-[2vh] font-bold m-2",children:e.classroomId})]}),!s&&B.jsx("div",{className:"flex flex-row m-auto mr-2",children:B.jsx(p4,{})})]})},y4=({children:r})=>B.jsxs("div",{children:[B.jsx(g4,{}),B.jsx("div",{className:"h-[8vh]"}),B.jsx("main",{className:"p-4",children:r})]});function v4(){const[r,t]=x.useState([]),[e,s]=x.useState([]),{user:o}=hn(),u=1,f=async()=>{if(o)try{const v=await WD(o);v&&t(v)}catch(v){console.error("Failed to fetch student data:",v)}};x.useEffect(()=>{f()},[]);function d(v){return v.map(w=>w.timesTableData.historyGrid.map(T=>T.every(I=>I>=u)))}x.useEffect(()=>{console.log(r),s(d(r))},[r]),x.useEffect(()=>{console.log(e)},[e]);const p=(v,w)=>{let T=0;return r[v].timesTableData.historyGrid[w].forEach(I=>T+=I),T},g=(v,w)=>{const T=p(v,w);return`${r[v].userName} has answered ${T} factor of ${w+1} problems.`};return B.jsx("div",{className:" text-[2vh] font-bold border-1 flex flex-col",children:r==null?void 0:r.map((v,w)=>{var T,I;return B.jsxs("div",{className:"border flex flex-row items-center",children:[B.jsx("div",{className:"border-r w-[20vw] h-[4vw] flex items-center justify-center",children:(v==null?void 0:v.userName)??""},w+"studentName"),B.jsx("div",{className:"flex flex-row border",children:(T=e==null?void 0:e[w])==null?void 0:T.map((D,O)=>B.jsxs("div",{children:[B.jsx("div",{className:"flex items-center justify-center h-[2vw] w-[2vw] border font-bold bg-[#2c8bcd] text-white",children:O+1}),B.jsx("div",{className:`flex items-center justify-center scoreboard-cell h-[2vw] w-[2vw] border ${D?"bg-green-500":"bg-gray-300"}`,title:(g==null?void 0:g(w,O))??""},w+"score"+O)]}))},w+"studentScore"),B.jsx("div",{children:((I=v==null?void 0:v.timesTableData)==null?void 0:I.numCorrect)??""},w+"totalAnswered")]},w+"student")})})}const _4=()=>B.jsx("div",{children:B.jsx(v4,{})}),b4=()=>B.jsx(ZD,{children:B.jsx(kN,{children:B.jsxs(ZO,{basename:"/MathCrow",children:[B.jsx(MN,{}),B.jsx(y4,{children:B.jsxs(xO,{children:[B.jsx(Hi,{path:"/",element:B.jsx(fM,{})}),B.jsxs(Hi,{element:B.jsx(kb,{}),children:[B.jsx(Hi,{path:"/TimesTable",element:B.jsx(f4,{})}),B.jsx(Hi,{path:"/LongMultiplication",element:B.jsx(h4,{})}),B.jsx(Hi,{path:"/ActivitySelect",element:B.jsx(d4,{})})]}),B.jsx(Hi,{element:B.jsx(kb,{requireTeacher:!0}),children:B.jsx(Hi,{path:"/TeacherDashboard",element:B.jsx(_4,{})})})]})})]})})});BS.createRoot(document.getElementById("root")).render(B.jsx(x.StrictMode,{children:B.jsx(b4,{})}));
