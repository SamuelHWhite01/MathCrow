var MA=Object.defineProperty;var VA=(r,t,n)=>t in r?MA(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n;var Fe=(r,t,n)=>VA(r,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ld={exports:{}},rl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function PA(){if(n_)return rl;n_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return rl.Fragment=t,rl.jsx=n,rl.jsxs=n,rl}var i_;function UA(){return i_||(i_=1,ld.exports=PA()),ld.exports}var ft=UA(),ud={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function LA(){if(r_)return wt;r_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),C=Symbol.iterator;function D(I){return I===null||typeof I!="object"?null:(I=C&&I[C]||I["@@iterator"],typeof I=="function"?I:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,J={};function $(I,X,nt){this.props=I,this.context=X,this.refs=J,this.updater=nt||q}$.prototype.isReactComponent={},$.prototype.setState=function(I,X){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,X,"setState")},$.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function rt(){}rt.prototype=$.prototype;function st(I,X,nt){this.props=I,this.context=X,this.refs=J,this.updater=nt||q}var at=st.prototype=new rt;at.constructor=st,K(at,$.prototype),at.isPureReactComponent=!0;var bt=Array.isArray,it={H:null,A:null,T:null,S:null,V:null},dt=Object.prototype.hasOwnProperty;function N(I,X,nt,W,ht,Ct){return nt=Ct.ref,{$$typeof:r,type:I,key:X,ref:nt!==void 0?nt:null,props:Ct}}function S(I,X){return N(I.type,X,void 0,void 0,void 0,I.props)}function R(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function M(I){var X={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(nt){return X[nt]})}var V=/\/+/g;function x(I,X){return typeof I=="object"&&I!==null&&I.key!=null?M(""+I.key):X.toString(36)}function w(){}function re(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(w,w):(I.status="pending",I.then(function(X){I.status==="pending"&&(I.status="fulfilled",I.value=X)},function(X){I.status==="pending"&&(I.status="rejected",I.reason=X)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function ee(I,X,nt,W,ht){var Ct=typeof I;(Ct==="undefined"||Ct==="boolean")&&(I=null);var yt=!1;if(I===null)yt=!0;else switch(Ct){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(I.$$typeof){case r:case t:yt=!0;break;case T:return yt=I._init,ee(yt(I._payload),X,nt,W,ht)}}if(yt)return ht=ht(I),yt=W===""?"."+x(I,0):W,bt(ht)?(nt="",yt!=null&&(nt=yt.replace(V,"$&/")+"/"),ee(ht,X,nt,"",function(qe){return qe})):ht!=null&&(R(ht)&&(ht=S(ht,nt+(ht.key==null||I&&I.key===ht.key?"":(""+ht.key).replace(V,"$&/")+"/")+yt)),X.push(ht)),1;yt=0;var Ot=W===""?".":W+":";if(bt(I))for(var Ut=0;Ut<I.length;Ut++)W=I[Ut],Ct=Ot+x(W,Ut),yt+=ee(W,X,nt,Ct,ht);else if(Ut=D(I),typeof Ut=="function")for(I=Ut.call(I),Ut=0;!(W=I.next()).done;)W=W.value,Ct=Ot+x(W,Ut++),yt+=ee(W,X,nt,Ct,ht);else if(Ct==="object"){if(typeof I.then=="function")return ee(re(I),X,nt,W,ht);throw X=String(I),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return yt}function H(I,X,nt){if(I==null)return I;var W=[],ht=0;return ee(I,W,"","",function(Ct){return X.call(nt,Ct,ht++)}),W}function et(I){if(I._status===-1){var X=I._result;X=X(),X.then(function(nt){(I._status===0||I._status===-1)&&(I._status=1,I._result=nt)},function(nt){(I._status===0||I._status===-1)&&(I._status=2,I._result=nt)}),I._status===-1&&(I._status=0,I._result=X)}if(I._status===1)return I._result.default;throw I._result}var ut=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function jt(){}return wt.Children={map:H,forEach:function(I,X,nt){H(I,function(){X.apply(this,arguments)},nt)},count:function(I){var X=0;return H(I,function(){X++}),X},toArray:function(I){return H(I,function(X){return X})||[]},only:function(I){if(!R(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},wt.Component=$,wt.Fragment=n,wt.Profiler=l,wt.PureComponent=st,wt.StrictMode=s,wt.Suspense=p,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=it,wt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return it.H.useMemoCache(I)}},wt.cache=function(I){return function(){return I.apply(null,arguments)}},wt.cloneElement=function(I,X,nt){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var W=K({},I.props),ht=I.key,Ct=void 0;if(X!=null)for(yt in X.ref!==void 0&&(Ct=void 0),X.key!==void 0&&(ht=""+X.key),X)!dt.call(X,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&X.ref===void 0||(W[yt]=X[yt]);var yt=arguments.length-2;if(yt===1)W.children=nt;else if(1<yt){for(var Ot=Array(yt),Ut=0;Ut<yt;Ut++)Ot[Ut]=arguments[Ut+2];W.children=Ot}return N(I.type,ht,void 0,void 0,Ct,W)},wt.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},wt.createElement=function(I,X,nt){var W,ht={},Ct=null;if(X!=null)for(W in X.key!==void 0&&(Ct=""+X.key),X)dt.call(X,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ht[W]=X[W]);var yt=arguments.length-2;if(yt===1)ht.children=nt;else if(1<yt){for(var Ot=Array(yt),Ut=0;Ut<yt;Ut++)Ot[Ut]=arguments[Ut+2];ht.children=Ot}if(I&&I.defaultProps)for(W in yt=I.defaultProps,yt)ht[W]===void 0&&(ht[W]=yt[W]);return N(I,Ct,void 0,void 0,null,ht)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(I){return{$$typeof:g,render:I}},wt.isValidElement=R,wt.lazy=function(I){return{$$typeof:T,_payload:{_status:-1,_result:I},_init:et}},wt.memo=function(I,X){return{$$typeof:_,type:I,compare:X===void 0?null:X}},wt.startTransition=function(I){var X=it.T,nt={};it.T=nt;try{var W=I(),ht=it.S;ht!==null&&ht(nt,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(jt,ut)}catch(Ct){ut(Ct)}finally{it.T=X}},wt.unstable_useCacheRefresh=function(){return it.H.useCacheRefresh()},wt.use=function(I){return it.H.use(I)},wt.useActionState=function(I,X,nt){return it.H.useActionState(I,X,nt)},wt.useCallback=function(I,X){return it.H.useCallback(I,X)},wt.useContext=function(I){return it.H.useContext(I)},wt.useDebugValue=function(){},wt.useDeferredValue=function(I,X){return it.H.useDeferredValue(I,X)},wt.useEffect=function(I,X,nt){var W=it.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(I,X)},wt.useId=function(){return it.H.useId()},wt.useImperativeHandle=function(I,X,nt){return it.H.useImperativeHandle(I,X,nt)},wt.useInsertionEffect=function(I,X){return it.H.useInsertionEffect(I,X)},wt.useLayoutEffect=function(I,X){return it.H.useLayoutEffect(I,X)},wt.useMemo=function(I,X){return it.H.useMemo(I,X)},wt.useOptimistic=function(I,X){return it.H.useOptimistic(I,X)},wt.useReducer=function(I,X,nt){return it.H.useReducer(I,X,nt)},wt.useRef=function(I){return it.H.useRef(I)},wt.useState=function(I){return it.H.useState(I)},wt.useSyncExternalStore=function(I,X,nt){return it.H.useSyncExternalStore(I,X,nt)},wt.useTransition=function(){return it.H.useTransition()},wt.version="19.1.0",wt}var s_;function Zd(){return s_||(s_=1,ud.exports=LA()),ud.exports}var Rt=Zd(),cd={exports:{}},sl={},hd={exports:{}},fd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function kA(){return a_||(a_=1,function(r){function t(H,et){var ut=H.length;H.push(et);t:for(;0<ut;){var jt=ut-1>>>1,I=H[jt];if(0<l(I,et))H[jt]=et,H[ut]=I,ut=jt;else break t}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var et=H[0],ut=H.pop();if(ut!==et){H[0]=ut;t:for(var jt=0,I=H.length,X=I>>>1;jt<X;){var nt=2*(jt+1)-1,W=H[nt],ht=nt+1,Ct=H[ht];if(0>l(W,ut))ht<I&&0>l(Ct,W)?(H[jt]=Ct,H[ht]=ut,jt=ht):(H[jt]=W,H[nt]=ut,jt=nt);else if(ht<I&&0>l(Ct,ut))H[jt]=Ct,H[ht]=ut,jt=ht;else break t}}return et}function l(H,et){var ut=H.sortIndex-et.sortIndex;return ut!==0?ut:H.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var p=[],_=[],T=1,C=null,D=3,q=!1,K=!1,J=!1,$=!1,rt=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,at=typeof setImmediate<"u"?setImmediate:null;function bt(H){for(var et=n(_);et!==null;){if(et.callback===null)s(_);else if(et.startTime<=H)s(_),et.sortIndex=et.expirationTime,t(p,et);else break;et=n(_)}}function it(H){if(J=!1,bt(H),!K)if(n(p)!==null)K=!0,dt||(dt=!0,x());else{var et=n(_);et!==null&&ee(it,et.startTime-H)}}var dt=!1,N=-1,S=5,R=-1;function M(){return $?!0:!(r.unstable_now()-R<S)}function V(){if($=!1,dt){var H=r.unstable_now();R=H;var et=!0;try{t:{K=!1,J&&(J=!1,st(N),N=-1),q=!0;var ut=D;try{e:{for(bt(H),C=n(p);C!==null&&!(C.expirationTime>H&&M());){var jt=C.callback;if(typeof jt=="function"){C.callback=null,D=C.priorityLevel;var I=jt(C.expirationTime<=H);if(H=r.unstable_now(),typeof I=="function"){C.callback=I,bt(H),et=!0;break e}C===n(p)&&s(p),bt(H)}else s(p);C=n(p)}if(C!==null)et=!0;else{var X=n(_);X!==null&&ee(it,X.startTime-H),et=!1}}break t}finally{C=null,D=ut,q=!1}et=void 0}}finally{et?x():dt=!1}}}var x;if(typeof at=="function")x=function(){at(V)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,re=w.port2;w.port1.onmessage=V,x=function(){re.postMessage(null)}}else x=function(){rt(V,0)};function ee(H,et){N=rt(function(){H(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(H){switch(D){case 1:case 2:case 3:var et=3;break;default:et=D}var ut=D;D=et;try{return H()}finally{D=ut}},r.unstable_requestPaint=function(){$=!0},r.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ut=D;D=H;try{return et()}finally{D=ut}},r.unstable_scheduleCallback=function(H,et,ut){var jt=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?jt+ut:jt):ut=jt,H){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ut+I,H={id:T++,callback:et,priorityLevel:H,startTime:ut,expirationTime:I,sortIndex:-1},ut>jt?(H.sortIndex=ut,t(_,H),n(p)===null&&H===n(_)&&(J?(st(N),N=-1):J=!0,ee(it,ut-jt))):(H.sortIndex=I,t(p,H),K||q||(K=!0,dt||(dt=!0,x()))),H},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(H){var et=D;return function(){var ut=D;D=et;try{return H.apply(this,arguments)}finally{D=ut}}}}(fd)),fd}var o_;function zA(){return o_||(o_=1,hd.exports=kA()),hd.exports}var dd={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function BA(){if(l_)return Qe;l_=1;var r=Zd();function t(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,_,T){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:C==null?null:""+C,children:p,containerInfo:_,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(p,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(p,_,null,T)},Qe.flushSync=function(p){var _=d.T,T=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=_,s.p=T,s.d.f()}},Qe.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(p,_))},Qe.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qe.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var T=_.as,C=g(T,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?s.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:C,integrity:D,fetchPriority:q}):T==="script"&&s.d.X(p,{crossOrigin:C,integrity:D,fetchPriority:q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Qe.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=g(_.as,_.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(p)},Qe.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,C=g(T,_.crossOrigin);s.d.L(p,T,{crossOrigin:C,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Qe.preloadModule=function(p,_){if(typeof p=="string")if(_){var T=g(_.as,_.crossOrigin);s.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(p)},Qe.requestFormReset=function(p){s.d.r(p)},Qe.unstable_batchedUpdates=function(p,_){return p(_)},Qe.useFormState=function(p,_,T){return d.H.useFormState(p,_,T)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.1.0",Qe}var u_;function jA(){if(u_)return dd.exports;u_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),dd.exports=BA(),dd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function qA(){if(c_)return sl;c_=1;var r=zA(),t=Zd(),n=jA();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(s(188))}function p(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),e;if(f===o)return g(h),i;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,o=f;break}if(E===o){v=!0,o=h,a=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===a){v=!0,a=f,o=h;break}if(E===o){v=!0,o=f,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function _(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=_(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,C=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),rt=Symbol.for("react.provider"),st=Symbol.for("react.consumer"),at=Symbol.for("react.context"),bt=Symbol.for("react.forward_ref"),it=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function x(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case K:return"Fragment";case $:return"Profiler";case J:return"StrictMode";case it:return"Suspense";case dt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case q:return"Portal";case at:return(e.displayName||"Context")+".Provider";case st:return(e._context.displayName||"Context")+".Consumer";case bt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return i=e.displayName||null,i!==null?i:re(e.type)||"Memo";case S:i=e._payload,e=e._init;try{return re(e(i))}catch{}}return null}var ee=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},jt=[],I=-1;function X(e){return{current:e}}function nt(e){0>I||(e.current=jt[I],jt[I]=null,I--)}function W(e,i){I++,jt[I]=e.current,e.current=i}var ht=X(null),Ct=X(null),yt=X(null),Ot=X(null);function Ut(e,i){switch(W(yt,i),W(Ct,e),W(ht,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Oy(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Oy(i),e=Ny(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}nt(ht),W(ht,e)}function qe(){nt(ht),nt(Ct),nt(yt)}function Nn(e){e.memoizedState!==null&&W(Ot,e);var i=ht.current,a=Ny(i,e.type);i!==a&&(W(Ct,e),W(ht,a))}function hi(e){Ct.current===e&&(nt(ht),nt(Ct)),Ot.current===e&&(nt(Ot),Wo._currentValue=ut)}var Ur=Object.prototype.hasOwnProperty,Lr=r.unstable_scheduleCallback,kr=r.unstable_cancelCallback,Xa=r.unstable_shouldYield,Ul=r.unstable_requestPaint,gn=r.unstable_now,oh=r.unstable_getCurrentPriorityLevel,$a=r.unstable_ImmediatePriority,Vs=r.unstable_UserBlockingPriority,zr=r.unstable_NormalPriority,lh=r.unstable_LowPriority,xs=r.unstable_IdlePriority,Za=r.log,Ll=r.unstable_setDisableYieldValue,oe=null,Qt=null;function an(e){if(typeof Za=="function"&&Ll(e),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(oe,e)}catch{}}var He=Math.clz32?Math.clz32:Br,kl=Math.log,uh=Math.LN2;function Br(e){return e>>>=0,e===0?32:31-(kl(e)/uh|0)|0}var jr=256,qr=4194304;function Mn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ps(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Mn(o):(v&=E,v!==0?h=Mn(v):a||(a=E&~e,a!==0&&(h=Mn(a))))):(E=o&~f,E!==0?h=Mn(E):v!==0?h=Mn(v):a||(a=o&~e,a!==0&&(h=Mn(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function Hr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Ja(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wa(){var e=jr;return jr<<=1,(jr&4194048)===0&&(jr=256),e}function to(){var e=qr;return qr<<=1,(qr&62914560)===0&&(qr=4194304),e}function fi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function di(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function eo(e,i,a,o,h,f){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,k=e.hiddenUpdates;for(a=v&~a;0<a;){var G=31-He(a),Q=1<<G;E[G]=0,b[G]=-1;var z=k[G];if(z!==null)for(k[G]=null,G=0;G<z.length;G++){var B=z[G];B!==null&&(B.lane&=-536870913)}a&=~Q}o!==0&&qn(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~i))}function qn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-He(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function no(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-He(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function Qi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Us(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ki(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:$y(e.type))}function zl(e,i){var a=et.p;try{return et.p=e,i()}finally{et.p=a}}var ne=Math.random().toString(36).slice(2),Ee="__reactFiber$"+ne,ge="__reactProps$"+ne,pn="__reactContainer$"+ne,io="__reactEvents$"+ne,ch="__reactListeners$"+ne,Yi="__reactHandles$"+ne,Bl="__reactResources$"+ne,Gr="__reactMarker$"+ne;function Xi(e){delete e[Ee],delete e[ge],delete e[io],delete e[ch],delete e[Yi]}function mi(e){var i=e[Ee];if(i)return i;for(var a=e.parentNode;a;){if(i=a[pn]||a[Ee]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Py(e);e!==null;){if(a=e[Ee])return a;e=Py(e)}return i}e=a,a=e.parentNode}return null}function Hn(e){if(e=e[Ee]||e[pn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Gn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Ze(e){var i=e[Bl];return i||(i=e[Bl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function he(e){e[Gr]=!0}var ro=new Set,Ls={};function Vn(e,i){gi(e,i),gi(e+"Capture",i)}function gi(e,i){for(Ls[e]=i,e=0;e<i.length;e++)ro.add(i[e])}var jl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ql={},Fr={};function Hl(e){return Ur.call(Fr,e)?!0:Ur.call(ql,e)?!1:jl.test(e)?Fr[e]=!0:(ql[e]=!0,!1)}function $i(e,i,a){if(Hl(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Fn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function xe(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}var Qr,Gl;function pi(e){if(Qr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Qr=i&&i[1]||"",Gl=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qr+e+Gl}var ks=!1;function zs(e,i){if(!e||ks)return"";ks=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(B){var z=B}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(B){z=B}e.call(Q.prototype)}}else{try{throw Error()}catch(B){z=B}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var b=v.split(`
`),k=E.split(`
`);for(h=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(o===b.length||h===k.length)for(o=b.length-1,h=k.length-1;1<=o&&0<=h&&b[o]!==k[h];)h--;for(;1<=o&&0<=h;o--,h--)if(b[o]!==k[h]){if(o!==1||h!==1)do if(o--,h--,0>h||b[o]!==k[h]){var G=`
`+b[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{ks=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?pi(a):""}function so(e){switch(e.tag){case 26:case 27:case 5:return pi(e.type);case 16:return pi("Lazy");case 13:return pi("Suspense");case 19:return pi("SuspenseList");case 0:case 15:return zs(e.type,!1);case 11:return zs(e.type.render,!1);case 1:return zs(e.type,!0);case 31:return pi("Activity");default:return""}}function Bs(e){try{var i="";do i+=so(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Je(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ao(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function hh(e){var i=ao(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,f.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function js(e){e._valueTracker||(e._valueTracker=hh(e))}function oo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=ao(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function Kr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fh=/[\n"\\]/g;function pe(e){return e.replace(fh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function on(e,i,a,o,h,f,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Je(i)):e.value!==""+Je(i)&&(e.value=""+Je(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?Zi(e,v,Je(i)):a!=null?Zi(e,v,Je(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Je(E):e.removeAttribute("name")}function Yr(e,i,a,o,h,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;a=a!=null?""+Je(a):"",i=i!=null?""+Je(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Zi(e,i,a){i==="number"&&Kr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function yi(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Je(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Xt(e,i,a){if(i!=null&&(i=""+Je(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Je(a):""}function Xr(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(ee(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Je(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function yn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var $r=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fl(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||$r.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function lo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Fl(e,h,o)}else for(var f in i)i.hasOwnProperty(f)&&Fl(e,f,i[f])}function uo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qs(e){return mh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var _i=null;function _n(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vi=null,Ei=null;function co(e){var i=Hn(e);if(i&&(e=i.stateNode)){var a=e[ge]||null;t:switch(e=i.stateNode,i.type){case"input":if(on(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pe(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[ge]||null;if(!h)throw Error(s(90));on(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&oo(o)}break t;case"textarea":Xt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&yi(e,!!a.multiple,i,!1)}}}var Qn=!1;function Ql(e,i,a){if(Qn)return e(i,a);Qn=!0;try{var o=e(i);return o}finally{if(Qn=!1,(vi!==null||Ei!==null)&&(zu(),vi&&(i=vi,e=Ei,Ei=vi=null,co(i),e)))for(i=0;i<e.length;i++)co(e[i])}}function Zr(e,i){var a=e.stateNode;if(a===null)return null;var o=a[ge]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vn=!1;if(xn)try{var Jr={};Object.defineProperty(Jr,"passive",{get:function(){vn=!0}}),window.addEventListener("test",Jr,Jr),window.removeEventListener("test",Jr,Jr)}catch{vn=!1}var Kn=null,Ji=null,Ti=null;function ho(){if(Ti)return Ti;var e,i=Ji,a=i.length,o,h="value"in Kn?Kn.value:Kn.textContent,f=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(o=1;o<=v&&i[a-o]===h[f-o];o++);return Ti=h.slice(e,1<o?1-o:void 0)}function Yn(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Xn(){return!0}function fo(){return!1}function Ie(e){function i(a,o,h,f,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Xn:fo,this.isPropagationStopped=fo,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),i}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hs=Ie(Gt),Wr=T({},Gt,{view:0,detail:0}),Kl=Ie(Wr),Gs,Fs,$n,ts=T({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:is,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$n&&($n&&e.type==="mousemove"?(Gs=e.screenX-$n.screenX,Fs=e.screenY-$n.screenY):Fs=Gs=0,$n=e),Gs)},movementY:function(e){return"movementY"in e?e.movementY:Fs}}),En=Ie(ts),Yl=T({},ts,{dataTransfer:0}),gh=Ie(Yl),es=T({},Wr,{relatedTarget:0}),Qs=Ie(es),mo=T({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ks=Ie(mo),Xl=T({},Gt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ys=Ie(Xl),ph=T({},Gt,{data:0}),go=Ie(ph),ns={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$l={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function po(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Zl[e])?!!i[e]:!1}function is(){return po}var Jl=T({},Wr,{key:function(e){if(e.key){var i=ns[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Yn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$l[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:is,charCode:function(e){return e.type==="keypress"?Yn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xs=Ie(Jl),Wl=T({},ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yo=Ie(Wl),Ai=T({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:is}),tu=Ie(Ai),eu=T({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),nu=Ie(eu),iu=T({},ts,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$s=Ie(iu),We=T({},Gt,{newState:0,oldState:0}),ru=Ie(We),su=[9,13,27,32],Zn=xn&&"CompositionEvent"in window,u=null;xn&&"documentMode"in document&&(u=document.documentMode);var m=xn&&"TextEvent"in window&&!u,y=xn&&(!Zn||u&&8<u&&11>=u),A=" ",U=!1;function j(e,i){switch(e){case"keyup":return su.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Lt=!1;function Te(e,i){switch(e){case"compositionend":return tt(i);case"keypress":return i.which!==32?null:(U=!0,A);case"textInput":return e=i.data,e===A&&U?null:e;default:return null}}function kt(e,i){if(Lt)return e==="compositionend"||!Zn&&j(e,i)?(e=ho(),Ti=Ji=Kn=null,Lt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ae(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!De[e.type]:i==="textarea"}function Si(e,i,a,o){vi?Ei?Ei.push(o):Ei=[o]:vi=o,i=Fu(i,"onChange"),0<i.length&&(a=new Hs("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var Pe=null,Jn=null;function _o(e){Ry(e,0)}function au(e){var i=Gn(e);if(oo(i))return e}function Qm(e,i){if(e==="change")return i}var Km=!1;if(xn){var yh;if(xn){var _h="oninput"in document;if(!_h){var Ym=document.createElement("div");Ym.setAttribute("oninput","return;"),_h=typeof Ym.oninput=="function"}yh=_h}else yh=!1;Km=yh&&(!document.documentMode||9<document.documentMode)}function Xm(){Pe&&(Pe.detachEvent("onpropertychange",$m),Jn=Pe=null)}function $m(e){if(e.propertyName==="value"&&au(Jn)){var i=[];Si(i,Jn,e,_n(e)),Ql(_o,i)}}function lT(e,i,a){e==="focusin"?(Xm(),Pe=i,Jn=a,Pe.attachEvent("onpropertychange",$m)):e==="focusout"&&Xm()}function uT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return au(Jn)}function cT(e,i){if(e==="click")return au(i)}function hT(e,i){if(e==="input"||e==="change")return au(i)}function fT(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var ln=typeof Object.is=="function"?Object.is:fT;function vo(e,i){if(ln(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Ur.call(i,h)||!ln(e[h],i[h]))return!1}return!0}function Zm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jm(e,i){var a=Zm(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Zm(a)}}function Wm(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Wm(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function tg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Kr(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Kr(e.document)}return i}function vh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var dT=xn&&"documentMode"in document&&11>=document.documentMode,Zs=null,Eh=null,Eo=null,Th=!1;function eg(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Th||Zs==null||Zs!==Kr(o)||(o=Zs,"selectionStart"in o&&vh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Eo&&vo(Eo,o)||(Eo=o,o=Fu(Eh,"onSelect"),0<o.length&&(i=new Hs("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=Zs)))}function rs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Js={animationend:rs("Animation","AnimationEnd"),animationiteration:rs("Animation","AnimationIteration"),animationstart:rs("Animation","AnimationStart"),transitionrun:rs("Transition","TransitionRun"),transitionstart:rs("Transition","TransitionStart"),transitioncancel:rs("Transition","TransitionCancel"),transitionend:rs("Transition","TransitionEnd")},Ah={},ng={};xn&&(ng=document.createElement("div").style,"AnimationEvent"in window||(delete Js.animationend.animation,delete Js.animationiteration.animation,delete Js.animationstart.animation),"TransitionEvent"in window||delete Js.transitionend.transition);function ss(e){if(Ah[e])return Ah[e];if(!Js[e])return e;var i=Js[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in ng)return Ah[e]=i[a];return e}var ig=ss("animationend"),rg=ss("animationiteration"),sg=ss("animationstart"),mT=ss("transitionrun"),gT=ss("transitionstart"),pT=ss("transitioncancel"),ag=ss("transitionend"),og=new Map,Sh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sh.push("scrollEnd");function Pn(e,i){og.set(e,i),Vn(i,[e])}var lg=new WeakMap;function Tn(e,i){if(typeof e=="object"&&e!==null){var a=lg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Bs(i)},lg.set(e,i),i)}return{value:e,source:i,stack:Bs(i)}}var An=[],Ws=0,bh=0;function ou(){for(var e=Ws,i=bh=Ws=0;i<e;){var a=An[i];An[i++]=null;var o=An[i];An[i++]=null;var h=An[i];An[i++]=null;var f=An[i];if(An[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}f!==0&&ug(a,h,f)}}function lu(e,i,a,o){An[Ws++]=e,An[Ws++]=i,An[Ws++]=a,An[Ws++]=o,bh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Rh(e,i,a,o){return lu(e,i,a,o),uu(e)}function ta(e,i){return lu(e,null,null,i),uu(e)}function ug(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&i!==null&&(h=31-He(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function uu(e){if(50<Fo)throw Fo=0,Mf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ea={};function yT(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,i,a,o){return new yT(e,i,a,o)}function wh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bi(e,i){var a=e.alternate;return a===null?(a=un(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function cg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function cu(e,i,a,o,h,f){var v=0;if(o=e,typeof e=="function")wh(e)&&(v=1);else if(typeof e=="string")v=vA(e,a,ht.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=un(31,a,i,h),e.elementType=R,e.lanes=f,e;case K:return as(a.children,h,f,i);case J:v=8,h|=24;break;case $:return e=un(12,a,i,h|2),e.elementType=$,e.lanes=f,e;case it:return e=un(13,a,i,h),e.elementType=it,e.lanes=f,e;case dt:return e=un(19,a,i,h),e.elementType=dt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rt:case at:v=10;break t;case st:v=9;break t;case bt:v=11;break t;case N:v=14;break t;case S:v=16,o=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=un(v,a,i,h),i.elementType=e,i.type=o,i.lanes=f,i}function as(e,i,a,o){return e=un(7,e,o,i),e.lanes=a,e}function Ch(e,i,a){return e=un(6,e,null,i),e.lanes=a,e}function Ih(e,i,a){return i=un(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var na=[],ia=0,hu=null,fu=0,Sn=[],bn=0,os=null,Ri=1,wi="";function ls(e,i){na[ia++]=fu,na[ia++]=hu,hu=e,fu=i}function hg(e,i,a){Sn[bn++]=Ri,Sn[bn++]=wi,Sn[bn++]=os,os=e;var o=Ri;e=wi;var h=32-He(o)-1;o&=~(1<<h),a+=1;var f=32-He(i)+h;if(30<f){var v=h-h%5;f=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Ri=1<<32-He(i)+h|a<<h|o,wi=f+e}else Ri=1<<f|a<<h|o,wi=e}function Dh(e){e.return!==null&&(ls(e,1),hg(e,1,0))}function Oh(e){for(;e===hu;)hu=na[--ia],na[ia]=null,fu=na[--ia],na[ia]=null;for(;e===os;)os=Sn[--bn],Sn[bn]=null,wi=Sn[--bn],Sn[bn]=null,Ri=Sn[--bn],Sn[bn]=null}var tn=null,le=null,Ht=!1,us=null,Wn=!1,Nh=Error(s(519));function cs(e){var i=Error(s(418,""));throw So(Tn(i,e)),Nh}function fg(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[Ee]=e,i[ge]=o,a){case"dialog":Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":case"embed":Vt("load",i);break;case"video":case"audio":for(a=0;a<Ko.length;a++)Vt(Ko[a],i);break;case"source":Vt("error",i);break;case"img":case"image":case"link":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"input":Vt("invalid",i),Yr(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),js(i);break;case"select":Vt("invalid",i);break;case"textarea":Vt("invalid",i),Xr(i,o.value,o.defaultValue,o.children),js(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||Dy(i.textContent,a)?(o.popover!=null&&(Vt("beforetoggle",i),Vt("toggle",i)),o.onScroll!=null&&Vt("scroll",i),o.onScrollEnd!=null&&Vt("scrollend",i),o.onClick!=null&&(i.onclick=Qu),i=!0):i=!1,i||cs(e)}function dg(e){for(tn=e.return;tn;)switch(tn.tag){case 5:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:tn=tn.return}}function To(e){if(e!==tn)return!1;if(!Ht)return dg(e),Ht=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Yf(e.type,e.memoizedProps)),a=!a),a&&le&&cs(e),dg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){le=Ln(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}le=null}}else i===27?(i=le,mr(e.type)?(e=Jf,Jf=null,le=e):le=i):le=tn?Ln(e.stateNode.nextSibling):null;return!0}function Ao(){le=tn=null,Ht=!1}function mg(){var e=us;return e!==null&&(rn===null?rn=e:rn.push.apply(rn,e),us=null),e}function So(e){us===null?us=[e]:us.push(e)}var Mh=X(null),hs=null,Ci=null;function Wi(e,i,a){W(Mh,i._currentValue),i._currentValue=a}function Ii(e){e._currentValue=Mh.current,nt(Mh)}function Vh(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function xh(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var b=0;b<i.length;b++)if(E.context===i[b]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Vh(f.return,a,e),o||(v=null);break t}f=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Vh(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function bo(e,i,a,o){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;ln(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ot.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Wo):e=[Wo])}h=h.return}e!==null&&xh(i,e,a,o),i.flags|=262144}function du(e){for(e=e.firstContext;e!==null;){if(!ln(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function fs(e){hs=e,Ci=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ge(e){return gg(hs,e)}function mu(e,i){return hs===null&&fs(e),gg(e,i)}function gg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ci===null){if(e===null)throw Error(s(308));Ci=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Ci=Ci.next=i;return a}var _T=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},vT=r.unstable_scheduleCallback,ET=r.unstable_NormalPriority,Se={$$typeof:at,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ph(){return{controller:new _T,data:new Map,refCount:0}}function Ro(e){e.refCount--,e.refCount===0&&vT(ET,function(){e.controller.abort()})}var wo=null,Uh=0,ra=0,sa=null;function TT(e,i){if(wo===null){var a=wo=[];Uh=0,ra=zf(),sa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Uh++,i.then(pg,pg),i}function pg(){if(--Uh===0&&wo!==null){sa!==null&&(sa.status="fulfilled");var e=wo;wo=null,ra=0,sa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function AT(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var yg=H.S;H.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&TT(e,i),yg!==null&&yg(e,i)};var ds=X(null);function Lh(){var e=ds.current;return e!==null?e:te.pooledCache}function gu(e,i){i===null?W(ds,ds.current):W(ds,i.pool)}function _g(){var e=Lh();return e===null?null:{parent:Se._currentValue,pool:e}}var Co=Error(s(460)),vg=Error(s(474)),pu=Error(s(542)),kh={then:function(){}};function Eg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function yu(){}function Tg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(yu,yu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Sg(e),e;default:if(typeof i.status=="string")i.then(yu,yu);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Sg(e),e}throw Io=i,Co}}var Io=null;function Ag(){if(Io===null)throw Error(s(459));var e=Io;return Io=null,e}function Sg(e){if(e===Co||e===pu)throw Error(s(483))}var tr=!1;function zh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function er(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function nr(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Kt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=uu(e),ug(e,null,a),i}return lu(e,o,i,a),uu(e)}function Do(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,no(e,a)}}function jh(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var qh=!1;function Oo(){if(qh){var e=sa;if(e!==null)throw e}}function No(e,i,a,o){qh=!1;var h=e.updateQueue;tr=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var b=E,k=b.next;b.next=null,v===null?f=k:v.next=k,v=b;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==v&&(E===null?G.firstBaseUpdate=k:E.next=k,G.lastBaseUpdate=b))}if(f!==null){var Q=h.baseState;v=0,G=k=b=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(zt&z)===z:(o&z)===z){z!==0&&z===ra&&(qh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var vt=e,mt=E;z=i;var Jt=a;switch(mt.tag){case 1:if(vt=mt.payload,typeof vt=="function"){Q=vt.call(Jt,Q,z);break t}Q=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=mt.payload,z=typeof vt=="function"?vt.call(Jt,Q,z):vt,z==null)break t;Q=T({},Q,z);break t;case 2:tr=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(k=G=B,b=Q):G=G.next=B,v|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);G===null&&(b=Q),h.baseState=b,h.firstBaseUpdate=k,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),cr|=v,e.lanes=v,e.memoizedState=Q}}function bg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Rg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)bg(a[e],i)}var aa=X(null),_u=X(0);function wg(e,i){e=Pi,W(_u,e),W(aa,i),Pi=e|i.baseLanes}function Hh(){W(_u,Pi),W(aa,aa.current)}function Gh(){Pi=_u.current,nt(aa),nt(_u)}var ir=0,It=null,$t=null,ye=null,vu=!1,oa=!1,ms=!1,Eu=0,Mo=0,la=null,ST=0;function fe(){throw Error(s(321))}function Fh(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!ln(e[a],i[a]))return!1;return!0}function Qh(e,i,a,o,h,f){return ir=f,It=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=e===null||e.memoizedState===null?up:cp,ms=!1,f=a(o,h),ms=!1,oa&&(f=Ig(i,a,o,h)),Cg(e),f}function Cg(e){H.H=wu;var i=$t!==null&&$t.next!==null;if(ir=0,ye=$t=It=null,vu=!1,Mo=0,la=null,i)throw Error(s(300));e===null||Oe||(e=e.dependencies,e!==null&&du(e)&&(Oe=!0))}function Ig(e,i,a,o){It=e;var h=0;do{if(oa&&(la=null),Mo=0,oa=!1,25<=h)throw Error(s(301));if(h+=1,ye=$t=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=OT,f=i(a,o)}while(oa);return f}function bT(){var e=H.H,i=e.useState()[0];return i=typeof i.then=="function"?Vo(i):i,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(It.flags|=1024),i}function Kh(){var e=Eu!==0;return Eu=0,e}function Yh(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Xh(e){if(vu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}vu=!1}ir=0,ye=$t=It=null,oa=!1,Mo=Eu=0,la=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?It.memoizedState=ye=e:ye=ye.next=e,ye}function _e(){if($t===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var i=ye===null?It.memoizedState:ye.next;if(i!==null)ye=i,$t=e;else{if(e===null)throw It.alternate===null?Error(s(467)):Error(s(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},ye===null?It.memoizedState=ye=e:ye=ye.next=e}return ye}function $h(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vo(e){var i=Mo;return Mo+=1,la===null&&(la=[]),e=Tg(la,e,i),i=It,(ye===null?i.memoizedState:ye.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?up:cp),e}function Tu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Vo(e);if(e.$$typeof===at)return Ge(e)}throw Error(s(438,String(e)))}function Zh(e){var i=null,a=It.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=It.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=$h(),It.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=M;return i.index++,a}function Di(e,i){return typeof i=="function"?i(e):i}function Au(e){var i=_e();return Jh(i,$t,e)}function Jh(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}i.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var E=v=null,b=null,k=i,G=!1;do{var Q=k.lane&-536870913;if(Q!==k.lane?(zt&Q)===Q:(ir&Q)===Q){var z=k.revertLane;if(z===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),Q===ra&&(G=!0);else if((ir&z)===z){k=k.next,z===ra&&(G=!0);continue}else Q={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},b===null?(E=b=Q,v=f):b=b.next=Q,It.lanes|=z,cr|=z;Q=k.action,ms&&a(f,Q),f=k.hasEagerState?k.eagerState:a(f,Q)}else z={lane:Q,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},b===null?(E=b=z,v=f):b=b.next=z,It.lanes|=Q,cr|=Q;k=k.next}while(k!==null&&k!==i);if(b===null?v=f:b.next=E,!ln(f,e.memoizedState)&&(Oe=!0,G&&(a=sa,a!==null)))throw a;e.memoizedState=f,e.baseState=v,e.baseQueue=b,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Wh(e){var i=_e(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=e(f,v.action),v=v.next;while(v!==h);ln(f,i.memoizedState)||(Oe=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function Dg(e,i,a){var o=It,h=_e(),f=Ht;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!ln(($t||h).memoizedState,a);v&&(h.memoizedState=a,Oe=!0),h=h.queue;var E=Mg.bind(null,o,h,e);if(xo(2048,8,E,[e]),h.getSnapshot!==i||v||ye!==null&&ye.memoizedState.tag&1){if(o.flags|=2048,ua(9,Su(),Ng.bind(null,o,h,a,i),null),te===null)throw Error(s(349));f||(ir&124)!==0||Og(o,i,a)}return a}function Og(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=It.updateQueue,i===null?(i=$h(),It.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Ng(e,i,a,o){i.value=a,i.getSnapshot=o,Vg(i)&&xg(e)}function Mg(e,i,a){return a(function(){Vg(i)&&xg(e)})}function Vg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!ln(e,a)}catch{return!0}}function xg(e){var i=ta(e,2);i!==null&&mn(i,e,2)}function tf(e){var i=en();if(typeof e=="function"){var a=e;if(e=a(),ms){an(!0);try{a()}finally{an(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:e},i}function Pg(e,i,a,o){return e.baseState=a,Jh(e,$t,typeof o=="function"?o:Di)}function RT(e,i,a,o,h){if(Ru(e))throw Error(s(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};H.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,Ug(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Ug(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var f=H.T,v={};H.T=v;try{var E=a(h,o),b=H.S;b!==null&&b(v,E),Lg(e,i,E)}catch(k){ef(e,i,k)}finally{H.T=f}}else try{f=a(h,o),Lg(e,i,f)}catch(k){ef(e,i,k)}}function Lg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){kg(e,i,o)},function(o){return ef(e,i,o)}):kg(e,i,a)}function kg(e,i,a){i.status="fulfilled",i.value=a,zg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Ug(e,a)))}function ef(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,zg(i),i=i.next;while(i!==o)}e.action=null}function zg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Bg(e,i){return i}function jg(e,i){if(Ht){var a=te.formState;if(a!==null){t:{var o=It;if(Ht){if(le){e:{for(var h=le,f=Wn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Ln(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){le=Ln(h.nextSibling),o=h.data==="F!";break t}}cs(o)}o=!1}o&&(i=a[0])}}return a=en(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bg,lastRenderedState:i},a.queue=o,a=ap.bind(null,It,o),o.dispatch=a,o=tf(!1),f=of.bind(null,It,!1,o.queue),o=en(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=RT.bind(null,It,h,f,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function qg(e){var i=_e();return Hg(i,$t,e)}function Hg(e,i,a){if(i=Jh(e,i,Bg)[0],e=Au(Di)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Vo(i)}catch(v){throw v===Co?pu:v}else o=i;i=_e();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(It.flags|=2048,ua(9,Su(),wT.bind(null,h,a),null)),[o,f,e]}function wT(e,i){e.action=i}function Gg(e){var i=_e(),a=$t;if(a!==null)return Hg(i,a,e);_e(),i=i.memoizedState,a=_e();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function ua(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=It.updateQueue,i===null&&(i=$h(),It.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Su(){return{destroy:void 0,resource:void 0}}function Fg(){return _e().memoizedState}function bu(e,i,a,o){var h=en();o=o===void 0?null:o,It.flags|=e,h.memoizedState=ua(1|i,Su(),a,o)}function xo(e,i,a,o){var h=_e();o=o===void 0?null:o;var f=h.memoizedState.inst;$t!==null&&o!==null&&Fh(o,$t.memoizedState.deps)?h.memoizedState=ua(i,f,a,o):(It.flags|=e,h.memoizedState=ua(1|i,f,a,o))}function Qg(e,i){bu(8390656,8,e,i)}function Kg(e,i){xo(2048,8,e,i)}function Yg(e,i){return xo(4,2,e,i)}function Xg(e,i){return xo(4,4,e,i)}function $g(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Zg(e,i,a){a=a!=null?a.concat([e]):null,xo(4,4,$g.bind(null,i,e),a)}function nf(){}function Jg(e,i){var a=_e();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Fh(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function Wg(e,i){var a=_e();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Fh(i,o[1]))return o[0];if(o=e(),ms){an(!0);try{e()}finally{an(!1)}}return a.memoizedState=[o,i],o}function rf(e,i,a){return a===void 0||(ir&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=ny(),It.lanes|=e,cr|=e,a)}function tp(e,i,a,o){return ln(a,i)?a:aa.current!==null?(e=rf(e,a,o),ln(e,i)||(Oe=!0),e):(ir&42)===0?(Oe=!0,e.memoizedState=a):(e=ny(),It.lanes|=e,cr|=e,i)}function ep(e,i,a,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var v=H.T,E={};H.T=E,of(e,!1,i,a);try{var b=h(),k=H.S;if(k!==null&&k(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=AT(b,o);Po(e,i,G,dn(e))}else Po(e,i,o,dn(e))}catch(Q){Po(e,i,{then:function(){},status:"rejected",reason:Q},dn())}finally{et.p=f,H.T=v}}function CT(){}function sf(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=np(e).queue;ep(e,h,i,ut,a===null?CT:function(){return ip(e),a(o)})}function np(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:ut},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function ip(e){var i=np(e).next.queue;Po(e,i,{},dn())}function af(){return Ge(Wo)}function rp(){return _e().memoizedState}function sp(){return _e().memoizedState}function IT(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=dn();e=er(a);var o=nr(i,e,a);o!==null&&(mn(o,i,a),Do(o,i,a)),i={cache:Ph()},e.payload=i;return}i=i.return}}function DT(e,i,a){var o=dn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ru(e)?op(i,a):(a=Rh(e,i,a,o),a!==null&&(mn(a,e,o),lp(a,i,o)))}function ap(e,i,a){var o=dn();Po(e,i,a,o)}function Po(e,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ru(e))op(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var v=i.lastRenderedState,E=f(v,a);if(h.hasEagerState=!0,h.eagerState=E,ln(E,v))return lu(e,i,h,0),te===null&&ou(),!1}catch{}finally{}if(a=Rh(e,i,h,o),a!==null)return mn(a,e,o),lp(a,i,o),!0}return!1}function of(e,i,a,o){if(o={lane:2,revertLane:zf(),action:o,hasEagerState:!1,eagerState:null,next:null},Ru(e)){if(i)throw Error(s(479))}else i=Rh(e,a,o,2),i!==null&&mn(i,e,2)}function Ru(e){var i=e.alternate;return e===It||i!==null&&i===It}function op(e,i){oa=vu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function lp(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,no(e,a)}}var wu={readContext:Ge,use:Tu,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe},up={readContext:Ge,use:Tu,useCallback:function(e,i){return en().memoizedState=[e,i===void 0?null:i],e},useContext:Ge,useEffect:Qg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,bu(4194308,4,$g.bind(null,i,e),a)},useLayoutEffect:function(e,i){return bu(4194308,4,e,i)},useInsertionEffect:function(e,i){bu(4,2,e,i)},useMemo:function(e,i){var a=en();i=i===void 0?null:i;var o=e();if(ms){an(!0);try{e()}finally{an(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=en();if(a!==void 0){var h=a(i);if(ms){an(!0);try{a(i)}finally{an(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=DT.bind(null,It,e),[o.memoizedState,e]},useRef:function(e){var i=en();return e={current:e},i.memoizedState=e},useState:function(e){e=tf(e);var i=e.queue,a=ap.bind(null,It,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:nf,useDeferredValue:function(e,i){var a=en();return rf(a,e,i)},useTransition:function(){var e=tf(!1);return e=ep.bind(null,It,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=It,h=en();if(Ht){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),te===null)throw Error(s(349));(zt&124)!==0||Og(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,Qg(Mg.bind(null,o,f,e),[e]),o.flags|=2048,ua(9,Su(),Ng.bind(null,o,f,a,i),null),a},useId:function(){var e=en(),i=te.identifierPrefix;if(Ht){var a=wi,o=Ri;a=(o&~(1<<32-He(o)-1)).toString(32)+a,i="«"+i+"R"+a,a=Eu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=ST++,i="«"+i+"r"+a.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:af,useFormState:jg,useActionState:jg,useOptimistic:function(e){var i=en();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=of.bind(null,It,!0,a),a.dispatch=i,[e,i]},useMemoCache:Zh,useCacheRefresh:function(){return en().memoizedState=IT.bind(null,It)}},cp={readContext:Ge,use:Tu,useCallback:Jg,useContext:Ge,useEffect:Kg,useImperativeHandle:Zg,useInsertionEffect:Yg,useLayoutEffect:Xg,useMemo:Wg,useReducer:Au,useRef:Fg,useState:function(){return Au(Di)},useDebugValue:nf,useDeferredValue:function(e,i){var a=_e();return tp(a,$t.memoizedState,e,i)},useTransition:function(){var e=Au(Di)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:Vo(e),i]},useSyncExternalStore:Dg,useId:rp,useHostTransitionStatus:af,useFormState:qg,useActionState:qg,useOptimistic:function(e,i){var a=_e();return Pg(a,$t,e,i)},useMemoCache:Zh,useCacheRefresh:sp},OT={readContext:Ge,use:Tu,useCallback:Jg,useContext:Ge,useEffect:Kg,useImperativeHandle:Zg,useInsertionEffect:Yg,useLayoutEffect:Xg,useMemo:Wg,useReducer:Wh,useRef:Fg,useState:function(){return Wh(Di)},useDebugValue:nf,useDeferredValue:function(e,i){var a=_e();return $t===null?rf(a,e,i):tp(a,$t.memoizedState,e,i)},useTransition:function(){var e=Wh(Di)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:Vo(e),i]},useSyncExternalStore:Dg,useId:rp,useHostTransitionStatus:af,useFormState:Gg,useActionState:Gg,useOptimistic:function(e,i){var a=_e();return $t!==null?Pg(a,$t,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Zh,useCacheRefresh:sp},ca=null,Uo=0;function Cu(e){var i=Uo;return Uo+=1,ca===null&&(ca=[]),Tg(ca,e,i)}function Lo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Iu(e,i){throw i.$$typeof===C?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function hp(e){var i=e._init;return i(e._payload)}function fp(e){function i(P,O){if(e){var L=P.deletions;L===null?(P.deletions=[O],P.flags|=16):L.push(O)}}function a(P,O){if(!e)return null;for(;O!==null;)i(P,O),O=O.sibling;return null}function o(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function h(P,O){return P=bi(P,O),P.index=0,P.sibling=null,P}function f(P,O,L){return P.index=L,e?(L=P.alternate,L!==null?(L=L.index,L<O?(P.flags|=67108866,O):L):(P.flags|=67108866,O)):(P.flags|=1048576,O)}function v(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function E(P,O,L,F){return O===null||O.tag!==6?(O=Ch(L,P.mode,F),O.return=P,O):(O=h(O,L),O.return=P,O)}function b(P,O,L,F){var lt=L.type;return lt===K?G(P,O,L.props.children,F,L.key):O!==null&&(O.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&hp(lt)===O.type)?(O=h(O,L.props),Lo(O,L),O.return=P,O):(O=cu(L.type,L.key,L.props,null,P.mode,F),Lo(O,L),O.return=P,O)}function k(P,O,L,F){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=Ih(L,P.mode,F),O.return=P,O):(O=h(O,L.children||[]),O.return=P,O)}function G(P,O,L,F,lt){return O===null||O.tag!==7?(O=as(L,P.mode,F,lt),O.return=P,O):(O=h(O,L),O.return=P,O)}function Q(P,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Ch(""+O,P.mode,L),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case D:return L=cu(O.type,O.key,O.props,null,P.mode,L),Lo(L,O),L.return=P,L;case q:return O=Ih(O,P.mode,L),O.return=P,O;case S:var F=O._init;return O=F(O._payload),Q(P,O,L)}if(ee(O)||x(O))return O=as(O,P.mode,L,null),O.return=P,O;if(typeof O.then=="function")return Q(P,Cu(O),L);if(O.$$typeof===at)return Q(P,mu(P,O),L);Iu(P,O)}return null}function z(P,O,L,F){var lt=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return lt!==null?null:E(P,O,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case D:return L.key===lt?b(P,O,L,F):null;case q:return L.key===lt?k(P,O,L,F):null;case S:return lt=L._init,L=lt(L._payload),z(P,O,L,F)}if(ee(L)||x(L))return lt!==null?null:G(P,O,L,F,null);if(typeof L.then=="function")return z(P,O,Cu(L),F);if(L.$$typeof===at)return z(P,O,mu(P,L),F);Iu(P,L)}return null}function B(P,O,L,F,lt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return P=P.get(L)||null,E(O,P,""+F,lt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case D:return P=P.get(F.key===null?L:F.key)||null,b(O,P,F,lt);case q:return P=P.get(F.key===null?L:F.key)||null,k(O,P,F,lt);case S:var Nt=F._init;return F=Nt(F._payload),B(P,O,L,F,lt)}if(ee(F)||x(F))return P=P.get(L)||null,G(O,P,F,lt,null);if(typeof F.then=="function")return B(P,O,L,Cu(F),lt);if(F.$$typeof===at)return B(P,O,L,mu(O,F),lt);Iu(O,F)}return null}function vt(P,O,L,F){for(var lt=null,Nt=null,ct=O,_t=O=0,Me=null;ct!==null&&_t<L.length;_t++){ct.index>_t?(Me=ct,ct=null):Me=ct.sibling;var qt=z(P,ct,L[_t],F);if(qt===null){ct===null&&(ct=Me);break}e&&ct&&qt.alternate===null&&i(P,ct),O=f(qt,O,_t),Nt===null?lt=qt:Nt.sibling=qt,Nt=qt,ct=Me}if(_t===L.length)return a(P,ct),Ht&&ls(P,_t),lt;if(ct===null){for(;_t<L.length;_t++)ct=Q(P,L[_t],F),ct!==null&&(O=f(ct,O,_t),Nt===null?lt=ct:Nt.sibling=ct,Nt=ct);return Ht&&ls(P,_t),lt}for(ct=o(ct);_t<L.length;_t++)Me=B(ct,P,_t,L[_t],F),Me!==null&&(e&&Me.alternate!==null&&ct.delete(Me.key===null?_t:Me.key),O=f(Me,O,_t),Nt===null?lt=Me:Nt.sibling=Me,Nt=Me);return e&&ct.forEach(function(vr){return i(P,vr)}),Ht&&ls(P,_t),lt}function mt(P,O,L,F){if(L==null)throw Error(s(151));for(var lt=null,Nt=null,ct=O,_t=O=0,Me=null,qt=L.next();ct!==null&&!qt.done;_t++,qt=L.next()){ct.index>_t?(Me=ct,ct=null):Me=ct.sibling;var vr=z(P,ct,qt.value,F);if(vr===null){ct===null&&(ct=Me);break}e&&ct&&vr.alternate===null&&i(P,ct),O=f(vr,O,_t),Nt===null?lt=vr:Nt.sibling=vr,Nt=vr,ct=Me}if(qt.done)return a(P,ct),Ht&&ls(P,_t),lt;if(ct===null){for(;!qt.done;_t++,qt=L.next())qt=Q(P,qt.value,F),qt!==null&&(O=f(qt,O,_t),Nt===null?lt=qt:Nt.sibling=qt,Nt=qt);return Ht&&ls(P,_t),lt}for(ct=o(ct);!qt.done;_t++,qt=L.next())qt=B(ct,P,_t,qt.value,F),qt!==null&&(e&&qt.alternate!==null&&ct.delete(qt.key===null?_t:qt.key),O=f(qt,O,_t),Nt===null?lt=qt:Nt.sibling=qt,Nt=qt);return e&&ct.forEach(function(NA){return i(P,NA)}),Ht&&ls(P,_t),lt}function Jt(P,O,L,F){if(typeof L=="object"&&L!==null&&L.type===K&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case D:t:{for(var lt=L.key;O!==null;){if(O.key===lt){if(lt=L.type,lt===K){if(O.tag===7){a(P,O.sibling),F=h(O,L.props.children),F.return=P,P=F;break t}}else if(O.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&hp(lt)===O.type){a(P,O.sibling),F=h(O,L.props),Lo(F,L),F.return=P,P=F;break t}a(P,O);break}else i(P,O);O=O.sibling}L.type===K?(F=as(L.props.children,P.mode,F,L.key),F.return=P,P=F):(F=cu(L.type,L.key,L.props,null,P.mode,F),Lo(F,L),F.return=P,P=F)}return v(P);case q:t:{for(lt=L.key;O!==null;){if(O.key===lt)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){a(P,O.sibling),F=h(O,L.children||[]),F.return=P,P=F;break t}else{a(P,O);break}else i(P,O);O=O.sibling}F=Ih(L,P.mode,F),F.return=P,P=F}return v(P);case S:return lt=L._init,L=lt(L._payload),Jt(P,O,L,F)}if(ee(L))return vt(P,O,L,F);if(x(L)){if(lt=x(L),typeof lt!="function")throw Error(s(150));return L=lt.call(L),mt(P,O,L,F)}if(typeof L.then=="function")return Jt(P,O,Cu(L),F);if(L.$$typeof===at)return Jt(P,O,mu(P,L),F);Iu(P,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(a(P,O.sibling),F=h(O,L),F.return=P,P=F):(a(P,O),F=Ch(L,P.mode,F),F.return=P,P=F),v(P)):a(P,O)}return function(P,O,L,F){try{Uo=0;var lt=Jt(P,O,L,F);return ca=null,lt}catch(ct){if(ct===Co||ct===pu)throw ct;var Nt=un(29,ct,null,P.mode);return Nt.lanes=F,Nt.return=P,Nt}finally{}}}var ha=fp(!0),dp=fp(!1),Rn=X(null),ti=null;function rr(e){var i=e.alternate;W(be,be.current&1),W(Rn,e),ti===null&&(i===null||aa.current!==null||i.memoizedState!==null)&&(ti=e)}function mp(e){if(e.tag===22){if(W(be,be.current),W(Rn,e),ti===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ti=e)}}else sr()}function sr(){W(be,be.current),W(Rn,Rn.current)}function Oi(e){nt(Rn),ti===e&&(ti=null),nt(be)}var be=X(0);function Du(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Zf(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function lf(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:T({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var uf={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=dn(),h=er(o);h.payload=i,a!=null&&(h.callback=a),i=nr(e,h,o),i!==null&&(mn(i,e,o),Do(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=dn(),h=er(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=nr(e,h,o),i!==null&&(mn(i,e,o),Do(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=dn(),o=er(a);o.tag=2,i!=null&&(o.callback=i),i=nr(e,o,a),i!==null&&(mn(i,e,a),Do(i,e,a))}};function gp(e,i,a,o,h,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,v):i.prototype&&i.prototype.isPureReactComponent?!vo(a,o)||!vo(h,f):!0}function pp(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&uf.enqueueReplaceState(i,i.state,null)}function gs(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=T({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Ou=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function yp(e){Ou(e)}function _p(e){console.error(e)}function vp(e){Ou(e)}function Nu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Ep(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function cf(e,i,a){return a=er(a),a.tag=3,a.payload={element:null},a.callback=function(){Nu(e,i)},a}function Tp(e){return e=er(e),e.tag=3,e}function Ap(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Ep(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Ep(i,a,o),typeof h!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function NT(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&bo(i,a,h,!0),a=Rn.current,a!==null){switch(a.tag){case 13:return ti===null?xf():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===kh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Uf(e,o,h)),!1;case 22:return a.flags|=65536,o===kh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Uf(e,o,h)),!1}throw Error(s(435,a.tag))}return Uf(e,o,h),xf(),!1}if(Ht)return i=Rn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Nh&&(e=Error(s(422),{cause:o}),So(Tn(e,a)))):(o!==Nh&&(i=Error(s(423),{cause:o}),So(Tn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Tn(o,a),h=cf(e.stateNode,o,h),jh(e,h),ue!==4&&(ue=2)),!1;var f=Error(s(520),{cause:o});if(f=Tn(f,a),Go===null?Go=[f]:Go.push(f),ue!==4&&(ue=2),i===null)return!0;o=Tn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=cf(a.stateNode,o,e),jh(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(hr===null||!hr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Tp(h),Ap(h,e,a,o),jh(a,h),!1}a=a.return}while(a!==null);return!1}var Sp=Error(s(461)),Oe=!1;function Ue(e,i,a,o){i.child=e===null?dp(i,null,a,o):ha(i,e.child,a,o)}function bp(e,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return fs(i),o=Qh(e,i,a,v,f,h),E=Kh(),e!==null&&!Oe?(Yh(e,i,h),Ni(e,i,h)):(Ht&&E&&Dh(i),i.flags|=1,Ue(e,i,o,h),i.child)}function Rp(e,i,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!wh(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,wp(e,i,f,o,h)):(e=cu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!_f(e,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:vo,a(v,o)&&e.ref===i.ref)return Ni(e,i,h)}return i.flags|=1,e=bi(f,o),e.ref=i.ref,e.return=i,i.child=e}function wp(e,i,a,o,h){if(e!==null){var f=e.memoizedProps;if(vo(f,o)&&e.ref===i.ref)if(Oe=!1,i.pendingProps=o=f,_f(e,h))(e.flags&131072)!==0&&(Oe=!0);else return i.lanes=e.lanes,Ni(e,i,h)}return hf(e,i,a,o,h)}function Cp(e,i,a){var o=i.pendingProps,h=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=f!==null?f.baseLanes|a:a,e!==null){for(h=i.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;i.childLanes=f&~o}else i.childLanes=0,i.child=null;return Ip(e,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&gu(i,f!==null?f.cachePool:null),f!==null?wg(i,f):Hh(),mp(i);else return i.lanes=i.childLanes=536870912,Ip(e,i,f!==null?f.baseLanes|a:a,a)}else f!==null?(gu(i,f.cachePool),wg(i,f),sr(),i.memoizedState=null):(e!==null&&gu(i,null),Hh(),sr());return Ue(e,i,h,a),i.child}function Ip(e,i,a,o){var h=Lh();return h=h===null?null:{parent:Se._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&gu(i,null),Hh(),mp(i),e!==null&&bo(e,i,o,!0),null}function Mu(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function hf(e,i,a,o,h){return fs(i),a=Qh(e,i,a,o,void 0,h),o=Kh(),e!==null&&!Oe?(Yh(e,i,h),Ni(e,i,h)):(Ht&&o&&Dh(i),i.flags|=1,Ue(e,i,a,h),i.child)}function Dp(e,i,a,o,h,f){return fs(i),i.updateQueue=null,a=Ig(i,o,a,h),Cg(e),o=Kh(),e!==null&&!Oe?(Yh(e,i,f),Ni(e,i,f)):(Ht&&o&&Dh(i),i.flags|=1,Ue(e,i,a,f),i.child)}function Op(e,i,a,o,h){if(fs(i),i.stateNode===null){var f=ea,v=a.contextType;typeof v=="object"&&v!==null&&(f=Ge(v)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=uf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},zh(i),v=a.contextType,f.context=typeof v=="object"&&v!==null?Ge(v):ea,f.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(lf(i,a,v,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&uf.enqueueReplaceState(f,f.state,null),No(i,o,f,h),Oo(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){f=i.stateNode;var E=i.memoizedProps,b=gs(a,E);f.props=b;var k=f.context,G=a.contextType;v=ea,typeof G=="object"&&G!==null&&(v=Ge(G));var Q=a.getDerivedStateFromProps;G=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||k!==v)&&pp(i,f,o,v),tr=!1;var z=i.memoizedState;f.state=z,No(i,o,f,h),Oo(),k=i.memoizedState,E||z!==k||tr?(typeof Q=="function"&&(lf(i,a,Q,o),k=i.memoizedState),(b=tr||gp(i,a,b,o,z,k,v))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=k),f.props=o,f.state=k,f.context=v,o=b):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,Bh(e,i),v=i.memoizedProps,G=gs(a,v),f.props=G,Q=i.pendingProps,z=f.context,k=a.contextType,b=ea,typeof k=="object"&&k!==null&&(b=Ge(k)),E=a.getDerivedStateFromProps,(k=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Q||z!==b)&&pp(i,f,o,b),tr=!1,z=i.memoizedState,f.state=z,No(i,o,f,h),Oo();var B=i.memoizedState;v!==Q||z!==B||tr||e!==null&&e.dependencies!==null&&du(e.dependencies)?(typeof E=="function"&&(lf(i,a,E,o),B=i.memoizedState),(G=tr||gp(i,a,G,o,z,B,b)||e!==null&&e.dependencies!==null&&du(e.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,b)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=B),f.props=o,f.state=B,f.context=b,o=G):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),o=!1)}return f=o,Mu(e,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&o?(i.child=ha(i,e.child,null,h),i.child=ha(i,null,a,h)):Ue(e,i,a,h),i.memoizedState=f.state,e=i.child):e=Ni(e,i,h),e}function Np(e,i,a,o){return Ao(),i.flags|=256,Ue(e,i,a,o),i.child}var ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function df(e){return{baseLanes:e,cachePool:_g()}}function mf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=wn),e}function Mp(e,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(be.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ht){if(h?rr(i):sr(),Ht){var E=le,b;if(b=E){t:{for(b=E,E=Wn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Ln(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(i.memoizedState={dehydrated:E,treeContext:os!==null?{id:Ri,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},b=un(18,null,null,0),b.stateNode=E,b.return=i,i.child=b,tn=i,le=null,b=!0):b=!1}b||cs(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Zf(E)?i.lanes=32:i.lanes=536870912,null;Oi(i)}return E=o.children,o=o.fallback,h?(sr(),h=i.mode,E=Vu({mode:"hidden",children:E},h),o=as(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,h=i.child,h.memoizedState=df(a),h.childLanes=mf(e,v,a),i.memoizedState=ff,o):(rr(i),gf(i,E))}if(b=e.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)i.flags&256?(rr(i),i.flags&=-257,i=pf(e,i,a)):i.memoizedState!==null?(sr(),i.child=e.child,i.flags|=128,i=null):(sr(),h=o.fallback,E=i.mode,o=Vu({mode:"visible",children:o.children},E),h=as(h,E,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,ha(i,e.child,null,a),o=i.child,o.memoizedState=df(a),o.childLanes=mf(e,v,a),i.memoizedState=ff,i=h);else if(rr(i),Zf(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var k=v.dgst;v=k,o=Error(s(419)),o.stack="",o.digest=v,So({value:o,source:null,stack:null}),i=pf(e,i,a)}else if(Oe||bo(e,i,a,!1),v=(a&e.childLanes)!==0,Oe||v){if(v=te,v!==null&&(o=a&-a,o=(o&42)!==0?1:Qi(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==b.retryLane))throw b.retryLane=o,ta(e,o),mn(v,e,o),Sp;E.data==="$?"||xf(),i=pf(e,i,a)}else E.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=b.treeContext,le=Ln(E.nextSibling),tn=i,Ht=!0,us=null,Wn=!1,e!==null&&(Sn[bn++]=Ri,Sn[bn++]=wi,Sn[bn++]=os,Ri=e.id,wi=e.overflow,os=i),i=gf(i,o.children),i.flags|=4096);return i}return h?(sr(),h=o.fallback,E=i.mode,b=e.child,k=b.sibling,o=bi(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&65011712,k!==null?h=bi(k,h):(h=as(h,E,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,E=e.child.memoizedState,E===null?E=df(a):(b=E.cachePool,b!==null?(k=Se._currentValue,b=b.parent!==k?{parent:k,pool:k}:b):b=_g(),E={baseLanes:E.baseLanes|a,cachePool:b}),h.memoizedState=E,h.childLanes=mf(e,v,a),i.memoizedState=ff,o):(rr(i),a=e.child,e=a.sibling,a=bi(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function gf(e,i){return i=Vu({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Vu(e,i){return e=un(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function pf(e,i,a){return ha(i,e.child,null,a),e=gf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Vp(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),Vh(e.return,i,a)}function yf(e,i,a,o,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=h)}function xp(e,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;if(Ue(e,i,o.children,a),o=be.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vp(e,a,i);else if(e.tag===19)Vp(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(W(be,o),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Du(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),yf(i,!1,h,a,f);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Du(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}yf(i,!0,a,null,f);break;case"together":yf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ni(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),cr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(bo(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=bi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=bi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function _f(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&du(e)))}function MT(e,i,a){switch(i.tag){case 3:Ut(i,i.stateNode.containerInfo),Wi(i,Se,e.memoizedState.cache),Ao();break;case 27:case 5:Nn(i);break;case 4:Ut(i,i.stateNode.containerInfo);break;case 10:Wi(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(rr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Mp(e,i,a):(rr(i),e=Ni(e,i,a),e!==null?e.sibling:null);rr(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(bo(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return xp(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(be,be.current),o)break;return null;case 22:case 23:return i.lanes=0,Cp(e,i,a);case 24:Wi(i,Se,e.memoizedState.cache)}return Ni(e,i,a)}function Pp(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Oe=!0;else{if(!_f(e,a)&&(i.flags&128)===0)return Oe=!1,MT(e,i,a);Oe=(e.flags&131072)!==0}else Oe=!1,Ht&&(i.flags&1048576)!==0&&hg(i,fu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")wh(o)?(e=gs(o,e),i.tag=1,i=Op(null,i,o,e,a)):(i.tag=0,i=hf(null,i,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===bt){i.tag=11,i=bp(null,i,o,e,a);break t}else if(h===N){i.tag=14,i=Rp(null,i,o,e,a);break t}}throw i=re(o)||o,Error(s(306,i,""))}}return i;case 0:return hf(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=gs(o,i.pendingProps),Op(e,i,o,h,a);case 3:t:{if(Ut(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,Bh(e,i),No(i,o,null,a);var v=i.memoizedState;if(o=v.cache,Wi(i,Se,o),o!==f.cache&&xh(i,[Se],a,!0),Oo(),o=v.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Np(e,i,o,a);break t}else if(o!==h){h=Tn(Error(s(424)),i),So(h),i=Np(e,i,o,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(le=Ln(e.firstChild),tn=i,Ht=!0,us=null,Wn=!0,a=dp(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ao(),o===h){i=Ni(e,i,a);break t}Ue(e,i,o,a)}i=i.child}return i;case 26:return Mu(e,i),e===null?(a=zy(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ht||(a=i.type,e=i.pendingProps,o=Ku(yt.current).createElement(a),o[Ee]=i,o[ge]=e,ke(o,a,e),he(o),i.stateNode=o):i.memoizedState=zy(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Nn(i),e===null&&Ht&&(o=i.stateNode=Uy(i.type,i.pendingProps,yt.current),tn=i,Wn=!0,h=le,mr(i.type)?(Jf=h,le=Ln(o.firstChild)):le=h),Ue(e,i,i.pendingProps.children,a),Mu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ht&&((h=o=le)&&(o=aA(o,i.type,i.pendingProps,Wn),o!==null?(i.stateNode=o,tn=i,le=Ln(o.firstChild),Wn=!1,h=!0):h=!1),h||cs(i)),Nn(i),h=i.type,f=i.pendingProps,v=e!==null?e.memoizedProps:null,o=f.children,Yf(h,f)?o=null:v!==null&&Yf(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Qh(e,i,bT,null,null,a),Wo._currentValue=h),Mu(e,i),Ue(e,i,o,a),i.child;case 6:return e===null&&Ht&&((e=a=le)&&(a=oA(a,i.pendingProps,Wn),a!==null?(i.stateNode=a,tn=i,le=null,e=!0):e=!1),e||cs(i)),null;case 13:return Mp(e,i,a);case 4:return Ut(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=ha(i,null,o,a):Ue(e,i,o,a),i.child;case 11:return bp(e,i,i.type,i.pendingProps,a);case 7:return Ue(e,i,i.pendingProps,a),i.child;case 8:return Ue(e,i,i.pendingProps.children,a),i.child;case 12:return Ue(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Wi(i,i.type,o.value),Ue(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,fs(i),h=Ge(h),o=o(h),i.flags|=1,Ue(e,i,o,a),i.child;case 14:return Rp(e,i,i.type,i.pendingProps,a);case 15:return wp(e,i,i.type,i.pendingProps,a);case 19:return xp(e,i,a);case 31:return o=i.pendingProps,a=i.mode,o={mode:o.mode,children:o.children},e===null?(a=Vu(o,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=bi(e.child,o),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Cp(e,i,a);case 24:return fs(i),o=Ge(Se),e===null?(h=Lh(),h===null&&(h=te,f=Ph(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},zh(i),Wi(i,Se,h)):((e.lanes&a)!==0&&(Bh(e,i),No(i,null,null,a),Oo()),h=e.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Wi(i,Se,o)):(o=f.cache,Wi(i,Se,o),o!==h.cache&&xh(i,[Se],a,!0))),Ue(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Mi(e){e.flags|=4}function Up(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Gy(i)){if(i=Rn.current,i!==null&&((zt&4194048)===zt?ti!==null:(zt&62914560)!==zt&&(zt&536870912)===0||i!==ti))throw Io=kh,vg;e.flags|=8192}}function xu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?to():536870912,e.lanes|=i,ga|=i)}function ko(e,i){if(!Ht)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function se(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function VT(e,i,a){var o=i.pendingProps;switch(Oh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(i),null;case 1:return se(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ii(Se),qe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(To(i)?Mi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,mg())),se(i),null;case 26:return a=i.memoizedState,e===null?(Mi(i),a!==null?(se(i),Up(i,a)):(se(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Mi(i),se(i),Up(i,a)):(se(i),i.flags&=-16777217):(e.memoizedProps!==o&&Mi(i),se(i),i.flags&=-16777217),null;case 27:hi(i),a=yt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Mi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return se(i),null}e=ht.current,To(i)?fg(i):(e=Uy(h,o,a),i.stateNode=e,Mi(i))}return se(i),null;case 5:if(hi(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Mi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return se(i),null}if(e=ht.current,To(i))fg(i);else{switch(h=Ku(yt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[Ee]=i,e[ge]=o;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(ke(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Mi(i)}}return se(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Mi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=yt.current,To(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=tn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ee]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Dy(e.nodeValue,a)),e||cs(i)}else e=Ku(e).createTextNode(o),e[Ee]=i,i.stateNode=e}return se(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=To(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ee]=i}else Ao(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;se(i),h=!1}else h=mg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Oi(i),i):(Oi(i),null)}if(Oi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),xu(i,i.updateQueue),se(i),null;case 4:return qe(),e===null&&Hf(i.stateNode.containerInfo),se(i),null;case 10:return Ii(i.type),se(i),null;case 19:if(nt(be),h=i.memoizedState,h===null)return se(i),null;if(o=(i.flags&128)!==0,f=h.rendering,f===null)if(o)ko(h,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=Du(e),f!==null){for(i.flags|=128,ko(h,!1),e=f.updateQueue,i.updateQueue=e,xu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)cg(a,e),a=a.sibling;return W(be,be.current&1|2),i.child}e=e.sibling}h.tail!==null&&gn()>Lu&&(i.flags|=128,o=!0,ko(h,!1),i.lanes=4194304)}else{if(!o)if(e=Du(f),e!==null){if(i.flags|=128,o=!0,e=e.updateQueue,i.updateQueue=e,xu(i,e),ko(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Ht)return se(i),null}else 2*gn()-h.renderingStartTime>Lu&&a!==536870912&&(i.flags|=128,o=!0,ko(h,!1),i.lanes=4194304);h.isBackwards?(f.sibling=i.child,i.child=f):(e=h.last,e!==null?e.sibling=f:i.child=f,h.last=f)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=gn(),i.sibling=null,e=be.current,W(be,o?e&1|2:e&1),i):(se(i),null);case 22:case 23:return Oi(i),Gh(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(se(i),i.subtreeFlags&6&&(i.flags|=8192)):se(i),a=i.updateQueue,a!==null&&xu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&nt(ds),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ii(Se),se(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function xT(e,i){switch(Oh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ii(Se),qe(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return hi(i),null;case 13:if(Oi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ao()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return nt(be),null;case 4:return qe(),null;case 10:return Ii(i.type),null;case 22:case 23:return Oi(i),Gh(),e!==null&&nt(ds),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ii(Se),null;case 25:return null;default:return null}}function Lp(e,i){switch(Oh(i),i.tag){case 3:Ii(Se),qe();break;case 26:case 27:case 5:hi(i);break;case 4:qe();break;case 13:Oi(i);break;case 19:nt(be);break;case 10:Ii(i.type);break;case 22:case 23:Oi(i),Gh(),e!==null&&nt(ds);break;case 24:Ii(Se)}}function zo(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,v=a.inst;o=f(),v.destroy=o}a=a.next}while(a!==h)}}catch(E){Wt(i,i.return,E)}}function ar(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var b=a,k=E;try{k()}catch(G){Wt(h,b,G)}}}o=o.next}while(o!==f)}}catch(G){Wt(i,i.return,G)}}function kp(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Rg(i,a)}catch(o){Wt(e,e.return,o)}}}function zp(e,i,a){a.props=gs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Wt(e,i,o)}}function Bo(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Wt(e,i,h)}}function ei(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Wt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Wt(e,i,h)}else a.current=null}function Bp(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Wt(e,e.return,h)}}function vf(e,i,a){try{var o=e.stateNode;eA(o,e.type,a,i),o[ge]=i}catch(h){Wt(e,e.return,h)}}function jp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&mr(e.type)||e.tag===4}function Ef(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||jp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&mr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tf(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Qu));else if(o!==4&&(o===27&&mr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Tf(e,i,a),e=e.sibling;e!==null;)Tf(e,i,a),e=e.sibling}function Pu(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&mr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Pu(e,i,a),e=e.sibling;e!==null;)Pu(e,i,a),e=e.sibling}function qp(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);ke(i,o,a),i[Ee]=e,i[ge]=a}catch(f){Wt(e,e.return,f)}}var Vi=!1,de=!1,Af=!1,Hp=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function PT(e,i){if(e=e.containerInfo,Qf=Wu,e=tg(e),vh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,E=-1,b=-1,k=0,G=0,Q=e,z=null;e:for(;;){for(var B;Q!==a||h!==0&&Q.nodeType!==3||(E=v+h),Q!==f||o!==0&&Q.nodeType!==3||(b=v+o),Q.nodeType===3&&(v+=Q.nodeValue.length),(B=Q.firstChild)!==null;)z=Q,Q=B;for(;;){if(Q===e)break e;if(z===a&&++k===h&&(E=v),z===f&&++G===o&&(b=v),(B=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=B}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Kf={focusedElem:e,selectionRange:a},Wu=!1,Ne=i;Ne!==null;)if(i=Ne,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Ne=e;else for(;Ne!==null;){switch(i=Ne,f=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var vt=gs(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(vt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Wt(a,a.return,mt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)$f(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":$f(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Ne=e;break}Ne=i.return}}function Gp(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:or(e,a),o&4&&zo(5,a);break;case 1:if(or(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){Wt(a,a.return,v)}else{var h=gs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Wt(a,a.return,v)}}o&64&&kp(a),o&512&&Bo(a,a.return);break;case 3:if(or(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Rg(e,i)}catch(v){Wt(a,a.return,v)}}break;case 27:i===null&&o&4&&qp(a);case 26:case 5:or(e,a),i===null&&o&4&&Bp(a),o&512&&Bo(a,a.return);break;case 12:or(e,a);break;case 13:or(e,a),o&4&&Kp(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=GT.bind(null,a),lA(e,a))));break;case 22:if(o=a.memoizedState!==null||Vi,!o){i=i!==null&&i.memoizedState!==null||de,h=Vi;var f=de;Vi=o,(de=i)&&!f?lr(e,a,(a.subtreeFlags&8772)!==0):or(e,a),Vi=h,de=f}break;case 30:break;default:or(e,a)}}function Fp(e){var i=e.alternate;i!==null&&(e.alternate=null,Fp(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Xi(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ie=null,nn=!1;function xi(e,i,a){for(a=a.child;a!==null;)Qp(e,i,a),a=a.sibling}function Qp(e,i,a){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(oe,a)}catch{}switch(a.tag){case 26:de||ei(a,i),xi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:de||ei(a,i);var o=ie,h=nn;mr(a.type)&&(ie=a.stateNode,nn=!1),xi(e,i,a),Xo(a.stateNode),ie=o,nn=h;break;case 5:de||ei(a,i);case 6:if(o=ie,h=nn,ie=null,xi(e,i,a),ie=o,nn=h,ie!==null)if(nn)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(a.stateNode)}catch(f){Wt(a,i,f)}else try{ie.removeChild(a.stateNode)}catch(f){Wt(a,i,f)}break;case 18:ie!==null&&(nn?(e=ie,xy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),il(e)):xy(ie,a.stateNode));break;case 4:o=ie,h=nn,ie=a.stateNode.containerInfo,nn=!0,xi(e,i,a),ie=o,nn=h;break;case 0:case 11:case 14:case 15:de||ar(2,a,i),de||ar(4,a,i),xi(e,i,a);break;case 1:de||(ei(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&zp(a,i,o)),xi(e,i,a);break;case 21:xi(e,i,a);break;case 22:de=(o=de)||a.memoizedState!==null,xi(e,i,a),de=o;break;default:xi(e,i,a)}}function Kp(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{il(e)}catch(a){Wt(i,i.return,a)}}function UT(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Hp),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Hp),i;default:throw Error(s(435,e.tag))}}function Sf(e,i){var a=UT(e);i.forEach(function(o){var h=FT.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function cn(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,v=i,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(mr(E.type)){ie=E.stateNode,nn=!1;break t}break;case 5:ie=E.stateNode,nn=!1;break t;case 3:case 4:ie=E.stateNode.containerInfo,nn=!0;break t}E=E.return}if(ie===null)throw Error(s(160));Qp(f,v,h),ie=null,nn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Yp(i,e),i=i.sibling}var Un=null;function Yp(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:cn(i,e),hn(e),o&4&&(ar(3,e,e.return),zo(3,e),ar(5,e,e.return));break;case 1:cn(i,e),hn(e),o&512&&(de||a===null||ei(a,a.return)),o&64&&Vi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Un;if(cn(i,e),hn(e),o&512&&(de||a===null||ei(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Gr]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),ke(f,o,a),f[Ee]=e,he(f),o=f;break t;case"link":var v=qy("link","href",h).get(o+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}f=h.createElement(o),ke(f,o,a),h.head.appendChild(f);break;case"meta":if(v=qy("meta","content",h).get(o+(a.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}f=h.createElement(o),ke(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Ee]=e,he(f),o=f}e.stateNode=o}else Hy(h,e.type,e.stateNode);else e.stateNode=jy(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?Hy(h,e.type,e.stateNode):jy(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&vf(e,e.memoizedProps,a.memoizedProps)}break;case 27:cn(i,e),hn(e),o&512&&(de||a===null||ei(a,a.return)),a!==null&&o&4&&vf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(cn(i,e),hn(e),o&512&&(de||a===null||ei(a,a.return)),e.flags&32){h=e.stateNode;try{yn(h,"")}catch(B){Wt(e,e.return,B)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,vf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Af=!0);break;case 6:if(cn(i,e),hn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(B){Wt(e,e.return,B)}}break;case 3:if($u=null,h=Un,Un=Yu(i.containerInfo),cn(i,e),Un=h,hn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{il(i.containerInfo)}catch(B){Wt(e,e.return,B)}Af&&(Af=!1,Xp(e));break;case 4:o=Un,Un=Yu(e.stateNode.containerInfo),cn(i,e),hn(e),Un=o;break;case 12:cn(i,e),hn(e);break;case 13:cn(i,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Df=gn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Sf(e,o)));break;case 22:h=e.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,k=Vi,G=de;if(Vi=k||h,de=G||b,cn(i,e),de=G,Vi=k,hn(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||b||Vi||de||ps(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){b=a=i;try{if(f=b.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=b.stateNode;var Q=b.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){Wt(b,b.return,B)}}}else if(i.tag===6){if(a===null){b=i;try{b.stateNode.nodeValue=h?"":b.memoizedProps}catch(B){Wt(b,b.return,B)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Sf(e,a))));break;case 19:cn(i,e),hn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Sf(e,o)));break;case 30:break;case 21:break;default:cn(i,e),hn(e)}}function hn(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(jp(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Ef(e);Pu(e,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(yn(v,""),a.flags&=-33);var E=Ef(e);Pu(e,E,v);break;case 3:case 4:var b=a.stateNode.containerInfo,k=Ef(e);Tf(e,k,b);break;default:throw Error(s(161))}}catch(G){Wt(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Xp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Xp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function or(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Gp(e,i.alternate,i),i=i.sibling}function ps(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:ar(4,i,i.return),ps(i);break;case 1:ei(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&zp(i,i.return,a),ps(i);break;case 27:Xo(i.stateNode);case 26:case 5:ei(i,i.return),ps(i);break;case 22:i.memoizedState===null&&ps(i);break;case 30:ps(i);break;default:ps(i)}e=e.sibling}}function lr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,f=i,v=f.flags;switch(f.tag){case 0:case 11:case 15:lr(h,f,a),zo(4,f);break;case 1:if(lr(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){Wt(o,o.return,k)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var b=h.shared.hiddenCallbacks;if(b!==null)for(h.shared.hiddenCallbacks=null,h=0;h<b.length;h++)bg(b[h],E)}catch(k){Wt(o,o.return,k)}}a&&v&64&&kp(f),Bo(f,f.return);break;case 27:qp(f);case 26:case 5:lr(h,f,a),a&&o===null&&v&4&&Bp(f),Bo(f,f.return);break;case 12:lr(h,f,a);break;case 13:lr(h,f,a),a&&v&4&&Kp(h,f);break;case 22:f.memoizedState===null&&lr(h,f,a),Bo(f,f.return);break;case 30:break;default:lr(h,f,a)}i=i.sibling}}function bf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ro(a))}function Rf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ro(e))}function ni(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)$p(e,i,a,o),i=i.sibling}function $p(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ni(e,i,a,o),h&2048&&zo(9,i);break;case 1:ni(e,i,a,o);break;case 3:ni(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ro(e)));break;case 12:if(h&2048){ni(e,i,a,o),e=i.stateNode;try{var f=i.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Wt(i,i.return,b)}}else ni(e,i,a,o);break;case 13:ni(e,i,a,o);break;case 23:break;case 22:f=i.stateNode,v=i.alternate,i.memoizedState!==null?f._visibility&2?ni(e,i,a,o):jo(e,i):f._visibility&2?ni(e,i,a,o):(f._visibility|=2,fa(e,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&bf(v,i);break;case 24:ni(e,i,a,o),h&2048&&Rf(i.alternate,i);break;default:ni(e,i,a,o)}}function fa(e,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=e,v=i,E=a,b=o,k=v.flags;switch(v.tag){case 0:case 11:case 15:fa(f,v,E,b,h),zo(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&2?fa(f,v,E,b,h):jo(f,v):(G._visibility|=2,fa(f,v,E,b,h)),h&&k&2048&&bf(v.alternate,v);break;case 24:fa(f,v,E,b,h),h&&k&2048&&Rf(v.alternate,v);break;default:fa(f,v,E,b,h)}i=i.sibling}}function jo(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:jo(a,o),h&2048&&bf(o.alternate,o);break;case 24:jo(a,o),h&2048&&Rf(o.alternate,o);break;default:jo(a,o)}i=i.sibling}}var qo=8192;function da(e){if(e.subtreeFlags&qo)for(e=e.child;e!==null;)Zp(e),e=e.sibling}function Zp(e){switch(e.tag){case 26:da(e),e.flags&qo&&e.memoizedState!==null&&TA(Un,e.memoizedState,e.memoizedProps);break;case 5:da(e);break;case 3:case 4:var i=Un;Un=Yu(e.stateNode.containerInfo),da(e),Un=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=qo,qo=16777216,da(e),qo=i):da(e));break;default:da(e)}}function Jp(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Ho(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ne=o,ty(o,e)}Jp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Wp(e),e=e.sibling}function Wp(e){switch(e.tag){case 0:case 11:case 15:Ho(e),e.flags&2048&&ar(9,e,e.return);break;case 3:Ho(e);break;case 12:Ho(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Uu(e)):Ho(e);break;default:Ho(e)}}function Uu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ne=o,ty(o,e)}Jp(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:ar(8,i,i.return),Uu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Uu(i));break;default:Uu(i)}e=e.sibling}}function ty(e,i){for(;Ne!==null;){var a=Ne;switch(a.tag){case 0:case 11:case 15:ar(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ro(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ne=o;else t:for(a=e;Ne!==null;){o=Ne;var h=o.sibling,f=o.return;if(Fp(o),o===a){Ne=null;break t}if(h!==null){h.return=f,Ne=h;break t}Ne=f}}}var LT={getCacheForType:function(e){var i=Ge(Se),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},kT=typeof WeakMap=="function"?WeakMap:Map,Kt=0,te=null,Mt=null,zt=0,Yt=0,fn=null,ur=!1,ma=!1,wf=!1,Pi=0,ue=0,cr=0,ys=0,Cf=0,wn=0,ga=0,Go=null,rn=null,If=!1,Df=0,Lu=1/0,ku=null,hr=null,Le=0,fr=null,pa=null,ya=0,Of=0,Nf=null,ey=null,Fo=0,Mf=null;function dn(){if((Kt&2)!==0&&zt!==0)return zt&-zt;if(H.T!==null){var e=ra;return e!==0?e:zf()}return Ki()}function ny(){wn===0&&(wn=(zt&536870912)===0||Ht?Wa():536870912);var e=Rn.current;return e!==null&&(e.flags|=32),wn}function mn(e,i,a){(e===te&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(_a(e,0),dr(e,zt,wn,!1)),di(e,a),((Kt&2)===0||e!==te)&&(e===te&&((Kt&2)===0&&(ys|=a),ue===4&&dr(e,zt,wn,!1)),ii(e))}function iy(e,i,a){if((Kt&6)!==0)throw Error(s(327));var o=!a&&(i&124)===0&&(i&e.expiredLanes)===0||Hr(e,i),h=o?jT(e,i):Pf(e,i,!0),f=o;do{if(h===0){ma&&!o&&dr(e,i,0,!1);break}else{if(a=e.current.alternate,f&&!zT(a)){h=Pf(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var E=e;h=Go;var b=E.current.memoizedState.isDehydrated;if(b&&(_a(E,v).flags|=256),v=Pf(E,v,!1),v!==2){if(wf&&!b){E.errorRecoveryDisabledLanes|=f,ys|=f,h=4;break t}f=rn,rn=h,f!==null&&(rn===null?rn=f:rn.push.apply(rn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){_a(e,0),dr(e,i,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:dr(o,i,wn,!ur);break t;case 2:rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Df+300-gn(),10<h)){if(dr(o,i,wn,!ur),Ps(o,0,!0)!==0)break t;o.timeoutHandle=My(ry.bind(null,o,a,rn,ku,If,i,wn,ys,ga,ur,f,2,-0,0),h);break t}ry(o,a,rn,ku,If,i,wn,ys,ga,ur,f,0,-0,0)}}break}while(!0);ii(e)}function ry(e,i,a,o,h,f,v,E,b,k,G,Q,z,B){if(e.timeoutHandle=-1,Q=i.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(Jo={stylesheets:null,count:0,unsuspend:EA},Zp(i),Q=AA(),Q!==null)){e.cancelPendingCommit=Q(hy.bind(null,e,i,f,a,o,h,v,E,b,G,1,z,B)),dr(e,f,v,!k);return}hy(e,i,f,a,o,h,v,E,b)}function zT(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!ln(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function dr(e,i,a,o){i&=~Cf,i&=~ys,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var f=31-He(h),v=1<<f;o[f]=-1,h&=~v}a!==0&&qn(e,a,i)}function zu(){return(Kt&6)===0?(Qo(0),!1):!0}function Vf(){if(Mt!==null){if(Yt===0)var e=Mt.return;else e=Mt,Ci=hs=null,Xh(e),ca=null,Uo=0,e=Mt;for(;e!==null;)Lp(e.alternate,e),e=e.return;Mt=null}}function _a(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,iA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Vf(),te=e,Mt=a=bi(e.current,null),zt=i,Yt=0,fn=null,ur=!1,ma=Hr(e,i),wf=!1,ga=wn=Cf=ys=cr=ue=0,rn=Go=null,If=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-He(o),f=1<<h;i|=e[h],o&=~f}return Pi=i,ou(),a}function sy(e,i){It=null,H.H=wu,i===Co||i===pu?(i=Ag(),Yt=3):i===vg?(i=Ag(),Yt=4):Yt=i===Sp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,fn=i,Mt===null&&(ue=1,Nu(e,Tn(i,e.current)))}function ay(){var e=H.H;return H.H=wu,e===null?wu:e}function oy(){var e=H.A;return H.A=LT,e}function xf(){ue=4,ur||(zt&4194048)!==zt&&Rn.current!==null||(ma=!0),(cr&134217727)===0&&(ys&134217727)===0||te===null||dr(te,zt,wn,!1)}function Pf(e,i,a){var o=Kt;Kt|=2;var h=ay(),f=oy();(te!==e||zt!==i)&&(ku=null,_a(e,i)),i=!1;var v=ue;t:do try{if(Yt!==0&&Mt!==null){var E=Mt,b=fn;switch(Yt){case 8:Vf(),v=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(i=!0);var k=Yt;if(Yt=0,fn=null,va(e,E,b,k),a&&ma){v=0;break t}break;default:k=Yt,Yt=0,fn=null,va(e,E,b,k)}}BT(),v=ue;break}catch(G){sy(e,G)}while(!0);return i&&e.shellSuspendCounter++,Ci=hs=null,Kt=o,H.H=h,H.A=f,Mt===null&&(te=null,zt=0,ou()),v}function BT(){for(;Mt!==null;)ly(Mt)}function jT(e,i){var a=Kt;Kt|=2;var o=ay(),h=oy();te!==e||zt!==i?(ku=null,Lu=gn()+500,_a(e,i)):ma=Hr(e,i);t:do try{if(Yt!==0&&Mt!==null){i=Mt;var f=fn;e:switch(Yt){case 1:Yt=0,fn=null,va(e,i,f,1);break;case 2:case 9:if(Eg(f)){Yt=0,fn=null,uy(i);break}i=function(){Yt!==2&&Yt!==9||te!==e||(Yt=7),ii(e)},f.then(i,i);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Eg(f)?(Yt=0,fn=null,uy(i)):(Yt=0,fn=null,va(e,i,f,7));break;case 5:var v=null;switch(Mt.tag){case 26:v=Mt.memoizedState;case 5:case 27:var E=Mt;if(!v||Gy(v)){Yt=0,fn=null;var b=E.sibling;if(b!==null)Mt=b;else{var k=E.return;k!==null?(Mt=k,Bu(k)):Mt=null}break e}}Yt=0,fn=null,va(e,i,f,5);break;case 6:Yt=0,fn=null,va(e,i,f,6);break;case 8:Vf(),ue=6;break t;default:throw Error(s(462))}}qT();break}catch(G){sy(e,G)}while(!0);return Ci=hs=null,H.H=o,H.A=h,Kt=a,Mt!==null?0:(te=null,zt=0,ou(),ue)}function qT(){for(;Mt!==null&&!Xa();)ly(Mt)}function ly(e){var i=Pp(e.alternate,e,Pi);e.memoizedProps=e.pendingProps,i===null?Bu(e):Mt=i}function uy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Dp(a,i,i.pendingProps,i.type,void 0,zt);break;case 11:i=Dp(a,i,i.pendingProps,i.type.render,i.ref,zt);break;case 5:Xh(i);default:Lp(a,i),i=Mt=cg(i,Pi),i=Pp(a,i,Pi)}e.memoizedProps=e.pendingProps,i===null?Bu(e):Mt=i}function va(e,i,a,o){Ci=hs=null,Xh(i),ca=null,Uo=0;var h=i.return;try{if(NT(e,h,i,a,zt)){ue=1,Nu(e,Tn(a,e.current)),Mt=null;return}}catch(f){if(h!==null)throw Mt=h,f;ue=1,Nu(e,Tn(a,e.current)),Mt=null;return}i.flags&32768?(Ht||o===1?e=!0:ma||(zt&536870912)!==0?e=!1:(ur=e=!0,(o===2||o===9||o===3||o===6)&&(o=Rn.current,o!==null&&o.tag===13&&(o.flags|=16384))),cy(i,e)):Bu(i)}function Bu(e){var i=e;do{if((i.flags&32768)!==0){cy(i,ur);return}e=i.return;var a=VT(i.alternate,i,Pi);if(a!==null){Mt=a;return}if(i=i.sibling,i!==null){Mt=i;return}Mt=i=e}while(i!==null);ue===0&&(ue=5)}function cy(e,i){do{var a=xT(e.alternate,e);if(a!==null){a.flags&=32767,Mt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=a}while(e!==null);ue=6,Mt=null}function hy(e,i,a,o,h,f,v,E,b){e.cancelPendingCommit=null;do ju();while(Le!==0);if((Kt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=bh,eo(e,a,f,v,E,b),e===te&&(Mt=te=null,zt=0),pa=i,fr=e,ya=a,Of=f,Nf=h,ey=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,QT(zr,function(){return py(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=et.p,et.p=2,v=Kt,Kt|=4;try{PT(e,i,a)}finally{Kt=v,et.p=h,H.T=o}}Le=1,fy(),dy(),my()}}function fy(){if(Le===1){Le=0;var e=fr,i=pa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=et.p;et.p=2;var h=Kt;Kt|=4;try{Yp(i,e);var f=Kf,v=tg(e.containerInfo),E=f.focusedElem,b=f.selectionRange;if(v!==E&&E&&E.ownerDocument&&Wm(E.ownerDocument.documentElement,E)){if(b!==null&&vh(E)){var k=b.start,G=b.end;if(G===void 0&&(G=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(G,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var B=z.getSelection(),vt=E.textContent.length,mt=Math.min(b.start,vt),Jt=b.end===void 0?mt:Math.min(b.end,vt);!B.extend&&mt>Jt&&(v=Jt,Jt=mt,mt=v);var P=Jm(E,mt),O=Jm(E,Jt);if(P&&O&&(B.rangeCount!==1||B.anchorNode!==P.node||B.anchorOffset!==P.offset||B.focusNode!==O.node||B.focusOffset!==O.offset)){var L=Q.createRange();L.setStart(P.node,P.offset),B.removeAllRanges(),mt>Jt?(B.addRange(L),B.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),B.addRange(L))}}}}for(Q=[],B=E;B=B.parentNode;)B.nodeType===1&&Q.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Wu=!!Qf,Kf=Qf=null}finally{Kt=h,et.p=o,H.T=a}}e.current=i,Le=2}}function dy(){if(Le===2){Le=0;var e=fr,i=pa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=et.p;et.p=2;var h=Kt;Kt|=4;try{Gp(e,i.alternate,i)}finally{Kt=h,et.p=o,H.T=a}}Le=3}}function my(){if(Le===4||Le===3){Le=0,Ul();var e=fr,i=pa,a=ya,o=ey;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Le=5:(Le=0,pa=fr=null,gy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(hr=null),Us(a),i=i.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(oe,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=H.T,h=et.p,et.p=2,H.T=null;try{for(var f=e.onRecoverableError,v=0;v<o.length;v++){var E=o[v];f(E.value,{componentStack:E.stack})}}finally{H.T=i,et.p=h}}(ya&3)!==0&&ju(),ii(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Mf?Fo++:(Fo=0,Mf=e):Fo=0,Qo(0)}}function gy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Ro(i)))}function ju(e){return fy(),dy(),my(),py()}function py(){if(Le!==5)return!1;var e=fr,i=Of;Of=0;var a=Us(ya),o=H.T,h=et.p;try{et.p=32>a?32:a,H.T=null,a=Nf,Nf=null;var f=fr,v=ya;if(Le=0,pa=fr=null,ya=0,(Kt&6)!==0)throw Error(s(331));var E=Kt;if(Kt|=4,Wp(f.current),$p(f,f.current,v,a),Kt=E,Qo(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(oe,f)}catch{}return!0}finally{et.p=h,H.T=o,gy(e,i)}}function yy(e,i,a){i=Tn(a,i),i=cf(e.stateNode,i,2),e=nr(e,i,2),e!==null&&(di(e,2),ii(e))}function Wt(e,i,a){if(e.tag===3)yy(e,e,a);else for(;i!==null;){if(i.tag===3){yy(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(hr===null||!hr.has(o))){e=Tn(a,e),a=Tp(2),o=nr(i,a,2),o!==null&&(Ap(a,o,i,e),di(o,2),ii(o));break}}i=i.return}}function Uf(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new kT;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(wf=!0,h.add(a),e=HT.bind(null,e,i,a),i.then(e,e))}function HT(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(zt&a)===a&&(ue===4||ue===3&&(zt&62914560)===zt&&300>gn()-Df?(Kt&2)===0&&_a(e,0):Cf|=a,ga===zt&&(ga=0)),ii(e)}function _y(e,i){i===0&&(i=to()),e=ta(e,i),e!==null&&(di(e,i),ii(e))}function GT(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),_y(e,a)}function FT(e,i){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),_y(e,a)}function QT(e,i){return Lr(e,i)}var qu=null,Ea=null,Lf=!1,Hu=!1,kf=!1,_s=0;function ii(e){e!==Ea&&e.next===null&&(Ea===null?qu=Ea=e:Ea=Ea.next=e),Hu=!0,Lf||(Lf=!0,YT())}function Qo(e,i){if(!kf&&Hu){kf=!0;do for(var a=!1,o=qu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var v=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-He(42|e)+1)-1,f&=h&~(v&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Ay(o,f))}else f=zt,f=Ps(o,o===te?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Hr(o,f)||(a=!0,Ay(o,f));o=o.next}while(a);kf=!1}}function KT(){vy()}function vy(){Hu=Lf=!1;var e=0;_s!==0&&(nA()&&(e=_s),_s=0);for(var i=gn(),a=null,o=qu;o!==null;){var h=o.next,f=Ey(o,i);f===0?(o.next=null,a===null?qu=h:a.next=h,h===null&&(Ea=a)):(a=o,(e!==0||(f&3)!==0)&&(Hu=!0)),o=h}Qo(e)}function Ey(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-He(f),E=1<<v,b=h[v];b===-1?((E&a)===0||(E&o)!==0)&&(h[v]=Ja(E,i)):b<=i&&(e.expiredLanes|=E),f&=~E}if(i=te,a=zt,a=Ps(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&kr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Hr(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&kr(o),Us(a)){case 2:case 8:a=Vs;break;case 32:a=zr;break;case 268435456:a=xs;break;default:a=zr}return o=Ty.bind(null,e),a=Lr(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&kr(o),e.callbackPriority=2,e.callbackNode=null,2}function Ty(e,i){if(Le!==0&&Le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ju()&&e.callbackNode!==a)return null;var o=zt;return o=Ps(e,e===te?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(iy(e,o,i),Ey(e,gn()),e.callbackNode!=null&&e.callbackNode===a?Ty.bind(null,e):null)}function Ay(e,i){if(ju())return null;iy(e,i,!0)}function YT(){rA(function(){(Kt&6)!==0?Lr($a,KT):vy()})}function zf(){return _s===0&&(_s=Wa()),_s}function Sy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:qs(""+e)}function by(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function XT(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=Sy((h[ge]||null).action),v=o.submitter;v&&(i=(i=v[ge]||null)?Sy(i.formAction):v.getAttribute("formAction"),i!==null&&(f=i,v=null));var E=new Hs("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(_s!==0){var b=v?by(h,v):new FormData(h);sf(a,{pending:!0,data:b,method:h.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=v?by(h,v):new FormData(h),sf(a,{pending:!0,data:b,method:h.method,action:f},f,b))},currentTarget:h}]})}}for(var Bf=0;Bf<Sh.length;Bf++){var jf=Sh[Bf],$T=jf.toLowerCase(),ZT=jf[0].toUpperCase()+jf.slice(1);Pn($T,"on"+ZT)}Pn(ig,"onAnimationEnd"),Pn(rg,"onAnimationIteration"),Pn(sg,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(mT,"onTransitionRun"),Pn(gT,"onTransitionStart"),Pn(pT,"onTransitionCancel"),Pn(ag,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ko));function Ry(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(i)for(var v=o.length-1;0<=v;v--){var E=o[v],b=E.instance,k=E.currentTarget;if(E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=k;try{f(h)}catch(G){Ou(G)}h.currentTarget=null,f=b}else for(v=0;v<o.length;v++){if(E=o[v],b=E.instance,k=E.currentTarget,E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=k;try{f(h)}catch(G){Ou(G)}h.currentTarget=null,f=b}}}}function Vt(e,i){var a=i[io];a===void 0&&(a=i[io]=new Set);var o=e+"__bubble";a.has(o)||(wy(i,e,2,!1),a.add(o))}function qf(e,i,a){var o=0;i&&(o|=4),wy(a,e,o,i)}var Gu="_reactListening"+Math.random().toString(36).slice(2);function Hf(e){if(!e[Gu]){e[Gu]=!0,ro.forEach(function(a){a!=="selectionchange"&&(JT.has(a)||qf(a,!1,e),qf(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Gu]||(i[Gu]=!0,qf("selectionchange",!1,i))}}function wy(e,i,a,o){switch($y(i)){case 2:var h=RA;break;case 8:h=wA;break;default:h=id}a=h.bind(null,i,a,e),h=void 0,!vn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Gf(e,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=o.return;v!==null;){var b=v.tag;if((b===3||b===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=mi(E),v===null)return;if(b=v.tag,b===5||b===6||b===26||b===27){o=f=v;continue t}E=E.parentNode}}o=o.return}Ql(function(){var k=f,G=_n(a),Q=[];t:{var z=og.get(e);if(z!==void 0){var B=Hs,vt=e;switch(e){case"keypress":if(Yn(a)===0)break t;case"keydown":case"keyup":B=Xs;break;case"focusin":vt="focus",B=Qs;break;case"focusout":vt="blur",B=Qs;break;case"beforeblur":case"afterblur":B=Qs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=gh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=tu;break;case ig:case rg:case sg:B=Ks;break;case ag:B=nu;break;case"scroll":case"scrollend":B=Kl;break;case"wheel":B=$s;break;case"copy":case"cut":case"paste":B=Ys;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=yo;break;case"toggle":case"beforetoggle":B=ru}var mt=(i&4)!==0,Jt=!mt&&(e==="scroll"||e==="scrollend"),P=mt?z!==null?z+"Capture":null:z;mt=[];for(var O=k,L;O!==null;){var F=O;if(L=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||L===null||P===null||(F=Zr(O,P),F!=null&&mt.push(Yo(O,F,L))),Jt)break;O=O.return}0<mt.length&&(z=new B(z,vt,null,a,G),Q.push({event:z,listeners:mt}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&a!==_i&&(vt=a.relatedTarget||a.fromElement)&&(mi(vt)||vt[pn]))break t;if((B||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,B?(vt=a.relatedTarget||a.toElement,B=k,vt=vt?mi(vt):null,vt!==null&&(Jt=c(vt),mt=vt.tag,vt!==Jt||mt!==5&&mt!==27&&mt!==6)&&(vt=null)):(B=null,vt=k),B!==vt)){if(mt=En,F="onMouseLeave",P="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(mt=yo,F="onPointerLeave",P="onPointerEnter",O="pointer"),Jt=B==null?z:Gn(B),L=vt==null?z:Gn(vt),z=new mt(F,O+"leave",B,a,G),z.target=Jt,z.relatedTarget=L,F=null,mi(G)===k&&(mt=new mt(P,O+"enter",vt,a,G),mt.target=L,mt.relatedTarget=Jt,F=mt),Jt=F,B&&vt)e:{for(mt=B,P=vt,O=0,L=mt;L;L=Ta(L))O++;for(L=0,F=P;F;F=Ta(F))L++;for(;0<O-L;)mt=Ta(mt),O--;for(;0<L-O;)P=Ta(P),L--;for(;O--;){if(mt===P||P!==null&&mt===P.alternate)break e;mt=Ta(mt),P=Ta(P)}mt=null}else mt=null;B!==null&&Cy(Q,z,B,mt,!1),vt!==null&&Jt!==null&&Cy(Q,Jt,vt,mt,!0)}}t:{if(z=k?Gn(k):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var lt=Qm;else if(Ae(z))if(Km)lt=hT;else{lt=uT;var Nt=lT}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?k&&uo(k.elementType)&&(lt=Qm):lt=cT;if(lt&&(lt=lt(e,k))){Si(Q,lt,a,G);break t}Nt&&Nt(e,z,k),e==="focusout"&&k&&z.type==="number"&&k.memoizedProps.value!=null&&Zi(z,"number",z.value)}switch(Nt=k?Gn(k):window,e){case"focusin":(Ae(Nt)||Nt.contentEditable==="true")&&(Zs=Nt,Eh=k,Eo=null);break;case"focusout":Eo=Eh=Zs=null;break;case"mousedown":Th=!0;break;case"contextmenu":case"mouseup":case"dragend":Th=!1,eg(Q,a,G);break;case"selectionchange":if(dT)break;case"keydown":case"keyup":eg(Q,a,G)}var ct;if(Zn)t:{switch(e){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Lt?j(e,a)&&(_t="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(_t="onCompositionStart");_t&&(y&&a.locale!=="ko"&&(Lt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Lt&&(ct=ho()):(Kn=G,Ji="value"in Kn?Kn.value:Kn.textContent,Lt=!0)),Nt=Fu(k,_t),0<Nt.length&&(_t=new go(_t,e,null,a,G),Q.push({event:_t,listeners:Nt}),ct?_t.data=ct:(ct=tt(a),ct!==null&&(_t.data=ct)))),(ct=m?Te(e,a):kt(e,a))&&(_t=Fu(k,"onBeforeInput"),0<_t.length&&(Nt=new go("onBeforeInput","beforeinput",null,a,G),Q.push({event:Nt,listeners:_t}),Nt.data=ct)),XT(Q,e,k,a,G)}Ry(Q,i)})}function Yo(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Fu(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Zr(e,a),h!=null&&o.unshift(Yo(e,h,f)),h=Zr(e,i),h!=null&&o.push(Yo(e,h,f))),e.tag===3)return o;e=e.return}return[]}function Ta(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Cy(e,i,a,o,h){for(var f=i._reactName,v=[];a!==null&&a!==o;){var E=a,b=E.alternate,k=E.stateNode;if(E=E.tag,b!==null&&b===o)break;E!==5&&E!==26&&E!==27||k===null||(b=k,h?(k=Zr(a,f),k!=null&&v.unshift(Yo(a,k,b))):h||(k=Zr(a,f),k!=null&&v.push(Yo(a,k,b)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var WT=/\r\n?/g,tA=/\u0000|\uFFFD/g;function Iy(e){return(typeof e=="string"?e:""+e).replace(WT,`
`).replace(tA,"")}function Dy(e,i){return i=Iy(i),Iy(e)===i}function Qu(){}function Zt(e,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||yn(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&yn(e,""+o);break;case"className":Fn(e,"class",o);break;case"tabIndex":Fn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Fn(e,a,o);break;case"style":lo(e,o,f);break;case"data":if(i!=="object"){Fn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=qs(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Zt(e,i,"name",h.name,h,null),Zt(e,i,"formEncType",h.formEncType,h,null),Zt(e,i,"formMethod",h.formMethod,h,null),Zt(e,i,"formTarget",h.formTarget,h,null)):(Zt(e,i,"encType",h.encType,h,null),Zt(e,i,"method",h.method,h,null),Zt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=qs(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Qu);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=qs(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),$i(e,"popover",o);break;case"xlinkActuate":xe(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":xe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":xe(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":xe(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":xe(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":xe(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":xe(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":xe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":xe(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":$i(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=dh.get(a)||a,$i(e,a,o))}}function Ff(e,i,a,o,h,f){switch(a){case"style":lo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?yn(e,o):(typeof o=="number"||typeof o=="bigint")&&yn(e,""+o);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Qu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ls.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=e[ge]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):$i(e,a,o)}}}function ke(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Zt(e,i,f,v,a,null)}}h&&Zt(e,i,"srcSet",a.srcSet,a,null),o&&Zt(e,i,"src",a.src,a,null);return;case"input":Vt("invalid",e);var E=f=v=h=null,b=null,k=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":v=G;break;case"checked":b=G;break;case"defaultChecked":k=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Zt(e,i,o,G,a,null)}}Yr(e,f,E,b,k,v,h,!1),js(e);return;case"select":Vt("invalid",e),o=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:Zt(e,i,h,E,a,null)}i=f,a=v,e.multiple=!!o,i!=null?yi(e,!!o,i,!1):a!=null&&yi(e,!!o,a,!0);return;case"textarea":Vt("invalid",e),f=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Zt(e,i,v,E,a,null)}Xr(e,o,h,f),js(e);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(o=a[b],o!=null))switch(b){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Zt(e,i,b,o,a,null)}return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(o=0;o<Ko.length;o++)Vt(Ko[o],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(o=a[k],o!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Zt(e,i,k,o,a,null)}return;default:if(uo(i)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&Ff(e,i,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Zt(e,i,E,o,a,null))}function eA(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,E=null,b=null,k=null,G=null;for(B in a){var Q=a[B];if(a.hasOwnProperty(B)&&Q!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=Q;default:o.hasOwnProperty(B)||Zt(e,i,B,null,o,Q)}}for(var z in o){var B=o[z];if(Q=a[z],o.hasOwnProperty(z)&&(B!=null||Q!=null))switch(z){case"type":f=B;break;case"name":h=B;break;case"checked":k=B;break;case"defaultChecked":G=B;break;case"value":v=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:B!==Q&&Zt(e,i,z,B,o,Q)}}on(e,v,E,b,k,G,f,h);return;case"select":B=v=E=z=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":B=b;default:o.hasOwnProperty(f)||Zt(e,i,f,null,o,b)}for(h in o)if(f=o[h],b=a[h],o.hasOwnProperty(h)&&(f!=null||b!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==b&&Zt(e,i,h,f,o,b)}i=E,a=v,o=B,z!=null?yi(e,!!a,z,!1):!!o!=!!a&&(i!=null?yi(e,!!a,i,!0):yi(e,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,i,E,null,o,h)}for(v in o)if(h=o[v],f=a[v],o.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Zt(e,i,v,h,o,f)}Xt(e,z,B);return;case"option":for(var vt in a)if(z=a[vt],a.hasOwnProperty(vt)&&z!=null&&!o.hasOwnProperty(vt))switch(vt){case"selected":e.selected=!1;break;default:Zt(e,i,vt,null,o,z)}for(b in o)if(z=o[b],B=a[b],o.hasOwnProperty(b)&&z!==B&&(z!=null||B!=null))switch(b){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Zt(e,i,b,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in a)z=a[mt],a.hasOwnProperty(mt)&&z!=null&&!o.hasOwnProperty(mt)&&Zt(e,i,mt,null,o,z);for(k in o)if(z=o[k],B=a[k],o.hasOwnProperty(k)&&z!==B&&(z!=null||B!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Zt(e,i,k,z,o,B)}return;default:if(uo(i)){for(var Jt in a)z=a[Jt],a.hasOwnProperty(Jt)&&z!==void 0&&!o.hasOwnProperty(Jt)&&Ff(e,i,Jt,void 0,o,z);for(G in o)z=o[G],B=a[G],!o.hasOwnProperty(G)||z===B||z===void 0&&B===void 0||Ff(e,i,G,z,o,B);return}}for(var P in a)z=a[P],a.hasOwnProperty(P)&&z!=null&&!o.hasOwnProperty(P)&&Zt(e,i,P,null,o,z);for(Q in o)z=o[Q],B=a[Q],!o.hasOwnProperty(Q)||z===B||z==null&&B==null||Zt(e,i,Q,z,o,B)}var Qf=null,Kf=null;function Ku(e){return e.nodeType===9?e:e.ownerDocument}function Oy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ny(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Yf(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Xf=null;function nA(){var e=window.event;return e&&e.type==="popstate"?e===Xf?!1:(Xf=e,!0):(Xf=null,!1)}var My=typeof setTimeout=="function"?setTimeout:void 0,iA=typeof clearTimeout=="function"?clearTimeout:void 0,Vy=typeof Promise=="function"?Promise:void 0,rA=typeof queueMicrotask=="function"?queueMicrotask:typeof Vy<"u"?function(e){return Vy.resolve(null).then(e).catch(sA)}:My;function sA(e){setTimeout(function(){throw e})}function mr(e){return e==="head"}function xy(e,i){var a=i,o=0,h=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<o&&8>o){a=o;var v=e.ownerDocument;if(a&1&&Xo(v.documentElement),a&2&&Xo(v.body),a&4)for(a=v.head,Xo(a),v=a.firstChild;v;){var E=v.nextSibling,b=v.nodeName;v[Gr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){e.removeChild(f),il(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=f}while(a);il(i)}function $f(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":$f(a),Xi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function aA(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Gr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function oA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ln(e.nextSibling),e===null))return null;return e}function Zf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function lA(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Ln(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var Jf=null;function Py(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function Uy(e,i,a){switch(i=Ku(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Xo(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Xi(e)}var Cn=new Map,Ly=new Set;function Yu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ui=et.d;et.d={f:uA,r:cA,D:hA,C:fA,L:dA,m:mA,X:pA,S:gA,M:yA};function uA(){var e=Ui.f(),i=zu();return e||i}function cA(e){var i=Hn(e);i!==null&&i.tag===5&&i.type==="form"?ip(i):Ui.r(e)}var Aa=typeof document>"u"?null:document;function ky(e,i,a){var o=Aa;if(o&&typeof i=="string"&&i){var h=pe(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Ly.has(h)||(Ly.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),ke(i,"link",e),he(i),o.head.appendChild(i)))}}function hA(e){Ui.D(e),ky("dns-prefetch",e,null)}function fA(e,i){Ui.C(e,i),ky("preconnect",e,i)}function dA(e,i,a){Ui.L(e,i,a);var o=Aa;if(o&&e&&i){var h='link[rel="preload"][as="'+pe(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+pe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+pe(a.imageSizes)+'"]')):h+='[href="'+pe(e)+'"]';var f=h;switch(i){case"style":f=Sa(e);break;case"script":f=ba(e)}Cn.has(f)||(e=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Cn.set(f,e),o.querySelector(h)!==null||i==="style"&&o.querySelector($o(f))||i==="script"&&o.querySelector(Zo(f))||(i=o.createElement("link"),ke(i,"link",e),he(i),o.head.appendChild(i)))}}function mA(e,i){Ui.m(e,i);var a=Aa;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+pe(o)+'"][href="'+pe(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ba(e)}if(!Cn.has(f)&&(e=T({rel:"modulepreload",href:e},i),Cn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Zo(f)))return}o=a.createElement("link"),ke(o,"link",e),he(o),a.head.appendChild(o)}}}function gA(e,i,a){Ui.S(e,i,a);var o=Aa;if(o&&e){var h=Ze(o).hoistableStyles,f=Sa(e);i=i||"default";var v=h.get(f);if(!v){var E={loading:0,preload:null};if(v=o.querySelector($o(f)))E.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Cn.get(f))&&Wf(e,a);var b=v=o.createElement("link");he(b),ke(b,"link",e),b._p=new Promise(function(k,G){b.onload=k,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Xu(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(f,v)}}}function pA(e,i){Ui.X(e,i);var a=Aa;if(a&&e){var o=Ze(a).hoistableScripts,h=ba(e),f=o.get(h);f||(f=a.querySelector(Zo(h)),f||(e=T({src:e,async:!0},i),(i=Cn.get(h))&&td(e,i),f=a.createElement("script"),he(f),ke(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function yA(e,i){Ui.M(e,i);var a=Aa;if(a&&e){var o=Ze(a).hoistableScripts,h=ba(e),f=o.get(h);f||(f=a.querySelector(Zo(h)),f||(e=T({src:e,async:!0,type:"module"},i),(i=Cn.get(h))&&td(e,i),f=a.createElement("script"),he(f),ke(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function zy(e,i,a,o){var h=(h=yt.current)?Yu(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Sa(a.href),a=Ze(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Sa(a.href);var f=Ze(h).hoistableStyles,v=f.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=h.querySelector($o(e)))&&!f._p&&(v.instance=f,v.state.loading=5),Cn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Cn.set(e,a),f||_A(h,e,a,v.state))),i&&o===null)throw Error(s(528,""));return v}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ba(a),a=Ze(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Sa(e){return'href="'+pe(e)+'"'}function $o(e){return'link[rel="stylesheet"]['+e+"]"}function By(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function _A(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),ke(i,"link",a),he(i),e.head.appendChild(i))}function ba(e){return'[src="'+pe(e)+'"]'}function Zo(e){return"script[async]"+e}function jy(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+pe(a.href)+'"]');if(o)return i.instance=o,he(o),o;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),he(o),ke(o,"style",h),Xu(o,a.precedence,e),i.instance=o;case"stylesheet":h=Sa(a.href);var f=e.querySelector($o(h));if(f)return i.state.loading|=4,i.instance=f,he(f),f;o=By(a),(h=Cn.get(h))&&Wf(o,h),f=(e.ownerDocument||e).createElement("link"),he(f);var v=f;return v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),ke(f,"link",o),i.state.loading|=4,Xu(f,a.precedence,e),i.instance=f;case"script":return f=ba(a.src),(h=e.querySelector(Zo(f)))?(i.instance=h,he(h),h):(o=a,(h=Cn.get(f))&&(o=T({},a),td(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),he(h),ke(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Xu(o,a.precedence,e));return i.instance}function Xu(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Wf(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function td(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var $u=null;function qy(e,i,a){if($u===null){var o=new Map,h=$u=new Map;h.set(a,o)}else h=$u,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[Gr]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(i)||"";v=e+v;var E=o.get(v);E?E.push(f):o.set(v,[f])}}return o}function Hy(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function vA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Gy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Jo=null;function EA(){}function TA(e,i,a){if(Jo===null)throw Error(s(475));var o=Jo;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Sa(a.href),f=e.querySelector($o(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Zu.bind(o),e.then(o,o)),i.state.loading|=4,i.instance=f,he(f);return}f=e.ownerDocument||e,a=By(a),(h=Cn.get(h))&&Wf(a,h),f=f.createElement("link"),he(f);var v=f;v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),ke(f,"link",a),i.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=Zu.bind(o),e.addEventListener("load",i),e.addEventListener("error",i))}}function AA(){if(Jo===null)throw Error(s(475));var e=Jo;return e.stylesheets&&e.count===0&&ed(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&ed(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Zu(){if(this.count--,this.count===0){if(this.stylesheets)ed(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ju=null;function ed(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ju=new Map,i.forEach(SA,e),Ju=null,Zu.call(e))}function SA(e,i){if(!(i.state.loading&4)){var a=Ju.get(e);if(a)var o=a.get(null);else{a=new Map,Ju.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||o,f===o&&a.set(null,h),a.set(v,h),this.count++,o=Zu.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Wo={$$typeof:at,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function bA(e,i,a,o,h,f,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Fy(e,i,a,o,h,f,v,E,b,k,G,Q){return e=new bA(e,i,a,v,E,b,k,Q),i=1,f===!0&&(i|=24),f=un(3,null,null,i),e.current=f,f.stateNode=e,i=Ph(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},zh(f),e}function Qy(e){return e?(e=ea,e):ea}function Ky(e,i,a,o,h,f){h=Qy(h),o.context===null?o.context=h:o.pendingContext=h,o=er(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=nr(e,o,i),a!==null&&(mn(a,e,i),Do(a,e,i))}function Yy(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function nd(e,i){Yy(e,i),(e=e.alternate)&&Yy(e,i)}function Xy(e){if(e.tag===13){var i=ta(e,67108864);i!==null&&mn(i,e,67108864),nd(e,67108864)}}var Wu=!0;function RA(e,i,a,o){var h=H.T;H.T=null;var f=et.p;try{et.p=2,id(e,i,a,o)}finally{et.p=f,H.T=h}}function wA(e,i,a,o){var h=H.T;H.T=null;var f=et.p;try{et.p=8,id(e,i,a,o)}finally{et.p=f,H.T=h}}function id(e,i,a,o){if(Wu){var h=rd(o);if(h===null)Gf(e,i,o,tc,a),Zy(e,o);else if(IA(h,e,i,a,o))o.stopPropagation();else if(Zy(e,o),i&4&&-1<CA.indexOf(e)){for(;h!==null;){var f=Hn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Mn(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var b=1<<31-He(v);E.entanglements[1]|=b,v&=~b}ii(f),(Kt&6)===0&&(Lu=gn()+500,Qo(0))}}break;case 13:E=ta(f,2),E!==null&&mn(E,f,2),zu(),nd(f,2)}if(f=rd(o),f===null&&Gf(e,i,o,tc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Gf(e,i,o,null,a)}}function rd(e){return e=_n(e),sd(e)}var tc=null;function sd(e){if(tc=null,e=mi(e),e!==null){var i=c(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=d(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return tc=e,null}function $y(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oh()){case $a:return 2;case Vs:return 8;case zr:case lh:return 32;case xs:return 268435456;default:return 32}default:return 32}}var ad=!1,gr=null,pr=null,yr=null,tl=new Map,el=new Map,_r=[],CA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zy(e,i){switch(e){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":tl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":el.delete(i.pointerId)}}function nl(e,i,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Hn(i),i!==null&&Xy(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function IA(e,i,a,o,h){switch(i){case"focusin":return gr=nl(gr,e,i,a,o,h),!0;case"dragenter":return pr=nl(pr,e,i,a,o,h),!0;case"mouseover":return yr=nl(yr,e,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return tl.set(f,nl(tl.get(f)||null,e,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,el.set(f,nl(el.get(f)||null,e,i,a,o,h)),!0}return!1}function Jy(e){var i=mi(e.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){e.blockedOn=i,zl(e.priority,function(){if(a.tag===13){var o=dn();o=Qi(o);var h=ta(a,o);h!==null&&mn(h,a,o),nd(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ec(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=rd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);_i=o,a.target.dispatchEvent(o),_i=null}else return i=Hn(a),i!==null&&Xy(i),e.blockedOn=a,!1;i.shift()}return!0}function Wy(e,i,a){ec(e)&&a.delete(i)}function DA(){ad=!1,gr!==null&&ec(gr)&&(gr=null),pr!==null&&ec(pr)&&(pr=null),yr!==null&&ec(yr)&&(yr=null),tl.forEach(Wy),el.forEach(Wy)}function nc(e,i){e.blockedOn===i&&(e.blockedOn=null,ad||(ad=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,DA)))}var ic=null;function t_(e){ic!==e&&(ic=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ic===e&&(ic=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(sd(o||a)===null)continue;break}var f=Hn(a);f!==null&&(e.splice(i,3),i-=3,sf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function il(e){function i(b){return nc(b,e)}gr!==null&&nc(gr,e),pr!==null&&nc(pr,e),yr!==null&&nc(yr,e),tl.forEach(i),el.forEach(i);for(var a=0;a<_r.length;a++){var o=_r[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<_r.length&&(a=_r[0],a.blockedOn===null);)Jy(a),a.blockedOn===null&&_r.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],v=h[ge]||null;if(typeof f=="function")v||t_(a);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[ge]||null)E=v.formAction;else if(sd(h)!==null)continue}else E=v.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),t_(a)}}}function od(e){this._internalRoot=e}rc.prototype.render=od.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=dn();Ky(a,o,e,i,null,null)},rc.prototype.unmount=od.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Ky(e.current,2,null,e,null,null),zu(),i[pn]=null}};function rc(e){this._internalRoot=e}rc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Ki();e={blockedOn:null,target:e,priority:i};for(var a=0;a<_r.length&&i!==0&&i<_r[a].priority;a++);_r.splice(a,0,e),a===0&&Jy(e)}};var e_=t.version;if(e_!=="19.1.0")throw Error(s(527,e_,"19.1.0"));et.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(i),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var OA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{oe=sc.inject(OA),Qt=sc}catch{}}return sl.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=yp,f=_p,v=vp,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=Fy(e,1,!1,null,null,a,o,h,f,v,E,null),e[pn]=i.current,Hf(e),new od(i)},sl.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=yp,v=_p,E=vp,b=null,k=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(k=a.formState)),i=Fy(e,1,!0,i,a??null,o,h,f,v,E,b,k),i.context=Qy(null),a=i.current,o=dn(),o=Qi(o),h=er(o),h.callback=null,nr(a,h,o),a=o,i.current.lanes=a,di(i,a),ii(i),e[pn]=i.current,Hf(e),new rc(i)},sl.version="19.1.0",sl}var h_;function HA(){if(h_)return cd.exports;h_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),cd.exports=qA(),cd.exports}var GA=HA();const Lv=Rt.createContext(void 0);function qa(){const r=Rt.useContext(Lv);if(!r)throw new Error("useFactorsContext must be used within a FactorsProvider");return r}const kv=Rt.createContext(void 0);function Jd(){const r=Rt.useContext(kv);if(!r)throw new Error("useSoundPlayerContext must be used within a SoundPlayerProvider");return r}const FA=()=>{const{factors:r,setFactors:t}=qa(),{incrementStreak:n}=Jd(),s=Rt.useMemo(()=>r.factor2.toString().length,[r.factor2]),l=Rt.useMemo(()=>r.product.toString().length,[r.product]),c=Rt.useMemo(()=>r.numGridCorrect===r.productGridList.length,[r.numGridCorrect]),d=Rt.useMemo(()=>r.factor2.toString().length>1,[r.product]),[g,p]=Rt.useState(()=>Array.from({length:s},()=>Array.from({length:l},()=>""))),[_,T]=Rt.useState(!1);Rt.useEffect(()=>{var K;(((K=r.nextCarry())==null?void 0:K.order)??-1)===r.numGridCorrect?T(!0):T(!1)},[r.numGridCorrect,s,l,r.carryList,r.numCarryCorrect]),Rt.useEffect(()=>{p(Array.from({length:s},()=>Array.from({length:l},()=>"")))},[r.resetCounter,s,l]);const C=(K,J)=>{const $=l-1-r.numGridCorrect%l,rt=Math.floor(r.numGridCorrect/l);return _?!0:!(J===$&&K===rt)},D=()=>{let K=!0;const J=r.numGridCorrect+1,$=l*Math.ceil(J/l);for(let rt=J;rt<$;rt++)r.productGridList[rt]!==0&&(K=!1);if(K)for(let rt=J;rt<$;rt++)r.correctGrid(),t(r.clone())},q=(K,J,$)=>{let rt="";K.target.value!==""&&(rt=Number(K.target.value)),(rt===""||rt<10)&&p(st=>{const at=st.map(bt=>[...bt]);return at[J][$]=rt,at}),rt===r.productGridList[r.numGridCorrect]&&(D(),r.correctGrid(),t(r.clone()),n())};return ft.jsxs("div",{className:"flex flex-row items-end",children:[ft.jsx("div",{className:`leading-none text-[10vh] font-bold text-[rgb(20,128,223)] ${!c||!d?"invisible":""}`,children:"+"}),ft.jsx("div",{className:"h-auto flex flex-col gap-2",children:g.map((K,J)=>ft.jsx("div",{className:"h-auto flex flex-row gap-2 justify-end",children:K.map(($,rt)=>{var st;return ft.jsx("input",{className:` product-grid-cell ${C(J,rt)?"bg-gray-500":""}`,type:"number",value:((st=g[J])==null?void 0:st[rt])??"",readOnly:C(J,rt),onChange:at=>q(at,J,rt)},`${J}-${rt}`)})},J))})]})},QA=()=>{const{setFactors:r,factors:t}=qa(),{incrementStreak:n}=Jd(),s=Rt.useMemo(()=>t.product.toString().length,[t.product]),[l,c]=Rt.useState(()=>Array.from({length:s},()=>""));Rt.useEffect(()=>{t.numGridCorrect%s===0&&c(Array.from({length:s},()=>""))},[t.numGridCorrect,t.resetCounter,s]);const d=p=>{if(l[p]!="")return!0;const _=t.nextCarry();return!(_===void 0||_.place!==p||_.order!==t.numGridCorrect)},g=(p,_)=>{let T="";p.target.value!==""&&(T=Number(p.target.value));const C=[...l];C[_]=T,(T===""||T<10)&&c(C);const D=t.nextCarry();D!=null&&T===D.value&&(t.correctCarry(),r(t.clone()),n())};return ft.jsx("div",{children:l.map((p,_)=>ft.jsx("input",{className:`product-grid-cell ${d(_)?"":"invisible"} `,type:"number",value:l[_],onChange:T=>g(T,_)},_))})},zv=Rt.createContext(void 0);function qc(){const r=Rt.useContext(zv);if(!r)throw new Error("useUserDataContext must be used within a userUserDataProvider");return r}var md,f_;function KA(){if(f_)return md;f_=1;var r="Expected a function",t=NaN,n="[object Symbol]",s=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,d=/^0o[0-7]+$/i,g=parseInt,p=typeof ac=="object"&&ac&&ac.Object===Object&&ac,_=typeof self=="object"&&self&&self.Object===Object&&self,T=p||_||Function("return this")(),C=Object.prototype,D=C.toString,q=Math.max,K=Math.min,J=function(){return T.Date.now()};function $(it,dt,N){var S,R,M,V,x,w,re=0,ee=!1,H=!1,et=!0;if(typeof it!="function")throw new TypeError(r);dt=bt(dt)||0,rt(N)&&(ee=!!N.leading,H="maxWait"in N,M=H?q(bt(N.maxWait)||0,dt):M,et="trailing"in N?!!N.trailing:et);function ut(Ot){var Ut=S,qe=R;return S=R=void 0,re=Ot,V=it.apply(qe,Ut),V}function jt(Ot){return re=Ot,x=setTimeout(nt,dt),ee?ut(Ot):V}function I(Ot){var Ut=Ot-w,qe=Ot-re,Nn=dt-Ut;return H?K(Nn,M-qe):Nn}function X(Ot){var Ut=Ot-w,qe=Ot-re;return w===void 0||Ut>=dt||Ut<0||H&&qe>=M}function nt(){var Ot=J();if(X(Ot))return W(Ot);x=setTimeout(nt,I(Ot))}function W(Ot){return x=void 0,et&&S?ut(Ot):(S=R=void 0,V)}function ht(){x!==void 0&&clearTimeout(x),re=0,S=w=R=x=void 0}function Ct(){return x===void 0?V:W(J())}function yt(){var Ot=J(),Ut=X(Ot);if(S=arguments,R=this,w=Ot,Ut){if(x===void 0)return jt(w);if(H)return x=setTimeout(nt,dt),ut(w)}return x===void 0&&(x=setTimeout(nt,dt)),V}return yt.cancel=ht,yt.flush=Ct,yt}function rt(it){var dt=typeof it;return!!it&&(dt=="object"||dt=="function")}function st(it){return!!it&&typeof it=="object"}function at(it){return typeof it=="symbol"||st(it)&&D.call(it)==n}function bt(it){if(typeof it=="number")return it;if(at(it))return t;if(rt(it)){var dt=typeof it.valueOf=="function"?it.valueOf():it;it=rt(dt)?dt+"":dt}if(typeof it!="string")return it===0?it:+it;it=it.replace(s,"");var N=c.test(it);return N||d.test(it)?g(it.slice(2),N?2:8):l.test(it)?t:+it}return md=$,md}var YA=KA();const XA=xA(YA),$A=()=>{};var d_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},ZA=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[n++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[n++],d=r[n++],g=r[n++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[n++],d=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},jv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,p=l+2<r.length,_=p?r[l+2]:0,T=c>>2,C=(c&3)<<4|g>>4;let D=(g&15)<<2|_>>6,q=_&63;p||(q=64,d||(D=64)),s.push(n[T],n[C],n[D],n[q])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Bv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):ZA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const _=l<r.length?n[r.charAt(l)]:64;++l;const C=l<r.length?n[r.charAt(l)]:64;if(++l,c==null||g==null||_==null||C==null)throw new JA;const D=c<<2|g>>4;if(s.push(D),_!==64){const q=g<<4&240|_>>2;if(s.push(q),C!==64){const K=_<<6&192|C;s.push(K)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class JA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WA=function(r){const t=Bv(r);return jv.encodeByteArray(t,!0)},Ac=function(r){return WA(r).replace(/\./g,"")},qv=function(r){try{return jv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=()=>tS().__FIREBASE_DEFAULTS__,nS=()=>{if(typeof process>"u"||typeof d_>"u")return;const r=d_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},iS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&qv(r[1]);return t&&JSON.parse(t)},Hc=()=>{try{return $A()||eS()||nS()||iS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Hv=r=>{var t,n;return(n=(t=Hc())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},rS=r=>{const t=Hv(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},Gv=()=>{var r;return(r=Hc())===null||r===void 0?void 0:r.config},Fv=r=>{var t;return(t=Hc())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(r){return r.endsWith(".cloudworkstations.dev")}async function Qv(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Ac(JSON.stringify(n)),Ac(JSON.stringify(d)),""].join(".")}const ul={};function oS(){const r={prod:[],emulator:[]};for(const t of Object.keys(ul))ul[t]?r.emulator.push(t):r.prod.push(t);return r}function lS(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let m_=!1;function Gc(r,t){if(typeof window>"u"||typeof document>"u"||!Rl(window.location.host)||ul[r]===t||ul[r]||m_)return;ul[r]=t;function n(D){return`__firebase__banner__${D}`}const s="__firebase__banner",c=oS().prod.length>0;function d(){const D=document.getElementById(s);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function p(D,q){D.setAttribute("width","24"),D.setAttribute("id",q),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{m_=!0,d()},D}function T(D,q){D.setAttribute("id",q),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function C(){const D=lS(s),q=n("text"),K=document.getElementById(q)||document.createElement("span"),J=n("learnmore"),$=document.getElementById(J)||document.createElement("a"),rt=n("preprendIcon"),st=document.getElementById(rt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const at=D.element;g(at),T($,J);const bt=_();p(st,rt),at.append(st,K,$,bt),document.body.appendChild(at)}c?(K.innerText="Preview backend disconnected.",st.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(st.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function cS(){var r;const t=(r=Hc())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function dS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mS(){const r=$e();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function gS(){return!cS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pS(){try{return typeof indexedDB=="object"}catch{return!1}}function yS(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="FirebaseError";class Fi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=_S,Object.setPrototypeOf(this,Fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wl.prototype.create)}}class wl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?vS(c,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Fi(l,g,s)}}function vS(r,t){return r.replace(ES,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const ES=/\{\$([^}]+)}/g;function TS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function bs(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const c=r[l],d=t[l];if(g_(c)&&g_(d)){if(!bs(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function g_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function AS(r,t){const n=new SS(r,t);return n.subscribe.bind(n)}class SS{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");bS(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=gd),l.error===void 0&&(l.error=gd),l.complete===void 0&&(l.complete=gd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bS(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function gd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(r){return r&&r._delegate?r._delegate:r}class Rs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new sS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(CS(t))try{this.getOrInitializeService({instanceIdentifier:vs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=vs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=vs){return this.instances.has(t)}getOptions(t=vs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(l)}return l}onInit(t,n){var s;const l=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&t(d,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:wS(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=vs){return this.component?this.component.multipleInstances?t:vs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wS(r){return r===vs?void 0:r}function CS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new RS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(xt||(xt={}));const DS={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},OS=xt.INFO,NS={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},MS=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=NS[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Wd{constructor(t){this.name=t,this._logLevel=OS,this._logHandler=MS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in xt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?DS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...t),this._logHandler(this,xt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...t),this._logHandler(this,xt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...t),this._logHandler(this,xt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...t),this._logHandler(this,xt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...t),this._logHandler(this,xt.ERROR,...t)}}const VS=(r,t)=>t.some(n=>r instanceof n);let p_,y_;function xS(){return p_||(p_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PS(){return y_||(y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kv=new WeakMap,Cd=new WeakMap,Yv=new WeakMap,pd=new WeakMap,tm=new WeakMap;function US(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{n(Rr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&Kv.set(n,r)}).catch(()=>{}),tm.set(t,r),t}function LS(r){if(Cd.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Cd.set(r,t)}let Id={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Cd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Yv.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function kS(r){Id=r(Id)}function zS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(yd(this),t,...n);return Yv.set(s,t.sort?t.sort():[t]),Rr(s)}:PS().includes(r)?function(...t){return r.apply(yd(this),t),Rr(Kv.get(this))}:function(...t){return Rr(r.apply(yd(this),t))}}function BS(r){return typeof r=="function"?zS(r):(r instanceof IDBTransaction&&LS(r),VS(r,xS())?new Proxy(r,Id):r)}function Rr(r){if(r instanceof IDBRequest)return US(r);if(pd.has(r))return pd.get(r);const t=BS(r);return t!==r&&(pd.set(r,t),tm.set(t,r)),t}const yd=r=>tm.get(r);function jS(r,t,{blocked:n,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),g=Rr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Rr(d.result),p.oldVersion,p.newVersion,Rr(d.transaction),p)}),n&&d.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const qS=["get","getKey","getAll","getAllKeys","count"],HS=["put","add","delete","clear"],_d=new Map;function __(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(_d.get(t))return _d.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=HS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||qS.includes(n)))return;const c=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let _=p.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),l&&p.done]))[0]};return _d.set(t,c),c}kS(r=>({...r,get:(t,n,s)=>__(t,n)||r.get(t,n,s),has:(t,n)=>!!__(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function FS(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Dd="@firebase/app",v_="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=new Wd("@firebase/app"),QS="@firebase/app-compat",KS="@firebase/analytics-compat",YS="@firebase/analytics",XS="@firebase/app-check-compat",$S="@firebase/app-check",ZS="@firebase/auth",JS="@firebase/auth-compat",WS="@firebase/database",t1="@firebase/data-connect",e1="@firebase/database-compat",n1="@firebase/functions",i1="@firebase/functions-compat",r1="@firebase/installations",s1="@firebase/installations-compat",a1="@firebase/messaging",o1="@firebase/messaging-compat",l1="@firebase/performance",u1="@firebase/performance-compat",c1="@firebase/remote-config",h1="@firebase/remote-config-compat",f1="@firebase/storage",d1="@firebase/storage-compat",m1="@firebase/firestore",g1="@firebase/vertexai",p1="@firebase/firestore-compat",y1="firebase",_1="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od="[DEFAULT]",v1={[Dd]:"fire-core",[QS]:"fire-core-compat",[YS]:"fire-analytics",[KS]:"fire-analytics-compat",[$S]:"fire-app-check",[XS]:"fire-app-check-compat",[ZS]:"fire-auth",[JS]:"fire-auth-compat",[WS]:"fire-rtdb",[t1]:"fire-data-connect",[e1]:"fire-rtdb-compat",[n1]:"fire-fn",[i1]:"fire-fn-compat",[r1]:"fire-iid",[s1]:"fire-iid-compat",[a1]:"fire-fcm",[o1]:"fire-fcm-compat",[l1]:"fire-perf",[u1]:"fire-perf-compat",[c1]:"fire-rc",[h1]:"fire-rc-compat",[f1]:"fire-gcs",[d1]:"fire-gcs-compat",[m1]:"fire-fst",[p1]:"fire-fst-compat",[g1]:"fire-vertex","fire-js":"fire-js",[y1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc=new Map,E1=new Map,Nd=new Map;function E_(r,t){try{r.container.addComponent(t)}catch(n){ji.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Va(r){const t=r.name;if(Nd.has(t))return ji.debug(`There were multiple attempts to register component ${t}.`),!1;Nd.set(t,r);for(const n of Sc.values())E_(n,r);for(const n of E1.values())E_(n,r);return!0}function em(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function kn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wr=new wl("app","Firebase",T1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=_1;function Xv(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Od,automaticDataCollectionEnabled:!1},t),l=s.name;if(typeof l!="string"||!l)throw wr.create("bad-app-name",{appName:String(l)});if(n||(n=Gv()),!n)throw wr.create("no-options");const c=Sc.get(l);if(c){if(bs(n,c.options)&&bs(s,c.config))return c;throw wr.create("duplicate-app",{appName:l})}const d=new IS(l);for(const p of Nd.values())d.addComponent(p);const g=new A1(n,s,d);return Sc.set(l,g),g}function $v(r=Od){const t=Sc.get(r);if(!t&&r===Od&&Gv())return Xv();if(!t)throw wr.create("no-app",{appName:r});return t}function Cr(r,t,n){var s;let l=(s=v1[r])!==null&&s!==void 0?s:r;n&&(l+=`-${n}`);const c=l.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ji.warn(g.join(" "));return}Va(new Rs(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="firebase-heartbeat-database",b1=1,gl="firebase-heartbeat-store";let vd=null;function Zv(){return vd||(vd=jS(S1,b1,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(gl)}catch(n){console.warn(n)}}}}).catch(r=>{throw wr.create("idb-open",{originalErrorMessage:r.message})})),vd}async function R1(r){try{const n=(await Zv()).transaction(gl),s=await n.objectStore(gl).get(Jv(r));return await n.done,s}catch(t){if(t instanceof Fi)ji.warn(t.message);else{const n=wr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ji.warn(n.message)}}}async function T_(r,t){try{const s=(await Zv()).transaction(gl,"readwrite");await s.objectStore(gl).put(t,Jv(r)),await s.done}catch(n){if(n instanceof Fi)ji.warn(n.message);else{const s=wr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ji.warn(s.message)}}}function Jv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=1024,C1=30;class I1{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new O1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=A_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>C1){const d=N1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ji.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=A_(),{heartbeatsToSend:s,unsentEntries:l}=D1(this._heartbeatsCache.heartbeats),c=Ac(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return ji.warn(n),""}}}function A_(){return new Date().toISOString().substring(0,10)}function D1(r,t=w1){const n=[];let s=r.slice();for(const l of r){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),S_(n)>t){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),S_(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class O1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pS()?yS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await R1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return T_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return T_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function S_(r){return Ac(JSON.stringify({version:2,heartbeats:r})).length}function N1(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(r){Va(new Rs("platform-logger",t=>new GS(t),"PRIVATE")),Va(new Rs("heartbeat",t=>new I1(t),"PRIVATE")),Cr(Dd,v_,r),Cr(Dd,v_,"esm2017"),Cr("fire-js","")}M1("");var V1="firebase",x1="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr(V1,x1,"app");function nm(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(n[s[l]]=r[s[l]]);return n}function Wv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const P1=Wv,t0=new wl("auth","Firebase",Wv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=new Wd("@firebase/auth");function U1(r,...t){bc.logLevel<=xt.WARN&&bc.warn(`Auth (${Ha}): ${r}`,...t)}function dc(r,...t){bc.logLevel<=xt.ERROR&&bc.error(`Auth (${Ha}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(r,...t){throw rm(r,...t)}function jn(r,...t){return rm(r,...t)}function im(r,t,n){const s=Object.assign(Object.assign({},P1()),{[t]:n});return new wl("auth","Firebase",s).create(t,{appName:r.name})}function Ss(r){return im(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function L1(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&li(r,"argument-error"),im(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rm(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return t0.create(r,...t)}function Tt(r,t,...n){if(!r)throw rm(t,...n)}function ki(r){const t="INTERNAL ASSERTION FAILED: "+r;throw dc(t),new Error(t)}function qi(r,t){r||ki(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function k1(){return b_()==="http:"||b_()==="https:"}function b_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(k1()||fS()||"connection"in navigator)?navigator.onLine:!0}function B1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(t,n){this.shortDelay=t,this.longDelay=n,qi(n>t,"Short delay should be less than long delay!"),this.isMobile=uS()||dS()}get(){return z1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(r,t){qi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],H1=new Il(3e4,6e4);function am(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Ga(r,t,n,s,l={}){return n0(r,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const g=Cl(Object.assign({key:r.config.apiKey},d)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:t,headers:p},c);return hS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Rl(r.emulatorConfig.host)&&(_.credentials="include"),e0.fetch()(await i0(r,r.config.apiHost,n,g),_)})}async function n0(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},j1),t);try{const l=new F1(r),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw oc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw oc(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw oc(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw oc(r,"user-disabled",d);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw im(r,T,_);li(r,T)}}catch(l){if(l instanceof Fi)throw l;li(r,"network-request-failed",{message:String(l)})}}async function G1(r,t,n,s,l={}){const c=await Ga(r,t,n,s,l);return"mfaPendingCredential"in c&&li(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function i0(r,t,n,s){const l=`${t}${n}?${s}`,c=r,d=c.config.emulator?sm(r.config,l):`${r.config.apiScheme}://${l}`;return q1.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class F1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(jn(this.auth,"network-request-failed")),H1.get())})}}function oc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=jn(r,t,s);return l.customData._tokenResponse=n,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q1(r,t){return Ga(r,"POST","/v1/accounts:delete",t)}async function Rc(r,t){return Ga(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function K1(r,t=!1){const n=On(r),s=await n.getIdToken(t),l=om(s);Tt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:s,authTime:cl(Ed(l.auth_time)),issuedAtTime:cl(Ed(l.iat)),expirationTime:cl(Ed(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Ed(r){return Number(r)*1e3}function om(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return dc("JWT malformed, contained fewer than 3 sections"),null;try{const l=qv(n);return l?JSON.parse(l):(dc("Failed to decode base64 JWT payload"),null)}catch(l){return dc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function R_(r){const t=om(r);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Fi&&Y1(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Y1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cl(this.lastLoginAt),this.creationTime=cl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(r){var t;const n=r.auth,s=await r.getIdToken(),l=await pl(r,Rc(n,{idToken:s}));Tt(l==null?void 0:l.users.length,n,"internal-error");const c=l.users[0];r._notifyReloadListener(c);const d=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?r0(c.providerUserInfo):[],g=Z1(r.providerData,d),p=r.isAnonymous,_=!(r.email&&c.passwordHash)&&!(g!=null&&g.length),T=p?_:!1,C={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new Vd(c.createdAt,c.lastLoginAt),isAnonymous:T};Object.assign(r,C)}async function $1(r){const t=On(r);await wc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Z1(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function r0(r){return r.map(t=>{var{providerId:n}=t,s=nm(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J1(r,t){const n=await n0(r,{},async()=>{const s=Cl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await i0(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",e0.fetch()(d,{method:"POST",headers:g,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function W1(r,t){return Ga(r,"POST","/v2/accounts:revokeToken",am(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):R_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const n=R_(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:c}=await J1(t,n);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:c}=n,d=new Da;return s&&(Tt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(Tt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Tt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Da,this.toJSON())}_performRefresh(){return ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(r,t){Tt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class zn{constructor(t){var{uid:n,auth:s,stsTokenManager:l}=t,c=nm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new X1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Vd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const n=await pl(this,this.stsTokenManager.getToken(this.auth,t));return Tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return K1(this,t)}reload(){return $1(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new zn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await wc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(Ss(this.auth));const t=await this.getIdToken();return await pl(this,Q1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,l,c,d,g,p,_,T;const C=(s=n.displayName)!==null&&s!==void 0?s:void 0,D=(l=n.email)!==null&&l!==void 0?l:void 0,q=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,K=(d=n.photoURL)!==null&&d!==void 0?d:void 0,J=(g=n.tenantId)!==null&&g!==void 0?g:void 0,$=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,rt=(_=n.createdAt)!==null&&_!==void 0?_:void 0,st=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:at,emailVerified:bt,isAnonymous:it,providerData:dt,stsTokenManager:N}=n;Tt(at&&N,t,"internal-error");const S=Da.fromJSON(this.name,N);Tt(typeof at=="string",t,"internal-error"),Er(C,t.name),Er(D,t.name),Tt(typeof bt=="boolean",t,"internal-error"),Tt(typeof it=="boolean",t,"internal-error"),Er(q,t.name),Er(K,t.name),Er(J,t.name),Er($,t.name),Er(rt,t.name),Er(st,t.name);const R=new zn({uid:at,auth:t,email:D,emailVerified:bt,displayName:C,isAnonymous:it,photoURL:K,phoneNumber:q,tenantId:J,stsTokenManager:S,createdAt:rt,lastLoginAt:st});return dt&&Array.isArray(dt)&&(R.providerData=dt.map(M=>Object.assign({},M))),$&&(R._redirectEventId=$),R}static async _fromIdTokenResponse(t,n,s=!1){const l=new Da;l.updateFromServerResponse(n);const c=new zn({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await wc(c),c}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];Tt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?r0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new Da;g.updateFromIdToken(s);const p=new zn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Vd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=new Map;function zi(r){qi(r instanceof Function,"Expected a class definition");let t=w_.get(r);return t?(qi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,w_.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}s0.type="NONE";const C_=s0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(r,t,n){return`firebase:${r}:${t}:${n}`}class Oa{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=mc(this.userKey,l.apiKey,c),this.fullPersistenceKey=mc("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Rc(this.auth,{idToken:t}).catch(()=>{});return n?zn._fromGetAccountInfoResponse(this.auth,n,t):null}return zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Oa(zi(C_),t,s);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||zi(C_);const d=mc(s,t.config.apiKey,t.name);let g=null;for(const _ of n)try{const T=await _._get(d);if(T){let C;if(typeof T=="string"){const D=await Rc(t,{idToken:T}).catch(()=>{});if(!D)break;C=await zn._fromGetAccountInfoResponse(t,D,T)}else C=zn._fromJSON(t,T);_!==c&&(g=C),c=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Oa(c,t,s):(c=p[0],g&&await c._set(d,g.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Oa(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(u0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(a0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(h0(t))return"Blackberry";if(f0(t))return"Webos";if(o0(t))return"Safari";if((t.includes("chrome/")||l0(t))&&!t.includes("edge/"))return"Chrome";if(c0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function a0(r=$e()){return/firefox\//i.test(r)}function o0(r=$e()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function l0(r=$e()){return/crios\//i.test(r)}function u0(r=$e()){return/iemobile/i.test(r)}function c0(r=$e()){return/android/i.test(r)}function h0(r=$e()){return/blackberry/i.test(r)}function f0(r=$e()){return/webos/i.test(r)}function lm(r=$e()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function tb(r=$e()){var t;return lm(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function eb(){return mS()&&document.documentMode===10}function d0(r=$e()){return lm(r)||c0(r)||f0(r)||h0(r)||/windows phone/i.test(r)||u0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(r,t=[]){let n;switch(r){case"Browser":n=I_($e());break;case"Worker":n=`${I_($e())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ha}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((d,g)=>{try{const p=t(c);d(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ib(r,t={}){return Ga(r,"GET","/v2/passwordPolicy",am(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=6;class sb{constructor(t){var n,s,l,c;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=d.minPasswordLength)!==null&&n!==void 0?n:rb,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,l,c,d,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new D_(this),this.idTokenSubscription=new D_(this),this.beforeStateQueue=new nb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=t0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=zi(n)),this._initializationPromise=this.queue(async()=>{var s,l,c;if(!this._deleted&&(this.persistenceManager=await Oa.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Rc(this,{idToken:t}),s=await zn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(kn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(t);(!d||d===g)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await wc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=B1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(kn(this.app))return Promise.reject(Ss(this));const n=t?On(t):null;return n&&Tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(Ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return kn(this.app)?Promise.reject(Ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ib(this),n=new sb(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new wl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await W1(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&zi(t)||this._popupRedirectResolver;Tt(n,this,"argument-error"),this.redirectPersistenceManager=await Oa.create(this,[zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,l);return()=>{d=!0,p()}}else{const p=t.addObserver(n);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=m0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var t;if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&U1(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Fc(r){return On(r)}class D_{constructor(t){this.auth=t,this.observer=null,this.addObserver=AS(n=>this.observer=n)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let um={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ob(r){um=r}function lb(r){return um.loadJS(r)}function ub(){return um.gapiScript}function cb(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(r,t){const n=em(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(bs(c,t??{}))return l;li(l,"already-initialized")}return n.initialize({options:t})}function fb(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(zi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function db(r,t,n){const s=Fc(r);Tt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=g0(t),{host:d,port:g}=mb(t),p=g===null?"":`:${g}`,_={url:`${c}//${d}${p}/`},T=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){Tt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Tt(bs(_,s.config.emulator)&&bs(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,Rl(d)?(Gc("Auth",!0),Qv(`${c}//${d}${p}`)):gb()}function g0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function mb(r){const t=g0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:O_(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:O_(d)}}}function O_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function gb(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ki("not implemented")}_getIdTokenResponse(t){return ki("not implemented")}_linkToIdToken(t,n){return ki("not implemented")}_getReauthenticationResolver(t){return ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Na(r,t){return G1(r,"POST","/v1/accounts:signInWithIdp",am(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="http://localhost";class ws extends p0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ws(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):li("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l}=n,c=nm(n,["providerId","signInMethod"]);if(!s||!l)return null;const d=new ws(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return Na(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Na(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Na(t,n)}buildRequest(){const t={requestUri:pb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Cl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl extends cm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends Dl{constructor(){super("facebook.com")}static credential(t){return ws._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Tr.credentialFromTaggedObject(t)}static credentialFromError(t){return Tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Tr.credential(t.oauthAccessToken)}catch{return null}}}Tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Tr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Dl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ws._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Li.credentialFromTaggedObject(t)}static credentialFromError(t){return Li.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Li.credential(n,s)}catch{return null}}}Li.GOOGLE_SIGN_IN_METHOD="google.com";Li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends Dl{constructor(){super("github.com")}static credential(t){return ws._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ar.credentialFromTaggedObject(t)}static credentialFromError(t){return Ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ar.credential(t.oauthAccessToken)}catch{return null}}}Ar.GITHUB_SIGN_IN_METHOD="github.com";Ar.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Dl{constructor(){super("twitter.com")}static credential(t,n){return ws._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Sr.credentialFromTaggedObject(t)}static credentialFromError(t){return Sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Sr.credential(n,s)}catch{return null}}}Sr.TWITTER_SIGN_IN_METHOD="twitter.com";Sr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const c=await zn._fromIdTokenResponse(t,s,l),d=N_(s);return new xa({user:c,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=N_(s);return new xa({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function N_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends Fi{constructor(t,n,s,l){var c;super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Cc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new Cc(t,n,s,l)}}function y0(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Cc._fromErrorAndOperation(r,c,t,s):c})}async function yb(r,t,n=!1){const s=await pl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return xa._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _b(r,t,n=!1){const{auth:s}=r;if(kn(s.app))return Promise.reject(Ss(s));const l="reauthenticate";try{const c=await pl(r,y0(s,l,t,r),n);Tt(c.idToken,s,"internal-error");const d=om(c.idToken);Tt(d,s,"internal-error");const{sub:g}=d;return Tt(r.uid===g,s,"user-mismatch"),xa._forOperation(r,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&li(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vb(r,t,n=!1){if(kn(r.app))return Promise.reject(Ss(r));const s="signIn",l=await y0(r,s,t),c=await xa._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(c.user),c}function Eb(r,t,n,s){return On(r).onIdTokenChanged(t,n,s)}function Tb(r,t,n){return On(r).beforeAuthStateChanged(t,n)}function Ab(r,t,n,s){return On(r).onAuthStateChanged(t,n,s)}function Sb(r){return On(r).signOut()}const Ic="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ic,"1"),this.storage.removeItem(Ic),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=1e3,Rb=10;class v0 extends _0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=d0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);eb()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Rb):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},bb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}v0.type="LOCAL";const wb=v0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0 extends _0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}E0.type="SESSION";const T0=E0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new Qc(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async _=>_(n.origin,c)),p=await Cb(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,p)=>{const _=hm("",20);l.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(C){const D=C;if(D.data.eventId===_)switch(D.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(D.data.response);break;default:clearTimeout(T),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(){return window}function Db(r){si().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(){return typeof si().WorkerGlobalScope<"u"&&typeof si().importScripts=="function"}async function Ob(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Nb(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function Mb(){return A0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="firebaseLocalStorageDb",Vb=1,Dc="firebaseLocalStorage",b0="fbase_key";class Ol{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kc(r,t){return r.transaction([Dc],t?"readwrite":"readonly").objectStore(Dc)}function xb(){const r=indexedDB.deleteDatabase(S0);return new Ol(r).toPromise()}function xd(){const r=indexedDB.open(S0,Vb);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Dc,{keyPath:b0})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Dc)?t(s):(s.close(),await xb(),t(await xd()))})})}async function M_(r,t,n){const s=Kc(r,!0).put({[b0]:t,value:n});return new Ol(s).toPromise()}async function Pb(r,t){const n=Kc(r,!1).get(t),s=await new Ol(n).toPromise();return s===void 0?null:s.value}function V_(r,t){const n=Kc(r,!0).delete(t);return new Ol(n).toPromise()}const Ub=800,Lb=3;class R0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>Lb)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return A0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qc._getInstance(Mb()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await Ob(),!this.activeServiceWorker)return;this.sender=new Ib(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Nb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await xd();return await M_(t,Ic,"1"),await V_(t,Ic),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>M_(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>Pb(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>V_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Kc(l,!1).getAll();return new Ol(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ub)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}R0.type="LOCAL";const kb=R0;new Il(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(r,t){return t?zi(t):(Tt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm extends p0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Na(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Na(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Na(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function zb(r){return vb(r.auth,new fm(r),r.bypassAuthState)}function Bb(r){const{auth:t,user:n}=r;return Tt(n,t,"internal-error"),_b(n,new fm(r),r.bypassAuthState)}async function jb(r){const{auth:t,user:n}=r;return Tt(n,t,"internal-error"),yb(n,new fm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(t,n,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return zb;case"linkViaPopup":case"linkViaRedirect":return jb;case"reauthViaPopup":case"reauthViaRedirect":return Bb;default:li(this.auth,"internal-error")}}resolve(t){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=new Il(2e3,1e4);async function Hb(r,t,n){if(kn(r.app))return Promise.reject(jn(r,"operation-not-supported-in-this-environment"));const s=Fc(r);L1(r,t,cm);const l=w0(s,n);return new Es(s,"signInViaPopup",t,l).executeNotNull()}class Es extends C0{constructor(t,n,s,l,c){super(t,n,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Es.currentPopupAction&&Es.currentPopupAction.cancel(),Es.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){qi(this.filter.length===1,"Popup operations only handle one event");const t=hm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Es.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,qb.get())};t()}}Es.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="pendingRedirect",gc=new Map;class Fb extends C0{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=gc.get(this.auth._key());if(!t){try{const s=await Qb(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}gc.set(this.auth._key(),t)}return this.bypassAuthState||gc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Qb(r,t){const n=Xb(t),s=Yb(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function Kb(r,t){gc.set(r._key(),t)}function Yb(r){return zi(r._redirectPersistence)}function Xb(r){return mc(Gb,r.config.apiKey,r.name)}async function $b(r,t,n=!1){if(kn(r.app))return Promise.reject(Ss(r));const s=Fc(r),l=w0(s,t),d=await new Fb(s,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb=10*60*1e3;class Jb{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Wb(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!I0(t)){const l=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(jn(this.auth,l))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Zb&&this.cachedEventUids.clear(),this.cachedEventUids.has(x_(t))}saveEventToCache(t){this.cachedEventUids.add(x_(t)),this.lastProcessedEventTime=Date.now()}}function x_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function I0({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Wb(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return I0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tR(r,t={}){return Ga(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nR=/^https?/;async function iR(r){if(r.config.emulator)return;const{authorizedDomains:t}=await tR(r);for(const n of t)try{if(rR(n))return}catch{}li(r,"unauthorized-domain")}function rR(r){const t=Md(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!nR.test(n))return!1;if(eR.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=new Il(3e4,6e4);function P_(){const r=si().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function aR(r){return new Promise((t,n)=>{var s,l,c;function d(){P_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{P_(),n(jn(r,"network-request-failed"))},timeout:sR.get()})}if(!((l=(s=si().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=si().gapi)===null||c===void 0)&&c.load)d();else{const g=cb("iframefcb");return si()[g]=()=>{gapi.load?d():n(jn(r,"network-request-failed"))},lb(`${ub()}?onload=${g}`).catch(p=>n(p))}}).catch(t=>{throw pc=null,t})}let pc=null;function oR(r){return pc=pc||aR(r),pc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=new Il(5e3,15e3),uR="__/auth/iframe",cR="emulator/auth/iframe",hR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dR(r){const t=r.config;Tt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?sm(t,cR):`https://${r.config.authDomain}/${uR}`,s={apiKey:t.apiKey,appName:r.name,v:Ha},l=fR.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Cl(s).slice(1)}`}async function mR(r){const t=await oR(r),n=si().gapi;return Tt(n,r,"internal-error"),t.open({where:document.body,url:dR(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hR,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=jn(r,"network-request-failed"),g=si().setTimeout(()=>{c(d)},lR.get());function p(){si().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pR=500,yR=600,_R="_blank",vR="http://localhost";class U_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ER(r,t,n,s=pR,l=yR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p=Object.assign(Object.assign({},gR),{width:s.toString(),height:l.toString(),top:c,left:d}),_=$e().toLowerCase();n&&(g=l0(_)?_R:n),a0(_)&&(t=t||vR,p.scrollbars="yes");const T=Object.entries(p).reduce((D,[q,K])=>`${D}${q}=${K},`,"");if(tb(_)&&g!=="_self")return TR(t||"",g),new U_(null);const C=window.open(t||"",g,T);Tt(C,r,"popup-blocked");try{C.focus()}catch{}return new U_(C)}function TR(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="__/auth/handler",SR="emulator/auth/handler",bR=encodeURIComponent("fac");async function L_(r,t,n,s,l,c){Tt(r.config.authDomain,r,"auth-domain-config-required"),Tt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ha,eventId:l};if(t instanceof cm){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",TS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,C]of Object.entries({}))d[T]=C}if(t instanceof Dl){const T=t.getScopes().filter(C=>C!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const p=await r._getAppCheckToken(),_=p?`#${bR}=${encodeURIComponent(p)}`:"";return`${RR(r)}?${Cl(g).slice(1)}${_}`}function RR({config:r}){return r.emulator?sm(r,SR):`https://${r.authDomain}/${AR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="webStorageSupport";class wR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=T0,this._completeRedirectFn=$b,this._overrideRedirectResult=Kb}async _openPopup(t,n,s,l){var c;qi((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await L_(t,n,s,Md(),l);return ER(t,d,hm())}async _openRedirect(t,n,s,l){await this._originValidation(t);const c=await L_(t,n,s,Md(),l);return Db(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(qi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await mR(t),s=new Jb(t);return n.register("authEvent",l=>(Tt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Td,{type:Td},l=>{var c;const d=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[Td];d!==void 0&&n(!!d),li(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iR(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return d0()||o0()||lm()}}const CR=wR;var k_="@firebase/auth",z_="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OR(r){Va(new Rs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;Tt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:m0(r)},_=new ab(s,l,c,p);return fb(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Va(new Rs("auth-internal",t=>{const n=Fc(t.getProvider("auth").getImmediate());return(s=>new IR(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cr(k_,z_,DR(r)),Cr(k_,z_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=5*60,MR=Fv("authIdTokenMaxAge")||NR;let B_=null;const VR=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>MR)return;const l=n==null?void 0:n.token;B_!==l&&(B_=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function xR(r=$v()){const t=em(r,"auth");if(t.isInitialized())return t.getImmediate();const n=hb(r,{popupRedirectResolver:CR,persistence:[kb,wb,T0]}),s=Fv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=VR(c.toString());Tb(n,d,()=>d(n.currentUser)),Eb(n,g=>d(g))}}const l=Hv("auth");return l?db(n,`http://${l}`):Gc("Auth",!1),n}function PR(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}ob({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=jn("internal-error");c.customData=l,n(c)},s.type="text/javascript",s.charset="UTF-8",PR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OR("Browser");var j_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ir,D0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,S){function R(){}R.prototype=S.prototype,N.D=S.prototype,N.prototype=new R,N.prototype.constructor=N,N.C=function(M,V,x){for(var w=Array(arguments.length-2),re=2;re<arguments.length;re++)w[re-2]=arguments[re];return S.prototype[V].apply(M,w)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,S,R){R||(R=0);var M=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)M[V]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(V=0;16>V;++V)M[V]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=N.g[0],R=N.g[1],V=N.g[2];var x=N.g[3],w=S+(x^R&(V^x))+M[0]+3614090360&4294967295;S=R+(w<<7&4294967295|w>>>25),w=x+(V^S&(R^V))+M[1]+3905402710&4294967295,x=S+(w<<12&4294967295|w>>>20),w=V+(R^x&(S^R))+M[2]+606105819&4294967295,V=x+(w<<17&4294967295|w>>>15),w=R+(S^V&(x^S))+M[3]+3250441966&4294967295,R=V+(w<<22&4294967295|w>>>10),w=S+(x^R&(V^x))+M[4]+4118548399&4294967295,S=R+(w<<7&4294967295|w>>>25),w=x+(V^S&(R^V))+M[5]+1200080426&4294967295,x=S+(w<<12&4294967295|w>>>20),w=V+(R^x&(S^R))+M[6]+2821735955&4294967295,V=x+(w<<17&4294967295|w>>>15),w=R+(S^V&(x^S))+M[7]+4249261313&4294967295,R=V+(w<<22&4294967295|w>>>10),w=S+(x^R&(V^x))+M[8]+1770035416&4294967295,S=R+(w<<7&4294967295|w>>>25),w=x+(V^S&(R^V))+M[9]+2336552879&4294967295,x=S+(w<<12&4294967295|w>>>20),w=V+(R^x&(S^R))+M[10]+4294925233&4294967295,V=x+(w<<17&4294967295|w>>>15),w=R+(S^V&(x^S))+M[11]+2304563134&4294967295,R=V+(w<<22&4294967295|w>>>10),w=S+(x^R&(V^x))+M[12]+1804603682&4294967295,S=R+(w<<7&4294967295|w>>>25),w=x+(V^S&(R^V))+M[13]+4254626195&4294967295,x=S+(w<<12&4294967295|w>>>20),w=V+(R^x&(S^R))+M[14]+2792965006&4294967295,V=x+(w<<17&4294967295|w>>>15),w=R+(S^V&(x^S))+M[15]+1236535329&4294967295,R=V+(w<<22&4294967295|w>>>10),w=S+(V^x&(R^V))+M[1]+4129170786&4294967295,S=R+(w<<5&4294967295|w>>>27),w=x+(R^V&(S^R))+M[6]+3225465664&4294967295,x=S+(w<<9&4294967295|w>>>23),w=V+(S^R&(x^S))+M[11]+643717713&4294967295,V=x+(w<<14&4294967295|w>>>18),w=R+(x^S&(V^x))+M[0]+3921069994&4294967295,R=V+(w<<20&4294967295|w>>>12),w=S+(V^x&(R^V))+M[5]+3593408605&4294967295,S=R+(w<<5&4294967295|w>>>27),w=x+(R^V&(S^R))+M[10]+38016083&4294967295,x=S+(w<<9&4294967295|w>>>23),w=V+(S^R&(x^S))+M[15]+3634488961&4294967295,V=x+(w<<14&4294967295|w>>>18),w=R+(x^S&(V^x))+M[4]+3889429448&4294967295,R=V+(w<<20&4294967295|w>>>12),w=S+(V^x&(R^V))+M[9]+568446438&4294967295,S=R+(w<<5&4294967295|w>>>27),w=x+(R^V&(S^R))+M[14]+3275163606&4294967295,x=S+(w<<9&4294967295|w>>>23),w=V+(S^R&(x^S))+M[3]+4107603335&4294967295,V=x+(w<<14&4294967295|w>>>18),w=R+(x^S&(V^x))+M[8]+1163531501&4294967295,R=V+(w<<20&4294967295|w>>>12),w=S+(V^x&(R^V))+M[13]+2850285829&4294967295,S=R+(w<<5&4294967295|w>>>27),w=x+(R^V&(S^R))+M[2]+4243563512&4294967295,x=S+(w<<9&4294967295|w>>>23),w=V+(S^R&(x^S))+M[7]+1735328473&4294967295,V=x+(w<<14&4294967295|w>>>18),w=R+(x^S&(V^x))+M[12]+2368359562&4294967295,R=V+(w<<20&4294967295|w>>>12),w=S+(R^V^x)+M[5]+4294588738&4294967295,S=R+(w<<4&4294967295|w>>>28),w=x+(S^R^V)+M[8]+2272392833&4294967295,x=S+(w<<11&4294967295|w>>>21),w=V+(x^S^R)+M[11]+1839030562&4294967295,V=x+(w<<16&4294967295|w>>>16),w=R+(V^x^S)+M[14]+4259657740&4294967295,R=V+(w<<23&4294967295|w>>>9),w=S+(R^V^x)+M[1]+2763975236&4294967295,S=R+(w<<4&4294967295|w>>>28),w=x+(S^R^V)+M[4]+1272893353&4294967295,x=S+(w<<11&4294967295|w>>>21),w=V+(x^S^R)+M[7]+4139469664&4294967295,V=x+(w<<16&4294967295|w>>>16),w=R+(V^x^S)+M[10]+3200236656&4294967295,R=V+(w<<23&4294967295|w>>>9),w=S+(R^V^x)+M[13]+681279174&4294967295,S=R+(w<<4&4294967295|w>>>28),w=x+(S^R^V)+M[0]+3936430074&4294967295,x=S+(w<<11&4294967295|w>>>21),w=V+(x^S^R)+M[3]+3572445317&4294967295,V=x+(w<<16&4294967295|w>>>16),w=R+(V^x^S)+M[6]+76029189&4294967295,R=V+(w<<23&4294967295|w>>>9),w=S+(R^V^x)+M[9]+3654602809&4294967295,S=R+(w<<4&4294967295|w>>>28),w=x+(S^R^V)+M[12]+3873151461&4294967295,x=S+(w<<11&4294967295|w>>>21),w=V+(x^S^R)+M[15]+530742520&4294967295,V=x+(w<<16&4294967295|w>>>16),w=R+(V^x^S)+M[2]+3299628645&4294967295,R=V+(w<<23&4294967295|w>>>9),w=S+(V^(R|~x))+M[0]+4096336452&4294967295,S=R+(w<<6&4294967295|w>>>26),w=x+(R^(S|~V))+M[7]+1126891415&4294967295,x=S+(w<<10&4294967295|w>>>22),w=V+(S^(x|~R))+M[14]+2878612391&4294967295,V=x+(w<<15&4294967295|w>>>17),w=R+(x^(V|~S))+M[5]+4237533241&4294967295,R=V+(w<<21&4294967295|w>>>11),w=S+(V^(R|~x))+M[12]+1700485571&4294967295,S=R+(w<<6&4294967295|w>>>26),w=x+(R^(S|~V))+M[3]+2399980690&4294967295,x=S+(w<<10&4294967295|w>>>22),w=V+(S^(x|~R))+M[10]+4293915773&4294967295,V=x+(w<<15&4294967295|w>>>17),w=R+(x^(V|~S))+M[1]+2240044497&4294967295,R=V+(w<<21&4294967295|w>>>11),w=S+(V^(R|~x))+M[8]+1873313359&4294967295,S=R+(w<<6&4294967295|w>>>26),w=x+(R^(S|~V))+M[15]+4264355552&4294967295,x=S+(w<<10&4294967295|w>>>22),w=V+(S^(x|~R))+M[6]+2734768916&4294967295,V=x+(w<<15&4294967295|w>>>17),w=R+(x^(V|~S))+M[13]+1309151649&4294967295,R=V+(w<<21&4294967295|w>>>11),w=S+(V^(R|~x))+M[4]+4149444226&4294967295,S=R+(w<<6&4294967295|w>>>26),w=x+(R^(S|~V))+M[11]+3174756917&4294967295,x=S+(w<<10&4294967295|w>>>22),w=V+(S^(x|~R))+M[2]+718787259&4294967295,V=x+(w<<15&4294967295|w>>>17),w=R+(x^(V|~S))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(V+(w<<21&4294967295|w>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+x&4294967295}s.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var R=S-this.blockSize,M=this.B,V=this.h,x=0;x<S;){if(V==0)for(;x<=R;)l(this,N,x),x+=this.blockSize;if(typeof N=="string"){for(;x<S;)if(M[V++]=N.charCodeAt(x++),V==this.blockSize){l(this,M),V=0;break}}else for(;x<S;)if(M[V++]=N[x++],V==this.blockSize){l(this,M),V=0;break}}this.h=V,this.o+=S},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var R=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=R&255,R/=256;for(this.u(N),N=Array(16),S=R=0;4>S;++S)for(var M=0;32>M;M+=8)N[R++]=this.g[S]>>>M&255;return N};function c(N,S){var R=g;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=S(N)}function d(N,S){this.h=S;for(var R=[],M=!0,V=N.length-1;0<=V;V--){var x=N[V]|0;M&&x==S||(R[V]=x,M=!1)}this.g=R}var g={};function p(N){return-128<=N&&128>N?c(N,function(S){return new d([S|0],0>S?-1:0)}):new d([N|0],0>N?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return C;if(0>N)return $(_(-N));for(var S=[],R=1,M=0;N>=R;M++)S[M]=N/R|0,R*=4294967296;return new d(S,0)}function T(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return $(T(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=_(Math.pow(S,8)),M=C,V=0;V<N.length;V+=8){var x=Math.min(8,N.length-V),w=parseInt(N.substring(V,V+x),S);8>x?(x=_(Math.pow(S,x)),M=M.j(x).add(_(w))):(M=M.j(R),M=M.add(_(w)))}return M}var C=p(0),D=p(1),q=p(16777216);r=d.prototype,r.m=function(){if(J(this))return-$(this).m();for(var N=0,S=1,R=0;R<this.g.length;R++){var M=this.i(R);N+=(0<=M?M:4294967296+M)*S,S*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(K(this))return"0";if(J(this))return"-"+$(this).toString(N);for(var S=_(Math.pow(N,6)),R=this,M="";;){var V=bt(R,S).g;R=rt(R,V.j(S));var x=((0<R.g.length?R.g[0]:R.h)>>>0).toString(N);if(R=V,K(R))return x+M;for(;6>x.length;)x="0"+x;M=x+M}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function K(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function J(N){return N.h==-1}r.l=function(N){return N=rt(this,N),J(N)?-1:K(N)?0:1};function $(N){for(var S=N.g.length,R=[],M=0;M<S;M++)R[M]=~N.g[M];return new d(R,~N.h).add(D)}r.abs=function(){return J(this)?$(this):this},r.add=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],M=0,V=0;V<=S;V++){var x=M+(this.i(V)&65535)+(N.i(V)&65535),w=(x>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);M=w>>>16,x&=65535,w&=65535,R[V]=w<<16|x}return new d(R,R[R.length-1]&-2147483648?-1:0)};function rt(N,S){return N.add($(S))}r.j=function(N){if(K(this)||K(N))return C;if(J(this))return J(N)?$(this).j($(N)):$($(this).j(N));if(J(N))return $(this.j($(N)));if(0>this.l(q)&&0>N.l(q))return _(this.m()*N.m());for(var S=this.g.length+N.g.length,R=[],M=0;M<2*S;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var V=0;V<N.g.length;V++){var x=this.i(M)>>>16,w=this.i(M)&65535,re=N.i(V)>>>16,ee=N.i(V)&65535;R[2*M+2*V]+=w*ee,st(R,2*M+2*V),R[2*M+2*V+1]+=x*ee,st(R,2*M+2*V+1),R[2*M+2*V+1]+=w*re,st(R,2*M+2*V+1),R[2*M+2*V+2]+=x*re,st(R,2*M+2*V+2)}for(M=0;M<S;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=S;M<2*S;M++)R[M]=0;return new d(R,0)};function st(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function at(N,S){this.g=N,this.h=S}function bt(N,S){if(K(S))throw Error("division by zero");if(K(N))return new at(C,C);if(J(N))return S=bt($(N),S),new at($(S.g),$(S.h));if(J(S))return S=bt(N,$(S)),new at($(S.g),S.h);if(30<N.g.length){if(J(N)||J(S))throw Error("slowDivide_ only works with positive integers.");for(var R=D,M=S;0>=M.l(N);)R=it(R),M=it(M);var V=dt(R,1),x=dt(M,1);for(M=dt(M,2),R=dt(R,2);!K(M);){var w=x.add(M);0>=w.l(N)&&(V=V.add(R),x=w),M=dt(M,1),R=dt(R,1)}return S=rt(N,V.j(S)),new at(V,S)}for(V=C;0<=N.l(S);){for(R=Math.max(1,Math.floor(N.m()/S.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),x=_(R),w=x.j(S);J(w)||0<w.l(N);)R-=M,x=_(R),w=x.j(S);K(x)&&(x=D),V=V.add(x),N=rt(N,w)}return new at(V,N)}r.A=function(N){return bt(this,N).h},r.and=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],M=0;M<S;M++)R[M]=this.i(M)&N.i(M);return new d(R,this.h&N.h)},r.or=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],M=0;M<S;M++)R[M]=this.i(M)|N.i(M);return new d(R,this.h|N.h)},r.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],M=0;M<S;M++)R[M]=this.i(M)^N.i(M);return new d(R,this.h^N.h)};function it(N){for(var S=N.g.length+1,R=[],M=0;M<S;M++)R[M]=N.i(M)<<1|N.i(M-1)>>>31;return new d(R,N.h)}function dt(N,S){var R=S>>5;S%=32;for(var M=N.g.length-R,V=[],x=0;x<M;x++)V[x]=0<S?N.i(x+R)>>>S|N.i(x+R+1)<<32-S:N.i(x+R);return new d(V,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,D0=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,Ir=d}).apply(typeof j_<"u"?j_:typeof self<"u"?self:typeof window<"u"?window:{});var lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var O0,al,N0,yc,Pd,M0,V0,x0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof lc=="object"&&lc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function l(u,m){if(m)t:{var y=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var U=u[A];if(!(U in y))break t;y=y[U]}u=u[u.length-1],A=y[u],m=m(A),m!=A&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var y=0,A=!1,U={next:function(){if(!A&&y<u.length){var j=y++;return{value:m(j,u[j]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function T(u,m,y){return u.call.apply(u.bind,arguments)}function C(u,m,y){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function D(u,m,y){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:C,D.apply(null,arguments)}function q(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var A=y.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function K(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(A,U,j){for(var tt=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)tt[Lt-2]=arguments[Lt];return m.prototype[U].apply(A,tt)}}function J(u){const m=u.length;if(0<m){const y=Array(m);for(let A=0;A<m;A++)y[A]=u[A];return y}return[]}function $(u,m){for(let y=1;y<arguments.length;y++){const A=arguments[y];if(p(A)){const U=u.length||0,j=A.length||0;u.length=U+j;for(let tt=0;tt<j;tt++)u[U+tt]=A[tt]}else u.push(A)}}class rt{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function st(u){return/^[\s\xa0]*$/.test(u)}function at(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function bt(u){return bt[" "](u),u}bt[" "]=function(){};var it=at().indexOf("Gecko")!=-1&&!(at().toLowerCase().indexOf("webkit")!=-1&&at().indexOf("Edge")==-1)&&!(at().indexOf("Trident")!=-1||at().indexOf("MSIE")!=-1)&&at().indexOf("Edge")==-1;function dt(u,m,y){for(const A in u)m.call(y,u[A],A,u)}function N(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function S(u){const m={};for(const y in u)m[y]=u[y];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(u,m){let y,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(y in A)u[y]=A[y];for(let j=0;j<R.length;j++)y=R[j],Object.prototype.hasOwnProperty.call(A,y)&&(u[y]=A[y])}}function V(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function x(u){g.setTimeout(()=>{throw u},0)}function w(){var u=jt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class re{constructor(){this.h=this.g=null}add(m,y){const A=ee.get();A.set(m,y),this.h?this.h.next=A:this.g=A,this.h=A}}var ee=new rt(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ut=!1,jt=new re,I=()=>{const u=g.Promise.resolve(void 0);et=()=>{u.then(X)}};var X=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(y){x(y)}var m=ee;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ut=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ht=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};g.addEventListener("test",y,m),g.removeEventListener("test",y,m)}catch{}return u}();function Ct(u,m){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(it){t:{try{bt(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:yt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ct.aa.h.call(this)}}K(Ct,W);var yt={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ot="closure_listenable_"+(1e6*Math.random()|0),Ut=0;function qe(u,m,y,A,U){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!A,this.ha=U,this.key=++Ut,this.da=this.fa=!1}function Nn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function hi(u){this.src=u,this.g={},this.h=0}hi.prototype.add=function(u,m,y,A,U){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var tt=Lr(u,m,A,U);return-1<tt?(m=u[tt],y||(m.fa=!1)):(m=new qe(m,this.src,j,!!A,U),m.fa=y,u.push(m)),m};function Ur(u,m){var y=m.type;if(y in u.g){var A=u.g[y],U=Array.prototype.indexOf.call(A,m,void 0),j;(j=0<=U)&&Array.prototype.splice.call(A,U,1),j&&(Nn(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Lr(u,m,y,A){for(var U=0;U<u.length;++U){var j=u[U];if(!j.da&&j.listener==m&&j.capture==!!y&&j.ha==A)return U}return-1}var kr="closure_lm_"+(1e6*Math.random()|0),Xa={};function Ul(u,m,y,A,U){if(Array.isArray(m)){for(var j=0;j<m.length;j++)Ul(u,m[j],y,A,U);return null}return y=Ll(y),u&&u[Ot]?u.K(m,y,_(A)?!!A.capture:!1,U):gn(u,m,y,!1,A,U)}function gn(u,m,y,A,U,j){if(!m)throw Error("Invalid event type");var tt=_(U)?!!U.capture:!!U,Lt=xs(u);if(Lt||(u[kr]=Lt=new hi(u)),y=Lt.add(m,y,A,tt,j),y.proxy)return y;if(A=oh(),y.proxy=A,A.src=u,A.listener=y,u.addEventListener)ht||(U=tt),U===void 0&&(U=!1),u.addEventListener(m.toString(),A,U);else if(u.attachEvent)u.attachEvent(zr(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return y}function oh(){function u(y){return m.call(u.src,u.listener,y)}const m=lh;return u}function $a(u,m,y,A,U){if(Array.isArray(m))for(var j=0;j<m.length;j++)$a(u,m[j],y,A,U);else A=_(A)?!!A.capture:!!A,y=Ll(y),u&&u[Ot]?(u=u.i,m=String(m).toString(),m in u.g&&(j=u.g[m],y=Lr(j,y,A,U),-1<y&&(Nn(j[y]),Array.prototype.splice.call(j,y,1),j.length==0&&(delete u.g[m],u.h--)))):u&&(u=xs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Lr(m,y,A,U)),(y=-1<u?m[u]:null)&&Vs(y))}function Vs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ot])Ur(m.i,u);else{var y=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(y,A,u.capture):m.detachEvent?m.detachEvent(zr(y),A):m.addListener&&m.removeListener&&m.removeListener(A),(y=xs(m))?(Ur(y,u),y.h==0&&(y.src=null,m[kr]=null)):Nn(u)}}}function zr(u){return u in Xa?Xa[u]:Xa[u]="on"+u}function lh(u,m){if(u.da)u=!0;else{m=new Ct(m,this);var y=u.listener,A=u.ha||u.src;u.fa&&Vs(u),u=y.call(A,m)}return u}function xs(u){return u=u[kr],u instanceof hi?u:null}var Za="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ll(u){return typeof u=="function"?u:(u[Za]||(u[Za]=function(m){return u.handleEvent(m)}),u[Za])}function oe(){nt.call(this),this.i=new hi(this),this.M=this,this.F=null}K(oe,nt),oe.prototype[Ot]=!0,oe.prototype.removeEventListener=function(u,m,y,A){$a(this,u,m,y,A)};function Qt(u,m){var y,A=u.F;if(A)for(y=[];A;A=A.F)y.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new W(m,u);else if(m instanceof W)m.target=m.target||u;else{var U=m;m=new W(A,u),M(m,U)}if(U=!0,y)for(var j=y.length-1;0<=j;j--){var tt=m.g=y[j];U=an(tt,A,!0,m)&&U}if(tt=m.g=u,U=an(tt,A,!0,m)&&U,U=an(tt,A,!1,m)&&U,y)for(j=0;j<y.length;j++)tt=m.g=y[j],U=an(tt,A,!1,m)&&U}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],A=0;A<y.length;A++)Nn(y[A]);delete u.g[m],u.h--}}this.F=null},oe.prototype.K=function(u,m,y,A){return this.i.add(String(u),m,!1,y,A)},oe.prototype.L=function(u,m,y,A){return this.i.add(String(u),m,!0,y,A)};function an(u,m,y,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,j=0;j<m.length;++j){var tt=m[j];if(tt&&!tt.da&&tt.capture==y){var Lt=tt.listener,Te=tt.ha||tt.src;tt.fa&&Ur(u.i,tt),U=Lt.call(Te,A)!==!1&&U}}return U&&!A.defaultPrevented}function He(u,m,y){if(typeof u=="function")y&&(u=D(u,y));else if(u&&typeof u.handleEvent=="function")u=D(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function kl(u){u.g=He(()=>{u.g=null,u.i&&(u.i=!1,kl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class uh extends nt{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:kl(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Br(u){nt.call(this),this.h=u,this.g={}}K(Br,nt);var jr=[];function qr(u){dt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Vs(m)},u),u.g={}}Br.prototype.N=function(){Br.aa.N.call(this),qr(this)},Br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mn=g.JSON.stringify,Ps=g.JSON.parse,Hr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Ja(){}Ja.prototype.h=null;function Wa(u){return u.h||(u.h=u.i())}function to(){}var fi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function di(){W.call(this,"d")}K(di,W);function eo(){W.call(this,"c")}K(eo,W);var qn={},no=null;function Qi(){return no=no||new oe}qn.La="serverreachability";function Us(u){W.call(this,qn.La,u)}K(Us,W);function Ki(u){const m=Qi();Qt(m,new Us(m))}qn.STAT_EVENT="statevent";function zl(u,m){W.call(this,qn.STAT_EVENT,u),this.stat=m}K(zl,W);function ne(u){const m=Qi();Qt(m,new zl(m,u))}qn.Ma="timingevent";function Ee(u,m){W.call(this,qn.Ma,u),this.size=m}K(Ee,W);function ge(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function pn(){this.g=!0}pn.prototype.xa=function(){this.g=!1};function io(u,m,y,A,U,j){u.info(function(){if(u.g)if(j)for(var tt="",Lt=j.split("&"),Te=0;Te<Lt.length;Te++){var kt=Lt[Te].split("=");if(1<kt.length){var De=kt[0];kt=kt[1];var Ae=De.split("_");tt=2<=Ae.length&&Ae[1]=="type"?tt+(De+"="+kt+"&"):tt+(De+"=redacted&")}}else tt=null;else tt=j;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+m+`
`+y+`
`+tt})}function ch(u,m,y,A,U,j,tt){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+m+`
`+y+`
`+j+" "+tt})}function Yi(u,m,y,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Gr(u,y)+(A?" "+A:"")})}function Bl(u,m){u.info(function(){return"TIMEOUT: "+m})}pn.prototype.info=function(){};function Gr(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var A=y[u];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var j=U[0];if(j!="noop"&&j!="stop"&&j!="close")for(var tt=1;tt<U.length;tt++)U[tt]=""}}}}return Mn(y)}catch{return m}}var Xi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hn;function Gn(){}K(Gn,Ja),Gn.prototype.g=function(){return new XMLHttpRequest},Gn.prototype.i=function(){return{}},Hn=new Gn;function Ze(u,m,y,A){this.j=u,this.i=m,this.l=y,this.R=A||1,this.U=new Br(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new he}function he(){this.i=null,this.g="",this.h=!1}var ro={},Ls={};function Vn(u,m,y){u.L=1,u.v=Xr(on(m)),u.m=y,u.P=!0,gi(u,null)}function gi(u,m){u.F=Date.now(),Fr(u),u.A=on(u.v);var y=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),co(y.i,"t",A),u.C=0,y=u.j.J,u.h=new he,u.g=nu(u.j,y?m:null,!u.m),0<u.O&&(u.M=new uh(D(u.Y,u,u.g),u.O)),m=u.U,y=u.g,A=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(jr[0]=U.toString()),U=jr);for(var j=0;j<U.length;j++){var tt=Ul(y,U[j],A||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Ki(),io(u.i,u.u,u.A,u.l,u.R,u.m)}Ze.prototype.ca=function(u){u=u.target;const m=this.M;m&&En(u)==3?m.j():this.Y(u)},Ze.prototype.Y=function(u){try{if(u==this.g)t:{const Ae=En(this.g);var m=this.g.Ba();const Si=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||Yl(this.g)))){this.J||Ae!=4||m==7||(m==8||0>=Si?Ki(3):Ki(2)),$i(this);var y=this.g.Z();this.X=y;e:if(jl(this)){var A=Yl(this.g);u="";var U=A.length,j=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xe(this),Fn(this);var tt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(j&&m==U-1)});A.length=0,this.h.g+=u,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=y==200,ch(this.i,this.u,this.A,this.l,this.R,Ae,y),this.o){if(this.T&&!this.K){e:{if(this.g){var Lt,Te=this.g;if((Lt=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!st(Lt)){var kt=Lt;break e}}kt=null}if(y=kt)Yi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qr(this,y);else{this.o=!1,this.s=3,ne(12),xe(this),Fn(this);break t}}if(this.P){y=!0;let Pe;for(;!this.J&&this.C<tt.length;)if(Pe=ql(this,tt),Pe==Ls){Ae==4&&(this.s=4,ne(14),y=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(Pe==ro){this.s=4,ne(15),Yi(this.i,this.l,tt,"[Invalid Chunk]"),y=!1;break}else Yi(this.i,this.l,Pe,null),Qr(this,Pe);if(jl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||tt.length!=0||this.h.h||(this.s=1,ne(16),y=!1),this.o=this.o&&y,!y)Yi(this.i,this.l,tt,"[Invalid Chunked Response]"),xe(this),Fn(this);else if(0<tt.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),is(De),De.M=!0,ne(11))}}else Yi(this.i,this.l,tt,null),Qr(this,tt);Ae==4&&xe(this),this.o&&!this.J&&(Ae==4?Wl(this.j,this):(this.o=!1,Fr(this)))}else gh(this.g),y==400&&0<tt.indexOf("Unknown SID")?(this.s=3,ne(12)):(this.s=0,ne(13)),xe(this),Fn(this)}}}catch{}finally{}};function jl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ql(u,m){var y=u.C,A=m.indexOf(`
`,y);return A==-1?Ls:(y=Number(m.substring(y,A)),isNaN(y)?ro:(A+=1,A+y>m.length?Ls:(m=m.slice(A,A+y),u.C=A+y,m)))}Ze.prototype.cancel=function(){this.J=!0,xe(this)};function Fr(u){u.S=Date.now()+u.I,Hl(u,u.I)}function Hl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ge(D(u.ba,u),m)}function $i(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ze.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Bl(this.i,this.A),this.L!=2&&(Ki(),ne(17)),xe(this),this.s=2,Fn(this)):Hl(this,this.S-u)};function Fn(u){u.j.G==0||u.J||Wl(u.j,u)}function xe(u){$i(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,qr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Qr(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||so(y.h,u))){if(!u.K&&so(y.h,u)&&y.G==3){try{var A=y.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Xs(y),Ks(y);else break t;po(y),ne(18)}}else y.za=U[1],0<y.za-y.T&&37500>U[2]&&y.F&&y.v==0&&!y.C&&(y.C=ge(D(y.Za,y),6e3));if(1>=zs(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Ai(y,11)}else if((u.K||y.g==u)&&Xs(y),!st(m))for(U=y.Da.g.parse(m),m=0;m<U.length;m++){let kt=U[m];if(y.T=kt[0],kt=kt[1],y.G==2)if(kt[0]=="c"){y.K=kt[1],y.ia=kt[2];const De=kt[3];De!=null&&(y.la=De,y.j.info("VER="+y.la));const Ae=kt[4];Ae!=null&&(y.Aa=Ae,y.j.info("SVER="+y.Aa));const Si=kt[5];Si!=null&&typeof Si=="number"&&0<Si&&(A=1.5*Si,y.L=A,y.j.info("backChannelRequestTimeoutMs_="+A)),A=y;const Pe=u.g;if(Pe){const Jn=Pe.g?Pe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jn){var j=A.h;j.g||Jn.indexOf("spdy")==-1&&Jn.indexOf("quic")==-1&&Jn.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Bs(j,j.h),j.h=null))}if(A.D){const _o=Pe.g?Pe.g.getResponseHeader("X-HTTP-Session-Id"):null;_o&&(A.ya=_o,Xt(A.I,A.D,_o))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),A=y;var tt=u;if(A.qa=eu(A,A.J?A.ia:null,A.W),tt.K){Je(A.h,tt);var Lt=tt,Te=A.L;Te&&(Lt.I=Te),Lt.B&&($i(Lt),Fr(Lt)),A.g=tt}else Zl(A);0<y.i.length&&Ys(y)}else kt[0]!="stop"&&kt[0]!="close"||Ai(y,7);else y.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?Ai(y,7):mo(y):kt[0]!="noop"&&y.l&&y.l.ta(kt),y.v=0)}}Ki(4)}catch{}}var Gl=class{constructor(u,m){this.g=u,this.map=m}};function pi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ks(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function zs(u){return u.h?1:u.g?u.g.size:0}function so(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Bs(u,m){u.g?u.g.add(m):u.h=m}function Je(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}pi.prototype.cancel=function(){if(this.i=ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ao(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return J(u.i)}function hh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,A=0;A<y;A++)m.push(u[A]);return m}m=[],y=0;for(A in u)m[y++]=u[A];return m}function js(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const A in u)m[y++]=A;return m}}}function oo(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=js(u),A=hh(u),U=A.length,j=0;j<U;j++)m.call(void 0,A[j],y&&y[j],u)}var Kr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fh(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var A=u[y].indexOf("="),U=null;if(0<=A){var j=u[y].substring(0,A);U=u[y].substring(A+1)}else j=u[y];m(j,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function pe(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof pe){this.h=u.h,Yr(this,u.j),this.o=u.o,this.g=u.g,Zi(this,u.s),this.l=u.l;var m=u.i,y=new _i;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),yi(this,y),this.m=u.m}else u&&(m=String(u).match(Kr))?(this.h=!1,Yr(this,m[1]||"",!0),this.o=yn(m[2]||""),this.g=yn(m[3]||"",!0),Zi(this,m[4]),this.l=yn(m[5]||"",!0),yi(this,m[6]||"",!0),this.m=yn(m[7]||"")):(this.h=!1,this.i=new _i(null,this.h))}pe.prototype.toString=function(){var u=[],m=this.j;m&&u.push($r(m,lo,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push($r(m,lo,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push($r(y,y.charAt(0)=="/"?dh:uo,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",$r(y,qs)),u.join("")};function on(u){return new pe(u)}function Yr(u,m,y){u.j=y?yn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Zi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function yi(u,m,y){m instanceof _i?(u.i=m,Ql(u.i,u.h)):(y||(m=$r(m,mh)),u.i=new _i(m,u.h))}function Xt(u,m,y){u.i.set(m,y)}function Xr(u){return Xt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function yn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function $r(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,Fl),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Fl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var lo=/[#\/\?@]/g,uo=/[#\?:]/g,dh=/[#\?]/g,mh=/[#\?@]/g,qs=/#/g;function _i(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&fh(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=_i.prototype,r.add=function(u,m){_n(this),this.i=null,u=Qn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function vi(u,m){_n(u),m=Qn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ei(u,m){return _n(u),m=Qn(u,m),u.g.has(m)}r.forEach=function(u,m){_n(this),this.g.forEach(function(y,A){y.forEach(function(U){u.call(m,U,A,this)},this)},this)},r.na=function(){_n(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let A=0;A<m.length;A++){const U=u[A];for(let j=0;j<U.length;j++)y.push(m[A])}return y},r.V=function(u){_n(this);let m=[];if(typeof u=="string")Ei(this,u)&&(m=m.concat(this.g.get(Qn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},r.set=function(u,m){return _n(this),this.i=null,u=Qn(this,u),Ei(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function co(u,m,y){vi(u,m),0<y.length&&(u.i=null,u.g.set(Qn(u,m),J(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var A=m[y];const j=encodeURIComponent(String(A)),tt=this.V(A);for(A=0;A<tt.length;A++){var U=j;tt[A]!==""&&(U+="="+encodeURIComponent(String(tt[A]))),u.push(U)}}return this.i=u.join("&")};function Qn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ql(u,m){m&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(y,A){var U=A.toLowerCase();A!=U&&(vi(this,A),co(this,U,y))},u)),u.j=m}function Zr(u,m){const y=new pn;if(g.Image){const A=new Image;A.onload=q(vn,y,"TestLoadImage: loaded",!0,m,A),A.onerror=q(vn,y,"TestLoadImage: error",!1,m,A),A.onabort=q(vn,y,"TestLoadImage: abort",!1,m,A),A.ontimeout=q(vn,y,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function xn(u,m){const y=new pn,A=new AbortController,U=setTimeout(()=>{A.abort(),vn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(j=>{clearTimeout(U),j.ok?vn(y,"TestPingServer: ok",!0,m):vn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),vn(y,"TestPingServer: error",!1,m)})}function vn(u,m,y,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(y)}catch{}}function Jr(){this.g=new Hr}function Kn(u,m,y){const A=y||"";try{oo(u,function(U,j){let tt=U;_(U)&&(tt=Mn(U)),m.push(A+j+"="+encodeURIComponent(tt))})}catch(U){throw m.push(A+"type="+encodeURIComponent("_badmap")),U}}function Ji(u){this.l=u.Ub||null,this.j=u.eb||!1}K(Ji,Ja),Ji.prototype.g=function(){return new Ti(this.l,this.j)},Ji.prototype.i=function(u){return function(){return u}}({});function Ti(u,m){oe.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}K(Ti,oe),r=Ti.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Xn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ho(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ho(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Yn(this):Xn(this),this.readyState==3&&ho(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Yn(this))},r.Qa=function(u){this.g&&(this.response=u,Yn(this))},r.ga=function(){this.g&&Yn(this)};function Yn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Xn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function fo(u){let m="";return dt(u,function(y,A){m+=A,m+=":",m+=y,m+=`\r
`}),m}function Ie(u,m,y){t:{for(A in y){var A=!1;break t}A=!0}A||(y=fo(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Xt(u,m,y))}function Gt(u){oe.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}K(Gt,oe);var Hs=/^https?$/i,Wr=["POST","PUT"];r=Gt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,y,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hn.g(),this.v=this.o?Wa(this.o):Wa(Hn),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){Kl(this,j);return}if(u=y||"",y=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)y.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())y.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(y.keys()).find(j=>j.toLowerCase()=="content-type"),U=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Wr,m,void 0))||A||U||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,tt]of y)this.g.setRequestHeader(j,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ts(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){Kl(this,j)}};function Kl(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Gs(u),$n(u)}function Gs(u){u.A||(u.A=!0,Qt(u,"complete"),Qt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Qt(this,"complete"),Qt(this,"abort"),$n(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$n(this,!0)),Gt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Fs(this):this.bb())},r.bb=function(){Fs(this)};function Fs(u){if(u.h&&typeof d<"u"&&(!u.v[1]||En(u)!=4||u.Z()!=2)){if(u.u&&En(u)==4)He(u.Ea,0,u);else if(Qt(u,"readystatechange"),En(u)==4){u.h=!1;try{const tt=u.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var A;if(A=tt===0){var U=String(u.D).match(Kr)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),A=!Hs.test(U?U.toLowerCase():"")}y=A}if(y)Qt(u,"complete"),Qt(u,"success");else{u.m=6;try{var j=2<En(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",Gs(u)}}finally{$n(u)}}}}function $n(u,m){if(u.g){ts(u);const y=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Qt(u,"ready");try{y.onreadystatechange=A}catch{}}}function ts(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function En(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ps(m)}};function Yl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function gh(u){const m={};u=(u.g&&2<=En(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(st(u[A]))continue;var y=V(u[A]);const U=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const j=m[U]||[];m[U]=j,j.push(y)}N(m,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function es(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function Qs(u){this.Aa=0,this.i=[],this.j=new pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=es("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=es("baseRetryDelayMs",5e3,u),this.cb=es("retryDelaySeedMs",1e4,u),this.Wa=es("forwardChannelMaxRetries",2,u),this.wa=es("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new pi(u&&u.concurrentRequestLimit),this.Da=new Jr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Qs.prototype,r.la=8,r.G=1,r.connect=function(u,m,y,A){ne(0),this.W=u,this.H=m||{},y&&A!==void 0&&(this.H.OSID=y,this.H.OAID=A),this.F=this.X,this.I=eu(this,null,this.W),Ys(this)};function mo(u){if(Xl(u),u.G==3){var m=u.U++,y=on(u.I);if(Xt(y,"SID",u.K),Xt(y,"RID",m),Xt(y,"TYPE","terminate"),ns(u,y),m=new Ze(u,u.j,m),m.L=2,m.v=Xr(on(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=m.v,y=!0),y||(m.g=nu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Fr(m)}tu(u)}function Ks(u){u.g&&(is(u),u.g.cancel(),u.g=null)}function Xl(u){Ks(u),u.u&&(g.clearTimeout(u.u),u.u=null),Xs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ys(u){if(!ks(u.h)&&!u.s){u.s=!0;var m=u.Ga;et||I(),ut||(et(),ut=!0),jt.add(m,u),u.B=0}}function ph(u,m){return zs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ge(D(u.Ga,u,m),yo(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Ze(this,this.j,u);let j=this.o;if(this.S&&(j?(j=S(j),M(j,this.S)):j=this.S),this.m!==null||this.O||(U.H=j,j=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var A=this.i[y];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=$l(this,U,m),y=on(this.I),Xt(y,"RID",u),Xt(y,"CVER",22),this.D&&Xt(y,"X-HTTP-Session-Id",this.D),ns(this,y),j&&(this.O?m="headers="+encodeURIComponent(String(fo(j)))+"&"+m:this.m&&Ie(y,this.m,j)),Bs(this.h,U),this.Ua&&Xt(y,"TYPE","init"),this.P?(Xt(y,"$req",m),Xt(y,"SID","null"),U.T=!0,Vn(U,y,null)):Vn(U,y,m),this.G=2}}else this.G==3&&(u?go(this,u):this.i.length==0||ks(this.h)||go(this))};function go(u,m){var y;m?y=m.l:y=u.U++;const A=on(u.I);Xt(A,"SID",u.K),Xt(A,"RID",y),Xt(A,"AID",u.T),ns(u,A),u.m&&u.o&&Ie(A,u.m,u.o),y=new Ze(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=$l(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Bs(u.h,y),Vn(y,A,m)}function ns(u,m){u.H&&dt(u.H,function(y,A){Xt(m,A,y)}),u.l&&oo({},function(y,A){Xt(m,A,y)})}function $l(u,m,y){y=Math.min(u.i.length,y);var A=u.l?D(u.l.Na,u.l,u):null;t:{var U=u.i;let j=-1;for(;;){const tt=["count="+y];j==-1?0<y?(j=U[0].g,tt.push("ofs="+j)):j=0:tt.push("ofs="+j);let Lt=!0;for(let Te=0;Te<y;Te++){let kt=U[Te].g;const De=U[Te].map;if(kt-=j,0>kt)j=Math.max(0,U[Te].g-100),Lt=!1;else try{Kn(De,tt,"req"+kt+"_")}catch{A&&A(De)}}if(Lt){A=tt.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,A}function Zl(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;et||I(),ut||(et(),ut=!0),jt.add(m,u),u.v=0}}function po(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ge(D(u.Fa,u),yo(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Jl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ge(D(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ne(10),Ks(this),Jl(this))};function is(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Jl(u){u.g=new Ze(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=on(u.qa);Xt(m,"RID","rpc"),Xt(m,"SID",u.K),Xt(m,"AID",u.T),Xt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Xt(m,"TO",u.ja),Xt(m,"TYPE","xmlhttp"),ns(u,m),u.m&&u.o&&Ie(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Xr(on(m)),y.m=null,y.P=!0,gi(y,u)}r.Za=function(){this.C!=null&&(this.C=null,Ks(this),po(this),ne(19))};function Xs(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Wl(u,m){var y=null;if(u.g==m){Xs(u),is(u),u.g=null;var A=2}else if(so(u.h,m))y=m.D,Je(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;A=Qi(),Qt(A,new Ee(A,y)),Ys(u)}else Zl(u);else if(U=m.s,U==3||U==0&&0<m.X||!(A==1&&ph(u,m)||A==2&&po(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),U){case 1:Ai(u,5);break;case 4:Ai(u,10);break;case 3:Ai(u,6);break;default:Ai(u,2)}}}function yo(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function Ai(u,m){if(u.j.info("Error code "+m),m==2){var y=D(u.fb,u),A=u.Xa;const U=!A;A=new pe(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Yr(A,"https"),Xr(A),U?Zr(A.toString(),y):xn(A.toString(),y)}else ne(2);u.G=0,u.l&&u.l.sa(m),tu(u),Xl(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ne(2)):(this.j.info("Failed to ping google.com"),ne(1))};function tu(u){if(u.G=0,u.ka=[],u.l){const m=ao(u.h);(m.length!=0||u.i.length!=0)&&($(u.ka,m),$(u.ka,u.i),u.h.i.length=0,J(u.i),u.i.length=0),u.l.ra()}}function eu(u,m,y){var A=y instanceof pe?on(y):new pe(y);if(A.g!="")m&&(A.g=m+"."+A.g),Zi(A,A.s);else{var U=g.location;A=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var j=new pe(null);A&&Yr(j,A),m&&(j.g=m),U&&Zi(j,U),y&&(j.l=y),A=j}return y=u.D,m=u.ya,y&&m&&Xt(A,y,m),Xt(A,"VER",u.la),ns(u,A),A}function nu(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Gt(new Ji({eb:y})):new Gt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function iu(){}r=iu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function $s(){}$s.prototype.g=function(u,m){return new We(u,m)};function We(u,m){oe.call(this),this.g=new Qs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!st(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!st(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Zn(this)}K(We,oe),We.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){mo(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Mn(u),u=y);m.i.push(new Gl(m.Ya++,u)),m.G==3&&Ys(m)},We.prototype.N=function(){this.g.l=null,delete this.j,mo(this.g),delete this.g,We.aa.N.call(this)};function ru(u){di.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}K(ru,di);function su(){eo.call(this),this.status=1}K(su,eo);function Zn(u){this.g=u}K(Zn,iu),Zn.prototype.ua=function(){Qt(this.g,"a")},Zn.prototype.ta=function(u){Qt(this.g,new ru(u))},Zn.prototype.sa=function(u){Qt(this.g,new su)},Zn.prototype.ra=function(){Qt(this.g,"b")},$s.prototype.createWebChannel=$s.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,x0=function(){return new $s},V0=function(){return Qi()},M0=qn,Pd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xi.NO_ERROR=0,Xi.TIMEOUT=8,Xi.HTTP_ERROR=6,yc=Xi,mi.COMPLETE="complete",N0=mi,to.EventType=fi,fi.OPEN="a",fi.CLOSE="b",fi.ERROR="c",fi.MESSAGE="d",oe.prototype.listen=oe.prototype.K,al=to,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,O0=Gt}).apply(typeof lc<"u"?lc:typeof self<"u"?self:typeof window<"u"?window:{});const q_="@firebase/firestore",H_="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fa="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new Wd("@firebase/firestore");function Ra(){return Cs.logLevel}function ot(r,...t){if(Cs.logLevel<=xt.DEBUG){const n=t.map(dm);Cs.debug(`Firestore (${Fa}): ${r}`,...n)}}function Hi(r,...t){if(Cs.logLevel<=xt.ERROR){const n=t.map(dm);Cs.error(`Firestore (${Fa}): ${r}`,...n)}}function Pa(r,...t){if(Cs.logLevel<=xt.WARN){const n=t.map(dm);Cs.warn(`Firestore (${Fa}): ${r}`,...n)}}function dm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,P0(r,s,n)}function P0(r,t,n){let s=`FIRESTORE (${Fa}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Hi(s),new Error(s)}function Ft(r,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||P0(t,l,s)}function St(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends Fi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class UR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ye.UNAUTHENTICATED))}shutdown(){}}class LR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class kR{constructor(t){this.t=t,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ft(this.o===void 0,42304);let s=this.i;const l=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Dr,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Dr)}},0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new U0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new Ye(t)}}class zR{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class BR{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new zR(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class G_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jR{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ft(this.o===void 0,3512);const s=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const l=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new G_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new G_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=qR(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+=t.charAt(l[c]%62))}return s}}function Dt(r,t){return r<t?-1:r>t?1:0}function Ud(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),l=t.codePointAt(n);if(s!==l){if(s<128&&l<128)return Dt(s,l);{const c=L0(),d=HR(c.encode(F_(r,n)),c.encode(F_(t,n)));return d!==0?d:Dt(s,l)}}n+=s>65535?2:1}return Dt(r.length,t.length)}function F_(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function HR(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Dt(r[n],t[n]);return Dt(r.length,t.length)}function Ua(r,t,n){return r.length===t.length&&r.every((s,l)=>n(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=-62135596800,K_=1e6;class we{static now(){return we.fromMillis(Date.now())}static fromDate(t){return we.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*K_);return new we(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new gt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new gt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Q_)throw new gt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/K_}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Q_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new we(0,0))}static max(){return new At(new we(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="__name__";class ri{constructor(t,n,s){n===void 0?n=0:n>t.length&&Et(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Et(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ri.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ri?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const c=ri.compareSegments(t.get(l),n.get(l));if(c!==0)return c}return Dt(t.length,n.length)}static compareSegments(t,n){const s=ri.isNumericId(t),l=ri.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?ri.extractNumericId(t).compare(ri.extractNumericId(n)):Ud(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ir.fromString(t.substring(4,t.length-2))}}class ce extends ri{construct(t,n,s){return new ce(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new gt(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new ce(n)}static emptyPath(){return new ce([])}}const GR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ri{construct(t,n,s){return new Be(t,n,s)}static isValidIdentifier(t){return GR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Y_}static keyField(){return new Be([Y_])}static fromServerFormat(t){const n=[];let s="",l=0;const c=()=>{if(s.length===0)throw new gt(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new gt(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new gt(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(c(),l++)}if(c(),d)throw new gt(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Be(n)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.path=t}static fromPath(t){return new pt(ce.fromString(t))}static fromName(t){return new pt(ce.fromString(t).popFirst(5))}static empty(){return new pt(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ce.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new ce(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl=-1;function FR(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=At.fromTimestamp(s===1e9?new we(n+1,0):new we(n,s));return new Or(l,pt.empty(),t)}function QR(r){return new Or(r.readTime,r.key,yl)}class Or{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Or(At.min(),pt.empty(),yl)}static max(){return new Or(At.max(),pt.empty(),yl)}}function KR(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=pt.comparator(r.documentKey,t.documentKey),n!==0?n:Dt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==YR)throw r;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Y((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Y.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Y.reject(n)}static resolve(t){return new Y((n,s)=>{n(t)})}static reject(t){return new Y((n,s)=>{s(t)})}static waitFor(t){return new Y((n,s)=>{let l=0,c=0,d=!1;t.forEach(g=>{++l,g.next(()=>{++c,d&&c===l&&n()},p=>s(p))}),d=!0,c===l&&n()})}static or(t){let n=Y.resolve(!1);for(const s of t)n=n.next(l=>l?Y.resolve(l):s());return n}static forEach(t,n){const s=[];return t.forEach((l,c)=>{s.push(n.call(this,l,c))}),this.waitFor(s)}static mapArray(t,n){return new Y((s,l)=>{const c=t.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const _=p;n(t[_]).next(T=>{d[_]=T,++g,g===c&&s(d)},T=>l(T))}})}static doWhile(t,n){return new Y((s,l)=>{const c=()=>{t()===!0?n().next(()=>{c()},l):s()};c()})}}function $R(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ka(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Yc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm=-1;function Xc(r){return r==null}function Oc(r){return r===0&&1/r==-1/0}function ZR(r){return typeof r=="number"&&Number.isInteger(r)&&!Oc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="";function JR(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=X_(t)),t=WR(r.get(n),t);return X_(t)}function WR(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":n+="";break;case z0:n+="";break;default:n+=c}}return n}function X_(r){return r+z0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Ds(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function B0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(t,n){this.comparator=t,this.root=n||ze.EMPTY}insert(t,n){return new ae(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(t){return new ae(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ze.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new uc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new uc(this.root,t,this.comparator,!1)}getReverseIterator(){return new uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new uc(this.root,t,this.comparator,!0)}}class uc{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ze{constructor(t,n,s,l,c){this.key=t,this.value=n,this.color=s??ze.RED,this.left=l??ze.EMPTY,this.right=c??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,c){return new ze(t??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,n,s),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return ze.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,n,s,l,c){return this}insert(t,n,s){return new ze(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t){this.comparator=t,this.data=new ae(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Z_(this.data.getIterator())}getIteratorFrom(t){return new Z_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Ce)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ce(this.comparator);return n.data=t,n}}class Z_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t){this.fields=t,t.sort(Be.comparator)}static empty(){return new Bn([])}unionWith(t){let n=new Ce(Be.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Bn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ua(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new j0("Invalid base64 string: "+c):c}}(t);return new je(n)}static fromUint8Array(t){const n=function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c}(t);return new je(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}je.EMPTY_BYTE_STRING=new je("");const tw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(r){if(Ft(!!r,39018),typeof r=="string"){let t=0;const n=tw.exec(r);if(Ft(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:me(r.seconds),nanos:me(r.nanos)}}function me(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Mr(r){return typeof r=="string"?je.fromBase64String(r):je.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="server_timestamp",H0="__type__",G0="__previous_value__",F0="__local_write_time__";function gm(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[H0])===null||n===void 0?void 0:n.stringValue)===q0}function $c(r){const t=r.mapValue.fields[G0];return gm(t)?$c(t):t}function _l(r){const t=Nr(r.mapValue.fields[F0].timestampValue);return new we(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(t,n,s,l,c,d,g,p,_,T){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=T}}const Nc="(default)";class vl{constructor(t,n){this.projectId=t,this.database=n||Nc}static empty(){return new vl("","")}get isDefaultDatabase(){return this.database===Nc}isEqual(t){return t instanceof vl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="__type__",nw="__max__",cc={mapValue:{}},K0="__vector__",Mc="value";function Vr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?gm(r)?4:rw(r)?9007199254740991:iw(r)?10:11:Et(28295,{value:r})}function ui(r,t){if(r===t)return!0;const n=Vr(r);if(n!==Vr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return _l(r).isEqual(_l(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Nr(l.timestampValue),g=Nr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,c){return Mr(l.bytesValue).isEqual(Mr(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,c){return me(l.geoPointValue.latitude)===me(c.geoPointValue.latitude)&&me(l.geoPointValue.longitude)===me(c.geoPointValue.longitude)}(r,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return me(l.integerValue)===me(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=me(l.doubleValue),g=me(c.doubleValue);return d===g?Oc(d)===Oc(g):isNaN(d)&&isNaN(g)}return!1}(r,t);case 9:return Ua(r.arrayValue.values||[],t.arrayValue.values||[],ui);case 10:case 11:return function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if($_(d)!==$_(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!ui(d[p],g[p])))return!1;return!0}(r,t);default:return Et(52216,{left:r})}}function El(r,t){return(r.values||[]).find(n=>ui(n,t))!==void 0}function La(r,t){if(r===t)return 0;const n=Vr(r),s=Vr(t);if(n!==s)return Dt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Dt(r.booleanValue,t.booleanValue);case 2:return function(c,d){const g=me(c.integerValue||c.doubleValue),p=me(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,t);case 3:return J_(r.timestampValue,t.timestampValue);case 4:return J_(_l(r),_l(t));case 5:return Ud(r.stringValue,t.stringValue);case 6:return function(c,d){const g=Mr(c),p=Mr(d);return g.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let _=0;_<g.length&&_<p.length;_++){const T=Dt(g[_],p[_]);if(T!==0)return T}return Dt(g.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,d){const g=Dt(me(c.latitude),me(d.latitude));return g!==0?g:Dt(me(c.longitude),me(d.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return W_(r.arrayValue,t.arrayValue);case 10:return function(c,d){var g,p,_,T;const C=c.fields||{},D=d.fields||{},q=(g=C[Mc])===null||g===void 0?void 0:g.arrayValue,K=(p=D[Mc])===null||p===void 0?void 0:p.arrayValue,J=Dt(((_=q==null?void 0:q.values)===null||_===void 0?void 0:_.length)||0,((T=K==null?void 0:K.values)===null||T===void 0?void 0:T.length)||0);return J!==0?J:W_(q,K)}(r.mapValue,t.mapValue);case 11:return function(c,d){if(c===cc.mapValue&&d===cc.mapValue)return 0;if(c===cc.mapValue)return 1;if(d===cc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),_=d.fields||{},T=Object.keys(_);p.sort(),T.sort();for(let C=0;C<p.length&&C<T.length;++C){const D=Ud(p[C],T[C]);if(D!==0)return D;const q=La(g[p[C]],_[T[C]]);if(q!==0)return q}return Dt(p.length,T.length)}(r.mapValue,t.mapValue);default:throw Et(23264,{Pe:n})}}function J_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Dt(r,t);const n=Nr(r),s=Nr(t),l=Dt(n.seconds,s.seconds);return l!==0?l:Dt(n.nanos,s.nanos)}function W_(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const c=La(n[l],s[l]);if(c)return c}return Dt(n.length,s.length)}function ka(r){return Ld(r)}function Ld(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Nr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Mr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return pt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=Ld(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${Ld(n.fields[d])}`;return l+"}"}(r.mapValue):Et(61005,{value:r})}function _c(r){switch(Vr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=$c(r);return t?16+_c(t):16;case 5:return 2*r.stringValue.length;case 6:return Mr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,c)=>l+_c(c),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return Ds(s.fields,(c,d)=>{l+=c.length+_c(d)}),l}(r.mapValue);default:throw Et(13486,{value:r})}}function kd(r){return!!r&&"integerValue"in r}function pm(r){return!!r&&"arrayValue"in r}function tv(r){return!!r&&"nullValue"in r}function ev(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function vc(r){return!!r&&"mapValue"in r}function iw(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[Q0])===null||n===void 0?void 0:n.stringValue)===K0}function hl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Ds(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=hl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=hl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function rw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===nw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(t){this.value=t}static empty(){return new In({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!vc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=hl(n)}setAll(t){let n=Be.emptyPath(),s={},l=[];t.forEach((d,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,l),s={},l=[],n=g.popLast()}d?s[g.lastSegment()]=hl(d):l.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(t){const n=this.field(t.popLast());vc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ui(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];vc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){Ds(n,(l,c)=>t[l]=c);for(const l of s)delete t[l]}clone(){return new In(hl(this.value))}}function Y0(r){const t=[];return Ds(r.fields,(n,s)=>{const l=new Be([n]);if(vc(s)){const c=Y0(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)}),new Bn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,n,s,l,c,d,g){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Xe(t,0,At.min(),At.min(),At.min(),In.empty(),0)}static newFoundDocument(t,n,s,l){return new Xe(t,1,n,At.min(),s,l,0)}static newNoDocument(t,n){return new Xe(t,2,n,At.min(),At.min(),In.empty(),0)}static newUnknownDocument(t,n){return new Xe(t,3,n,At.min(),At.min(),In.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(t,n){this.position=t,this.inclusive=n}}function nv(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?s=pt.comparator(pt.fromName(d.referenceValue),n.key):s=La(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function iv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ui(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(t,n="asc"){this.field=t,this.dir=n}}function sw(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{}class Re extends X0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new ow(t,n,s):n==="array-contains"?new cw(t,s):n==="in"?new hw(t,s):n==="not-in"?new fw(t,s):n==="array-contains-any"?new dw(t,s):new Re(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new lw(t,s):new uw(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(La(n,this.value)):n!==null&&Vr(this.value)===Vr(n)&&this.matchesComparison(La(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends X0{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new ci(t,n)}matches(t){return $0(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function $0(r){return r.op==="and"}function Z0(r){return aw(r)&&$0(r)}function aw(r){for(const t of r.filters)if(t instanceof ci)return!1;return!0}function zd(r){if(r instanceof Re)return r.field.canonicalString()+r.op.toString()+ka(r.value);if(Z0(r))return r.filters.map(t=>zd(t)).join(",");{const t=r.filters.map(n=>zd(n)).join(",");return`${r.op}(${t})`}}function J0(r,t){return r instanceof Re?function(s,l){return l instanceof Re&&s.op===l.op&&s.field.isEqual(l.field)&&ui(s.value,l.value)}(r,t):r instanceof ci?function(s,l){return l instanceof ci&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((c,d,g)=>c&&J0(d,l.filters[g]),!0):!1}(r,t):void Et(19439)}function W0(r){return r instanceof Re?function(n){return`${n.field.canonicalString()} ${n.op} ${ka(n.value)}`}(r):r instanceof ci?function(n){return n.op.toString()+" {"+n.getFilters().map(W0).join(" ,")+"}"}(r):"Filter"}class ow extends Re{constructor(t,n,s){super(t,n,s),this.key=pt.fromName(s.referenceValue)}matches(t){const n=pt.comparator(t.key,this.key);return this.matchesComparison(n)}}class lw extends Re{constructor(t,n){super(t,"in",n),this.keys=tE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class uw extends Re{constructor(t,n){super(t,"not-in",n),this.keys=tE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function tE(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>pt.fromName(s.referenceValue))}class cw extends Re{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return pm(n)&&El(n.arrayValue,this.value)}}class hw extends Re{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&El(this.value.arrayValue,n)}}class fw extends Re{constructor(t,n){super(t,"not-in",n)}matches(t){if(El(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!El(this.value.arrayValue,n)}}class dw extends Re{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!pm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>El(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(t,n=null,s=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Ie=null}}function rv(r,t=null,n=[],s=[],l=null,c=null,d=null){return new mw(r,t,n,s,l,c,d)}function ym(r){const t=St(r);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>zd(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Xc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>ka(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>ka(s)).join(",")),t.Ie=n}return t.Ie}function _m(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!sw(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!J0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!iv(r.startAt,t.startAt)&&iv(r.endAt,t.endAt)}function Bd(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(t,n=null,s=[],l=[],c=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function gw(r,t,n,s,l,c,d,g){return new Zc(r,t,n,s,l,c,d,g)}function vm(r){return new Zc(r)}function sv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function pw(r){return r.collectionGroup!==null}function fl(r){const t=St(r);if(t.Ee===null){t.Ee=[];const n=new Set;for(const c of t.explicitOrderBy)t.Ee.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ce(Be.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(t).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||t.Ee.push(new xc(c,s))}),n.has(Be.keyField().canonicalString())||t.Ee.push(new xc(Be.keyField(),s))}return t.Ee}function ai(r){const t=St(r);return t.de||(t.de=yw(t,fl(r))),t.de}function yw(r,t){if(r.limitType==="F")return rv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new xc(l.field,c)});const n=r.endAt?new Vc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Vc(r.startAt.position,r.startAt.inclusive):null;return rv(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function jd(r,t,n){return new Zc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Jc(r,t){return _m(ai(r),ai(t))&&r.limitType===t.limitType}function eE(r){return`${ym(ai(r))}|lt:${r.limitType}`}function wa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>W0(l)).join(", ")}]`),Xc(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>ka(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>ka(l)).join(",")),`Target(${s})`}(ai(r))}; limitType=${r.limitType})`}function Wc(r,t){return t.isFoundDocument()&&function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):pt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,l){for(const c of fl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(r,t)&&function(s,l){return!(s.startAt&&!function(d,g,p){const _=nv(d,g,p);return d.inclusive?_<=0:_<0}(s.startAt,fl(s),l)||s.endAt&&!function(d,g,p){const _=nv(d,g,p);return d.inclusive?_>=0:_>0}(s.endAt,fl(s),l))}(r,t)}function _w(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function nE(r){return(t,n)=>{let s=!1;for(const l of fl(r)){const c=vw(l,t,n);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function vw(r,t,n){const s=r.field.isKeyField()?pt.comparator(t.key,n.key):function(c,d,g){const p=d.data.field(c),_=g.data.field(c);return p!==null&&_!==null?La(p,_):Et(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ds(this.inner,(n,s)=>{for(const[l,c]of s)t(l,c)})}isEmpty(){return B0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=new ae(pt.comparator);function Gi(){return Ew}const iE=new ae(pt.comparator);function ol(...r){let t=iE;for(const n of r)t=t.insert(n.key,n);return t}function rE(r){let t=iE;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Ts(){return dl()}function sE(){return dl()}function dl(){return new Os(r=>r.toString(),(r,t)=>r.isEqual(t))}const Tw=new ae(pt.comparator),Aw=new Ce(pt.comparator);function Pt(...r){let t=Aw;for(const n of r)t=t.add(n);return t}const Sw=new Ce(Dt);function bw(){return Sw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oc(t)?"-0":t}}function aE(r){return{integerValue:""+r}}function Rw(r,t){return ZR(t)?aE(t):Em(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(){this._=void 0}}function ww(r,t,n){return r instanceof Pc?function(l,c){const d={fields:{[H0]:{stringValue:q0},[F0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&gm(c)&&(c=$c(c)),c&&(d.fields[G0]=c),{mapValue:d}}(n,t):r instanceof Tl?lE(r,t):r instanceof Al?uE(r,t):function(l,c){const d=oE(l,c),g=av(d)+av(l.Re);return kd(d)&&kd(l.Re)?aE(g):Em(l.serializer,g)}(r,t)}function Cw(r,t,n){return r instanceof Tl?lE(r,t):r instanceof Al?uE(r,t):n}function oE(r,t){return r instanceof Uc?function(s){return kd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class Pc extends th{}class Tl extends th{constructor(t){super(),this.elements=t}}function lE(r,t){const n=cE(t);for(const s of r.elements)n.some(l=>ui(l,s))||n.push(s);return{arrayValue:{values:n}}}class Al extends th{constructor(t){super(),this.elements=t}}function uE(r,t){let n=cE(t);for(const s of r.elements)n=n.filter(l=>!ui(l,s));return{arrayValue:{values:n}}}class Uc extends th{constructor(t,n){super(),this.serializer=t,this.Re=n}}function av(r){return me(r.integerValue||r.doubleValue)}function cE(r){return pm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Iw(r,t){return r.field.isEqual(t.field)&&function(s,l){return s instanceof Tl&&l instanceof Tl||s instanceof Al&&l instanceof Al?Ua(s.elements,l.elements,ui):s instanceof Uc&&l instanceof Uc?ui(s.Re,l.Re):s instanceof Pc&&l instanceof Pc}(r.transform,t.transform)}class Dw{constructor(t,n){this.version=t,this.transformResults=n}}class Bi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Bi}static exists(t){return new Bi(void 0,t)}static updateTime(t){return new Bi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ec(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class eh{}function hE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new dE(r.key,Bi.none()):new Nl(r.key,r.data,Bi.none());{const n=r.data,s=In.empty();let l=new Ce(Be.comparator);for(let c of t.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new Ns(r.key,s,new Bn(l.toArray()),Bi.none())}}function Ow(r,t,n){r instanceof Nl?function(l,c,d){const g=l.value.clone(),p=lv(l.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,t,n):r instanceof Ns?function(l,c,d){if(!Ec(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=lv(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(fE(l)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,t,n):function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,n)}function ml(r,t,n,s){return r instanceof Nl?function(c,d,g,p){if(!Ec(c.precondition,d))return g;const _=c.value.clone(),T=uv(c.fieldTransforms,p,d);return _.setAll(T),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(r,t,n,s):r instanceof Ns?function(c,d,g,p){if(!Ec(c.precondition,d))return g;const _=uv(c.fieldTransforms,p,d),T=d.data;return T.setAll(fE(c)),T.setAll(_),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(C=>C.field))}(r,t,n,s):function(c,d,g){return Ec(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,t,n)}function Nw(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=oE(s.transform,l||null);c!=null&&(n===null&&(n=In.empty()),n.set(s.field,c))}return n||null}function ov(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Ua(s,l,(c,d)=>Iw(c,d))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Nl extends eh{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ns extends eh{constructor(t,n,s,l,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function fE(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function lv(r,t,n){const s=new Map;Ft(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let l=0;l<n.length;l++){const c=r[l],d=c.transform,g=t.data.field(c.field);s.set(c.field,Cw(d,g,n[l]))}return s}function uv(r,t,n){const s=new Map;for(const l of r){const c=l.transform,d=n.data.field(l.field);s.set(l.field,ww(c,d,t))}return s}class dE extends eh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Mw extends eh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&Ow(c,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=ml(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=ml(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=sE();return this.mutations.forEach(l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=n.has(l.key)?null:g;const p=hE(d,g);p!==null&&s.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(At.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Pt())}isEqual(t){return this.batchId===t.batchId&&Ua(this.mutations,t.mutations,(n,s)=>ov(n,s))&&Ua(this.baseMutations,t.baseMutations,(n,s)=>ov(n,s))}}class Tm{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){Ft(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let l=function(){return Tw}();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new Tm(t,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve,Bt;function Uw(r){switch(r){case Z.OK:return Et(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Et(15467,{code:r})}}function mE(r){if(r===void 0)return Hi("GRPC error has no .code"),Z.UNKNOWN;switch(r){case ve.OK:return Z.OK;case ve.CANCELLED:return Z.CANCELLED;case ve.UNKNOWN:return Z.UNKNOWN;case ve.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case ve.INTERNAL:return Z.INTERNAL;case ve.UNAVAILABLE:return Z.UNAVAILABLE;case ve.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case ve.NOT_FOUND:return Z.NOT_FOUND;case ve.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case ve.ABORTED:return Z.ABORTED;case ve.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case ve.DATA_LOSS:return Z.DATA_LOSS;default:return Et(39323,{code:r})}}(Bt=ve||(ve={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=new Ir([4294967295,4294967295],0);function cv(r){const t=L0().encode(r),n=new D0;return n.update(t),new Uint8Array(n.digest())}function hv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ir([n,s],0),new Ir([l,c],0)]}class Am{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ll(`Invalid padding: ${n}`);if(s<0)throw new ll(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new ll(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new ll(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=Ir.fromNumber(this.pe)}we(t,n,s){let l=t.add(n.multiply(Ir.fromNumber(s)));return l.compare(Lw)===1&&(l=new Ir([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=cv(t),[s,l]=hv(n);for(let c=0;c<this.hashCount;c++){const d=this.we(s,l,c);if(!this.be(d))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Am(c,l,n);return s.forEach(g=>d.insert(g)),d}insert(t){if(this.pe===0)return;const n=cv(t),[s,l]=hv(n);for(let c=0;c<this.hashCount;c++){const d=this.we(s,l,c);this.Se(d)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t,n,s,l,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,Ml.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new nh(At.min(),l,new ae(Dt),Gi(),Pt())}}class Ml{constructor(t,n,s,l,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Ml(s,n,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(t,n,s,l){this.De=t,this.removedTargetIds=n,this.key=s,this.ve=l}}class gE{constructor(t,n){this.targetId=t,this.Ce=n}}class pE{constructor(t,n,s=je.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class fv{constructor(){this.Fe=0,this.Me=dv(),this.xe=je.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Pt(),n=Pt(),s=Pt();return this.Me.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:Et(38017,{changeType:c})}}),new Ml(this.xe,this.Oe,t,n,s)}Qe(){this.Ne=!1,this.Me=dv()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ft(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class kw{constructor(t){this.ze=t,this.je=new Map,this.He=Gi(),this.Je=hc(),this.Ye=hc(),this.Ze=new ae(Dt)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const s=this.rt(n);switch(t.state){case 0:this.it(n)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(t.resumeToken));break;default:Et(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((s,l)=>{this.it(l)&&n(l)})}ot(t){const n=t.targetId,s=t.Ce.count,l=this._t(n);if(l){const c=l.target;if(Bd(c))if(s===0){const d=new pt(c.path);this.tt(n,d,Xe.newNoDocument(d,At.min()))}else Ft(s===1,20013,{expectedCount:s});else{const d=this.ut(n);if(d!==s){const g=this.ct(t),p=g?this.lt(g,t,d):1;if(p!==0){this.st(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,_)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let d,g;try{d=Mr(s).toUint8Array()}catch(p){if(p instanceof j0)return Pa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Am(d,l,c)}catch(p){return Pa(p instanceof ll?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.pe===0?null:g}lt(t,n,s){return n.Ce.count===s-this.Tt(t,n.targetId)?0:2}Tt(t,n){const s=this.ze.getRemoteKeysForTarget(n);let l=0;return s.forEach(c=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.tt(n,c,null),l++)}),l}It(t){const n=new Map;this.je.forEach((c,d)=>{const g=this._t(d);if(g){if(c.current&&Bd(g.target)){const p=new pt(g.target.path);this.Et(p).has(d)||this.dt(d,p)||this.tt(d,p,Xe.newNoDocument(p,t))}c.Le&&(n.set(d,c.qe()),c.Qe())}});let s=Pt();this.Ye.forEach((c,d)=>{let g=!0;d.forEachWhile(p=>{const _=this._t(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.He.forEach((c,d)=>d.setReadTime(t));const l=new nh(t,n,this.Ze,this.He,s);return this.He=Gi(),this.Je=hc(),this.Ye=hc(),this.Ze=new ae(Dt),l}et(t,n){if(!this.it(t))return;const s=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,s){if(!this.it(t))return;const l=this.rt(t);this.dt(t,n)?l.$e(n,1):l.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),s&&(this.He=this.He.insert(n,s))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new fv,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new Ce(Dt),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new Ce(Dt),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||ot("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new fv),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function hc(){return new ae(pt.comparator)}function dv(){return new ae(pt.comparator)}const zw={asc:"ASCENDING",desc:"DESCENDING"},Bw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jw={and:"AND",or:"OR"};class qw{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function qd(r,t){return r.useProto3Json||Xc(t)?t:{value:t}}function Lc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function yE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Hw(r,t){return Lc(r,t.toTimestamp())}function oi(r){return Ft(!!r,49232),At.fromTimestamp(function(n){const s=Nr(n);return new we(s.seconds,s.nanos)}(r))}function Sm(r,t){return Hd(r,t).canonicalString()}function Hd(r,t){const n=function(l){return new ce(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?n:n.child(t)}function _E(r){const t=ce.fromString(r);return Ft(SE(t),10190,{key:t.toString()}),t}function Gd(r,t){return Sm(r.databaseId,t.path)}function Ad(r,t){const n=_E(t);if(n.get(1)!==r.databaseId.projectId)throw new gt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new gt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pt(EE(n))}function vE(r,t){return Sm(r.databaseId,t)}function Gw(r){const t=_E(r);return t.length===4?ce.emptyPath():EE(t)}function Fd(r){return new ce(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function EE(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function mv(r,t,n){return{name:Gd(r,t),fields:n.value.mapValue.fields}}function Fw(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Et(39313,{state:_})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(_,T){return _.useProto3Json?(Ft(T===void 0||typeof T=="string",58123),je.fromBase64String(T||"")):(Ft(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),je.fromUint8Array(T||new Uint8Array))}(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(_){const T=_.code===void 0?Z.UNKNOWN:mE(_.code);return new gt(T,_.message||"")}(d);n=new pE(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Ad(r,s.document.name),c=oi(s.document.updateTime),d=s.document.createTime?oi(s.document.createTime):At.min(),g=new In({mapValue:{fields:s.document.fields}}),p=Xe.newFoundDocument(l,c,d,g),_=s.targetIds||[],T=s.removedTargetIds||[];n=new Tc(_,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Ad(r,s.document),c=s.readTime?oi(s.readTime):At.min(),d=Xe.newNoDocument(l,c),g=s.removedTargetIds||[];n=new Tc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Ad(r,s.document),c=s.removedTargetIds||[];n=new Tc([],c,l,null)}else{if(!("filter"in t))return Et(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new Pw(l,c),g=s.targetId;n=new gE(g,d)}}return n}function Qw(r,t){let n;if(t instanceof Nl)n={update:mv(r,t.key,t.value)};else if(t instanceof dE)n={delete:Gd(r,t.key)};else if(t instanceof Ns)n={update:mv(r,t.key,t.data),updateMask:eC(t.fieldMask)};else{if(!(t instanceof Mw))return Et(16599,{ft:t.type});n={verify:Gd(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(c,d){const g=d.transform;if(g instanceof Pc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Tl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Al)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Uc)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw Et(20930,{transform:d.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:Hw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Et(27497)}(r,t.precondition)),n}function Kw(r,t){return r&&r.length>0?(Ft(t!==void 0,14353),r.map(n=>function(l,c){let d=l.updateTime?oi(l.updateTime):oi(c);return d.isEqual(At.min())&&(d=oi(c)),new Dw(d,l.transformResults||[])}(n,t))):[]}function Yw(r,t){return{documents:[vE(r,t.path)]}}function Xw(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=vE(r,l);const c=function(_){if(_.length!==0)return AE(ci.create(_,"and"))}(t.filters);c&&(n.structuredQuery.where=c);const d=function(_){if(_.length!==0)return _.map(T=>function(D){return{field:Ca(D.field),direction:Jw(D.dir)}}(T))}(t.orderBy);d&&(n.structuredQuery.orderBy=d);const g=qd(r,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(t.endAt)),{gt:n,parent:l}}function $w(r){let t=Gw(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Ft(s===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];n.where&&(c=function(C){const D=TE(C);return D instanceof ci&&Z0(D)?D.getFilters():[D]}(n.where));let d=[];n.orderBy&&(d=function(C){return C.map(D=>function(K){return new xc(Ia(K.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(K.direction))}(D))}(n.orderBy));let g=null;n.limit&&(g=function(C){let D;return D=typeof C=="object"?C.value:C,Xc(D)?null:D}(n.limit));let p=null;n.startAt&&(p=function(C){const D=!!C.before,q=C.values||[];return new Vc(q,D)}(n.startAt));let _=null;return n.endAt&&(_=function(C){const D=!C.before,q=C.values||[];return new Vc(q,D)}(n.endAt)),gw(t,l,d,c,g,"F",p,_)}function Zw(r,t){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:l})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function TE(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ia(n.unaryFilter.field);return Re.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ia(n.unaryFilter.field);return Re.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ia(n.unaryFilter.field);return Re.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ia(n.unaryFilter.field);return Re.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}}(r):r.fieldFilter!==void 0?function(n){return Re.create(Ia(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return ci.create(n.compositeFilter.filters.map(s=>TE(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Et(1026)}}(n.compositeFilter.op))}(r):Et(30097,{filter:r})}function Jw(r){return zw[r]}function Ww(r){return Bw[r]}function tC(r){return jw[r]}function Ca(r){return{fieldPath:r.canonicalString()}}function Ia(r){return Be.fromServerFormat(r.fieldPath)}function AE(r){return r instanceof Re?function(n){if(n.op==="=="){if(ev(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NAN"}};if(tv(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ev(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NOT_NAN"}};if(tv(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ca(n.field),op:Ww(n.op),value:n.value}}}(r):r instanceof ci?function(n){const s=n.getFilters().map(l=>AE(l));return s.length===1?s[0]:{compositeFilter:{op:tC(n.op),filters:s}}}(r):Et(54877,{filter:r})}function eC(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function SE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(t,n,s,l,c=At.min(),d=At.min(),g=je.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new br(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(t){this.wt=t}}function iC(r){const t=$w({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?jd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(){this.yn=new sC}addToCollectionParentIndex(t,n){return this.yn.add(n),Y.resolve()}getCollectionParents(t,n){return Y.resolve(this.yn.getEntries(n))}addFieldIndex(t,n){return Y.resolve()}deleteFieldIndex(t,n){return Y.resolve()}deleteAllFieldIndexes(t){return Y.resolve()}createTargetIndexes(t,n){return Y.resolve()}getDocumentsMatchingTarget(t,n){return Y.resolve(null)}getIndexType(t,n){return Y.resolve(0)}getFieldIndexes(t,n){return Y.resolve([])}getNextCollectionGroupToUpdate(t){return Y.resolve(null)}getMinOffset(t,n){return Y.resolve(Or.min())}getMinOffsetFromCollectionGroup(t,n){return Y.resolve(Or.min())}updateCollectionGroup(t,n,s){return Y.resolve()}updateIndexEntries(t,n){return Y.resolve()}}class sC{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new Ce(ce.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Ce(ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bE=41943040;class sn{static withCacheSize(t){return new sn(t,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(bE,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new za(0)}static ir(){return new za(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="LruGarbageCollector",aC=1048576;function yv([r,t],[n,s]){const l=Dt(r,n);return l===0?Dt(t,s):l}class oC{constructor(t){this.cr=t,this.buffer=new Ce(yv),this.lr=0}hr(){return++this.lr}Pr(t){const n=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();yv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class lC{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){ot(pv,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ka(n)?ot(pv,"Ignoring IndexedDB error during garbage collection: ",n):await Qa(n)}await this.Ir(3e5)})}}class uC{constructor(t,n){this.Er=t,this.params=n}calculateTargetCount(t,n){return this.Er.dr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return Y.resolve(Yc.le);const s=new oC(n);return this.Er.forEachTarget(t,l=>s.Pr(l.sequenceNumber)).next(()=>this.Er.Ar(t,l=>s.Pr(l))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.Er.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Er.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(gv)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gv):this.Rr(t,n))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,n){let s,l,c,d,g,p,_;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),l=this.params.maximumSequenceNumbersToCollect):l=C,d=Date.now(),this.nthSequenceNumber(t,l))).next(C=>(s=C,g=Date.now(),this.removeTargets(t,s,n))).next(C=>(c=C,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(C=>(_=Date.now(),Ra()<=xt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${C} documents in `+(_-p)+`ms
Total Duration: ${_-T}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:C})))}}function cC(r,t){return new uC(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.changes=new Os(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Y.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,n))).next(l=>(s!==null&&ml(s.mutation,l,Bn.empty(),we.now()),l))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Pt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Pt()){const l=Ts();return this.populateOverlays(t,l,n).next(()=>this.computeViews(t,n,l,s).next(c=>{let d=ol();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(t,n){const s=Ts();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Pt()))}populateOverlays(t,n,s){const l=[];return s.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((d,g)=>{n.set(d,g)})})}computeViews(t,n,s,l){let c=Gi();const d=dl(),g=function(){return dl()}();return n.forEach((p,_)=>{const T=s.get(_.key);l.has(_.key)&&(T===void 0||T.mutation instanceof Ns)?c=c.insert(_.key,_):T!==void 0?(d.set(_.key,T.mutation.getFieldMask()),ml(T.mutation,_,T.mutation.getFieldMask(),we.now())):d.set(_.key,Bn.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((_,T)=>d.set(_,T)),n.forEach((_,T)=>{var C;return g.set(_,new fC(T,(C=d.get(_))!==null&&C!==void 0?C:null))}),g))}recalculateAndSaveOverlays(t,n){const s=dl();let l=new ae((d,g)=>d-g),c=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(d=>{for(const g of d)g.keys().forEach(p=>{const _=n.get(p);if(_===null)return;let T=s.get(p)||Bn.empty();T=g.applyToLocalView(_,T),s.set(p,T);const C=(l.get(g.batchId)||Pt()).add(p);l=l.insert(g.batchId,C)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,T=p.value,C=sE();T.forEach(D=>{if(!c.has(D)){const q=hE(n.get(D),s.get(D));q!==null&&C.set(D,q),c=c.add(D)}}),d.push(this.documentOverlayCache.saveOverlays(t,_,C))}return Y.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,l){return function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):pw(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next(c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-c.size):Y.resolve(Ts());let g=yl,p=c;return d.next(_=>Y.forEach(_,(T,C)=>(g<C.largestBatchId&&(g=C.largestBatchId),c.get(T)?Y.resolve():this.remoteDocumentCache.getEntry(t,T).next(D=>{p=p.insert(T,D)}))).next(()=>this.populateOverlays(t,_,c)).next(()=>this.computeViews(t,p,_,Pt())).next(T=>({batchId:g,changes:rE(T)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new pt(n)).next(s=>{let l=ol();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const c=n.collectionGroup;let d=ol();return this.indexManager.getCollectionParents(t,c).next(g=>Y.forEach(g,p=>{const _=function(C,D){return new Zc(D,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,s,l).next(T=>{T.forEach((C,D)=>{d=d.insert(C,D)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,l))).next(d=>{c.forEach((p,_)=>{const T=_.getKey();d.get(T)===null&&(d=d.insert(T,Xe.newInvalidDocument(T)))});let g=ol();return d.forEach((p,_)=>{const T=c.get(p);T!==void 0&&ml(T.mutation,_,Bn.empty(),we.now()),Wc(n,_)&&(g=g.insert(p,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,n){return Y.resolve(this.Fr.get(n))}saveBundleMetadata(t,n){return this.Fr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:oi(l.createTime)}}(n)),Y.resolve()}getNamedQuery(t,n){return Y.resolve(this.Mr.get(n))}saveNamedQuery(t,n){return this.Mr.set(n.name,function(l){return{name:l.name,query:iC(l.bundledQuery),readTime:oi(l.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(){this.overlays=new ae(pt.comparator),this.Or=new Map}getOverlay(t,n){return Y.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ts();return Y.forEach(n,l=>this.getOverlay(t,l).next(c=>{c!==null&&s.set(l,c)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((l,c)=>{this.St(t,n,c)}),Y.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.Or.get(s);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Or.delete(s)),Y.resolve()}getOverlaysForCollection(t,n,s){const l=Ts(),c=n.length+1,d=new pt(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return Y.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let c=new ae((_,T)=>_-T);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let T=c.get(_.largestBatchId);T===null&&(T=Ts(),c=c.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const g=Ts(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,T)=>g.set(_,T)),!(g.size()>=l)););return Y.resolve(g)}St(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Or.get(l.largestBatchId).delete(s.key);this.Or.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new xw(n,s));let c=this.Or.get(n);c===void 0&&(c=Pt(),this.Or.set(n,c)),this.Or.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(){this.sessionToken=je.EMPTY_BYTE_STRING}getSessionToken(t){return Y.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(){this.Nr=new Ce(Ve.Br),this.Lr=new Ce(Ve.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,n){const s=new Ve(t,n);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.Qr(new Ve(t,n))}$r(t,n){t.forEach(s=>this.removeReference(s,n))}Ur(t){const n=new pt(new ce([])),s=new Ve(n,t),l=new Ve(n,t+1),c=[];return this.Lr.forEachInRange([s,l],d=>{this.Qr(d),c.push(d.key)}),c}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const n=new pt(new ce([])),s=new Ve(n,t),l=new Ve(n,t+1);let c=Pt();return this.Lr.forEachInRange([s,l],d=>{c=c.add(d.key)}),c}containsKey(t){const n=new Ve(t,0),s=this.Nr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ve{constructor(t,n){this.key=t,this.Gr=n}static Br(t,n){return pt.comparator(t.key,n.key)||Dt(t.Gr,n.Gr)}static kr(t,n){return Dt(t.Gr,n.Gr)||pt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Ce(Ve.Br)}checkEmpty(t){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const c=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Vw(c,n,s,l);this.mutationQueue.push(d);for(const g of l)this.zr=this.zr.add(new Ve(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(t,n){return Y.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.Hr(s),c=l<0?0:l;return Y.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?mm:this.Jn-1)}getAllMutationBatches(t){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ve(n,0),l=new Ve(n,Number.POSITIVE_INFINITY),c=[];return this.zr.forEachInRange([s,l],d=>{const g=this.jr(d.Gr);c.push(g)}),Y.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ce(Dt);return n.forEach(l=>{const c=new Ve(l,0),d=new Ve(l,Number.POSITIVE_INFINITY);this.zr.forEachInRange([c,d],g=>{s=s.add(g.Gr)})}),Y.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let c=s;pt.isDocumentKey(c)||(c=c.child(""));const d=new Ve(new pt(c),0);let g=new Ce(Dt);return this.zr.forEachWhile(p=>{const _=p.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(g=g.add(p.Gr)),!0)},d),Y.resolve(this.Jr(g))}Jr(t){const n=[];return t.forEach(s=>{const l=this.jr(s);l!==null&&n.push(l)}),n}removeMutationBatch(t,n){Ft(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return Y.forEach(n.mutations,l=>{const c=new Ve(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.zr=s})}Xn(t){}containsKey(t,n){const s=new Ve(n,0),l=this.zr.firstAfterOrEqual(s);return Y.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Y.resolve()}Yr(t,n){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const n=this.Hr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(t){this.Zr=t,this.docs=function(){return new ae(pt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,d=this.Zr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return Y.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(n))}getEntries(t,n){let s=Gi();return n.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Xe.newInvalidDocument(l))}),Y.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let c=Gi();const d=n.path,g=new pt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:T}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||KR(QR(T),s)<=0||(l.has(T.key)||Wc(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return Y.resolve(c)}getAllFromCollectionGroup(t,n,s,l){Et(9500)}Xr(t,n){return Y.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new vC(this)}getSize(t){return Y.resolve(this.size)}}class vC extends hC{constructor(t){super(),this.vr=t}applyChanges(t){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.vr.addEntry(t,l)):this.vr.removeEntry(s)}),Y.waitFor(n)}getFromCache(t,n){return this.vr.getEntry(t,n)}getAllFromCache(t,n){return this.vr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(t){this.persistence=t,this.ei=new Os(n=>ym(n),_m),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.ti=0,this.ni=new bm,this.targetCount=0,this.ri=za.rr()}forEachTarget(t,n){return this.ei.forEach((s,l)=>n(l)),Y.resolve()}getLastRemoteSnapshotVersion(t){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Y.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ti&&(this.ti=n),Y.resolve()}ar(t){this.ei.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ri=new za(n),this.highestTargetId=n),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,n){return this.ar(n),this.targetCount+=1,Y.resolve()}updateTargetData(t,n){return this.ar(n),Y.resolve()}removeTargetData(t,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(t,n,s){let l=0;const c=[];return this.ei.forEach((d,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.ei.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),Y.waitFor(c).next(()=>l)}getTargetCount(t){return Y.resolve(this.targetCount)}getTargetData(t,n){const s=this.ei.get(n)||null;return Y.resolve(s)}addMatchingKeys(t,n,s){return this.ni.qr(n,s),Y.resolve()}removeMatchingKeys(t,n,s){this.ni.$r(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(d=>{c.push(l.markPotentiallyOrphaned(t,d))}),Y.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this.ni.Ur(n),Y.resolve()}getMatchingKeysForTargetId(t,n){const s=this.ni.Wr(n);return Y.resolve(s)}containsKey(t,n){return Y.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(t,n){this.ii={},this.overlays={},this.si=new Yc(0),this.oi=!1,this.oi=!0,this._i=new pC,this.referenceDelegate=t(this),this.ai=new EC(this),this.indexManager=new rC,this.remoteDocumentCache=function(l){return new _C(l)}(s=>this.referenceDelegate.ui(s)),this.serializer=new nC(n),this.ci=new mC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new gC,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ii[t.toKey()];return s||(s=new yC(n,this.referenceDelegate),this.ii[t.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,n,s){ot("MemoryPersistence","Starting transaction:",t);const l=new TC(this.si.next());return this.referenceDelegate.li(),s(l).next(c=>this.referenceDelegate.hi(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Pi(t,n){return Y.or(Object.values(this.ii).map(s=>()=>s.containsKey(t,n)))}}class TC extends XR{constructor(t){super(),this.currentSequenceNumber=t}}class Rm{constructor(t){this.persistence=t,this.Ti=new bm,this.Ii=null}static Ei(t){return new Rm(t)}get di(){if(this.Ii)return this.Ii;throw Et(60996)}addReference(t,n,s){return this.Ti.addReference(s,n),this.di.delete(s.toString()),Y.resolve()}removeReference(t,n,s){return this.Ti.removeReference(s,n),this.di.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),Y.resolve()}removeTarget(t,n){this.Ti.Ur(n.targetId).forEach(l=>this.di.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(l=>{l.forEach(c=>this.di.add(c.toString()))}).next(()=>s.removeTargetData(t,n))}li(){this.Ii=new Set}hi(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.di,s=>{const l=pt.fromPath(s);return this.Ai(t,l).next(c=>{c||n.removeEntry(l,At.min())})}).next(()=>(this.Ii=null,n.apply(t)))}updateLimboDocument(t,n){return this.Ai(t,n).next(s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(t){return 0}Ai(t,n){return Y.or([()=>Y.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Pi(t,n)])}}class kc{constructor(t,n){this.persistence=t,this.Ri=new Os(s=>JR(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=cC(this,n)}static Ei(t,n){return new kc(t,n)}li(){}hi(t){return Y.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(l=>s+l))}Vr(t){let n=0;return this.Ar(t,s=>{n++}).next(()=>n)}Ar(t,n){return Y.forEach(this.Ri,(s,l)=>this.gr(t,s,l).next(c=>c?Y.resolve():n(l)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.Xr(t,d=>this.gr(t,d,n).next(g=>{g||(s++,c.removeEntry(d,At.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.Ri.set(n,t.currentSequenceNumber),Y.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.Ri.set(s,t.currentSequenceNumber),Y.resolve()}removeReference(t,n,s){return this.Ri.set(s,t.currentSequenceNumber),Y.resolve()}updateLimboDocument(t,n){return this.Ri.set(n,t.currentSequenceNumber),Y.resolve()}ui(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=_c(t.data.value)),n}gr(t,n,s){return Y.or([()=>this.persistence.Pi(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.Ri.get(n);return Y.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.ls=s,this.hs=l}static Ps(t,n){let s=Pt(),l=Pt();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new wm(t,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return gS()?8:$R($e())>0?6:4}()}initialize(t,n){this.As=t,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(t,n,s,l){const c={result:null};return this.Rs(t,n).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.Vs(t,n,l,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new AC;return this.fs(t,n,d).next(g=>{if(c.result=g,this.Is)return this.gs(t,n,d,g.size)})}).next(()=>c.result)}gs(t,n,s,l){return s.documentReadCount<this.Es?(Ra()<=xt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",wa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),Y.resolve()):(Ra()<=xt.DEBUG&&ot("QueryEngine","Query:",wa(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ds*l?(Ra()<=xt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",wa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ai(n))):Y.resolve())}Rs(t,n){if(sv(n))return Y.resolve(null);let s=ai(n);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=jd(n,null,"F"),s=ai(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const d=Pt(...c);return this.As.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,s).next(p=>{const _=this.ps(n,g);return this.ys(n,_,d,p.readTime)?this.Rs(t,jd(n,null,"F")):this.ws(t,_,n,p)}))})))}Vs(t,n,s,l){return sv(n)||l.isEqual(At.min())?Y.resolve(null):this.As.getDocuments(t,s).next(c=>{const d=this.ps(n,c);return this.ys(n,d,s,l)?Y.resolve(null):(Ra()<=xt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),wa(n)),this.ws(t,d,n,FR(l,yl)).next(g=>g))})}ps(t,n){let s=new Ce(nE(t));return n.forEach((l,c)=>{Wc(t,c)&&(s=s.add(c))}),s}ys(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}fs(t,n,s){return Ra()<=xt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",wa(n)),this.As.getDocumentsMatchingQuery(t,n,Or.min(),s)}ws(t,n,s,l){return this.As.getDocumentsMatchingQuery(t,s,l).next(c=>(n.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="LocalStore",bC=3e8;class RC{constructor(t,n,s,l){this.persistence=t,this.bs=n,this.serializer=l,this.Ss=new ae(Dt),this.Ds=new Os(c=>ym(c),_m),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(s)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new dC(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ss))}}function wC(r,t,n,s){return new RC(r,t,n,s)}async function wE(r,t){const n=St(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,n.Fs(t),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],g=[];let p=Pt();for(const _ of l){d.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}for(const _ of c){g.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(_=>({Ms:_,removedBatchIds:d,addedBatchIds:g}))})})}function CC(r,t){const n=St(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),c=n.Cs.newChangeBuffer({trackRemovals:!0});return function(g,p,_,T){const C=_.batch,D=C.keys();let q=Y.resolve();return D.forEach(K=>{q=q.next(()=>T.getEntry(p,K)).next(J=>{const $=_.docVersions.get(K);Ft($!==null,48541),J.version.compareTo($)<0&&(C.applyToRemoteDocument(J,_),J.isValidDocument()&&(J.setReadTime(_.commitVersion),T.addEntry(J)))})}),q.next(()=>g.mutationQueue.removeMutationBatch(p,C))}(n,s,t,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=Pt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,l))})}function CE(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.ai.getLastRemoteSnapshotVersion(n))}function IC(r,t){const n=St(r),s=t.snapshotVersion;let l=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=n.Cs.newChangeBuffer({trackRemovals:!0});l=n.Ss;const g=[];t.targetChanges.forEach((T,C)=>{const D=l.get(C);if(!D)return;g.push(n.ai.removeMatchingKeys(c,T.removedDocuments,C).next(()=>n.ai.addMatchingKeys(c,T.addedDocuments,C)));let q=D.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(C)!==null?q=q.withResumeToken(je.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):T.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(T.resumeToken,s)),l=l.insert(C,q),function(J,$,rt){return J.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=bC?!0:rt.addedDocuments.size+rt.modifiedDocuments.size+rt.removedDocuments.size>0}(D,q,T)&&g.push(n.ai.updateTargetData(c,q))});let p=Gi(),_=Pt();if(t.documentUpdates.forEach(T=>{t.resolvedLimboDocuments.has(T)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))}),g.push(DC(c,d,t.documentUpdates).next(T=>{p=T.xs,_=T.Os})),!s.isEqual(At.min())){const T=n.ai.getLastRemoteSnapshotVersion(c).next(C=>n.ai.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(T)}return Y.waitFor(g).next(()=>d.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,_)).next(()=>p)}).then(c=>(n.Ss=l,c))}function DC(r,t,n){let s=Pt(),l=Pt();return n.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let d=Gi();return n.forEach((g,p)=>{const _=c.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(At.min())?(t.removeEntry(g,p.readTime),d=d.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(p),d=d.insert(g,p)):ot(Cm,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)}),{xs:d,Os:l}})}function OC(r,t){const n=St(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=mm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function NC(r,t){const n=St(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.ai.getTargetData(s,t).next(c=>c?(l=c,Y.resolve(l)):n.ai.allocateTargetId(s).next(d=>(l=new br(t,d,"TargetPurposeListen",s.currentSequenceNumber),n.ai.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.Ss.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(s.targetId,s),n.Ds.set(t,s.targetId)),s})}async function Qd(r,t,n){const s=St(r),l=s.Ss.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!Ka(d))throw d;ot(Cm,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ss=s.Ss.remove(t),s.Ds.delete(l.target)}function _v(r,t,n){const s=St(r);let l=At.min(),c=Pt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,_,T){const C=St(p),D=C.Ds.get(T);return D!==void 0?Y.resolve(C.Ss.get(D)):C.ai.getTargetData(_,T)}(s,d,ai(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(d,g.targetId).next(p=>{c=p})}).next(()=>s.bs.getDocumentsMatchingQuery(d,t,n?l:At.min(),n?c:Pt())).next(g=>(MC(s,_w(t),g),{documents:g,Ns:c})))}function MC(r,t,n){let s=r.vs.get(t)||At.min();n.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.vs.set(t,s)}class vv{constructor(){this.activeTargetIds=bw()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class VC{constructor(){this.So=new vv,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,n,s){this.Do[t]=n}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new vv,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="ConnectivityMonitor";class Tv{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ot(Ev,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){ot(Ev,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fc=null;function Kd(){return fc===null?fc=function(){return 268435456+Math.round(2147483648*Math.random())}():fc++,"0x"+fc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd="RestConnection",PC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class UC{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+t.host,this.ko=`projects/${s}/databases/${l}`,this.qo=this.databaseId.database===Nc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Qo(t,n,s,l,c){const d=Kd(),g=this.$o(t,n.toUriEncodedString());ot(Sd,`Sending RPC '${t}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(p,l,c);const{host:_}=new URL(g),T=Rl(_);return this.Ko(t,g,p,s,T).then(C=>(ot(Sd,`Received RPC '${t}' ${d}: `,C),C),C=>{throw Pa(Sd,`RPC '${t}' ${d} failed with error: `,C,"url: ",g,"request:",s),C})}Wo(t,n,s,l,c,d){return this.Qo(t,n,s,l,c)}Uo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,c)=>t[c]=l),s&&s.headers.forEach((l,c)=>t[c]=l)}$o(t,n){const s=PC[t];return`${this.Lo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke="WebChannelConnection";class kC extends UC{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,n,s,l,c){const d=Kd();return new Promise((g,p)=>{const _=new O0;_.setWithCredentials(!0),_.listenOnce(N0.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case yc.NO_ERROR:const C=_.getResponseJson();ot(Ke,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(C)),g(C);break;case yc.TIMEOUT:ot(Ke,`RPC '${t}' ${d} timed out`),p(new gt(Z.DEADLINE_EXCEEDED,"Request time out"));break;case yc.HTTP_ERROR:const D=_.getStatus();if(ot(Ke,`RPC '${t}' ${d} failed with status:`,D,"response text:",_.getResponseText()),D>0){let q=_.getResponseJson();Array.isArray(q)&&(q=q[0]);const K=q==null?void 0:q.error;if(K&&K.status&&K.message){const J=function(rt){const st=rt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(st)>=0?st:Z.UNKNOWN}(K.status);p(new gt(J,K.message))}else p(new gt(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new gt(Z.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{s_:t,streamId:d,o_:_.getLastErrorCode(),__:_.getLastError()})}}finally{ot(Ke,`RPC '${t}' ${d} completed.`)}});const T=JSON.stringify(l);ot(Ke,`RPC '${t}' ${d} sending request:`,l),_.send(n,"POST",T,s,15)})}a_(t,n,s){const l=Kd(),c=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=x0(),g=V0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=c.join("");ot(Ke,`Creating RPC '${t}' stream ${l}: ${T}`,p);const C=d.createWebChannel(T,p);let D=!1,q=!1;const K=new LC({Go:$=>{q?ot(Ke,`Not sending because RPC '${t}' stream ${l} is closed:`,$):(D||(ot(Ke,`Opening RPC '${t}' stream ${l} transport.`),C.open(),D=!0),ot(Ke,`RPC '${t}' stream ${l} sending:`,$),C.send($))},zo:()=>C.close()}),J=($,rt,st)=>{$.listen(rt,at=>{try{st(at)}catch(bt){setTimeout(()=>{throw bt},0)}})};return J(C,al.EventType.OPEN,()=>{q||(ot(Ke,`RPC '${t}' stream ${l} transport opened.`),K.t_())}),J(C,al.EventType.CLOSE,()=>{q||(q=!0,ot(Ke,`RPC '${t}' stream ${l} transport closed`),K.r_())}),J(C,al.EventType.ERROR,$=>{q||(q=!0,Pa(Ke,`RPC '${t}' stream ${l} transport errored. Name:`,$.name,"Message:",$.message),K.r_(new gt(Z.UNAVAILABLE,"The operation could not be completed")))}),J(C,al.EventType.MESSAGE,$=>{var rt;if(!q){const st=$.data[0];Ft(!!st,16349);const at=st,bt=(at==null?void 0:at.error)||((rt=at[0])===null||rt===void 0?void 0:rt.error);if(bt){ot(Ke,`RPC '${t}' stream ${l} received error:`,bt);const it=bt.status;let dt=function(R){const M=ve[R];if(M!==void 0)return mE(M)}(it),N=bt.message;dt===void 0&&(dt=Z.INTERNAL,N="Unknown error status: "+it+" with message "+bt.message),q=!0,K.r_(new gt(dt,N)),C.close()}else ot(Ke,`RPC '${t}' stream ${l} received:`,st),K.i_(st)}}),J(g,M0.STAT_EVENT,$=>{$.stat===Pd.PROXY?ot(Ke,`RPC '${t}' stream ${l} detected buffering proxy`):$.stat===Pd.NOPROXY&&ot(Ke,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{K.n_()},0),K}}function bd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(r){return new qw(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(t,n,s=1e3,l=1.5,c=6e4){this.bi=t,this.timerId=n,this.u_=s,this.c_=l,this.l_=c,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const n=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),l=Math.max(0,n-s);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,l,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="PersistentStream";class DE{constructor(t,n,s,l,c,d,g,p){this.bi=t,this.R_=s,this.V_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new IE(t,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Hi(n.toString()),Hi("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.m_===n&&this.B_(s,l)},s=>{t(()=>{const l=new gt(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(l)})})}B_(t,n){const s=this.N_(this.m_);this.stream=this.k_(t,n),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(l=>{s(()=>this.L_(l))}),this.stream.onMessage(l=>{s(()=>++this.p_==1?this.q_(l):this.onNext(l))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return ot(Av,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return n=>{this.bi.enqueueAndForget(()=>this.m_===t?n():(ot(Av,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zC extends DE{constructor(t,n,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}k_(t,n){return this.connection.a_("Listen",t,n)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const n=Fw(this.serializer,t),s=function(c){if(!("targetChange"in c))return At.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?oi(d.readTime):At.min()}(t);return this.listener.Q_(n,s)}U_(t){const n={};n.database=Fd(this.serializer),n.addTarget=function(c,d){let g;const p=d.target;if(g=Bd(p)?{documents:Yw(c,p)}:{query:Xw(c,p).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=yE(c,d.resumeToken);const _=qd(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(At.min())>0){g.readTime=Lc(c,d.snapshotVersion.toTimestamp());const _=qd(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,t);const s=Zw(this.serializer,t);s&&(n.labels=s),this.F_(n)}K_(t){const n={};n.database=Fd(this.serializer),n.removeTarget=t,this.F_(n)}}class BC extends DE{constructor(t,n,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,n){return this.connection.a_("Write",t,n)}q_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const n=Kw(t.writeResults,t.commitTime),s=oi(t.commitTime);return this.listener.j_(s,n)}H_(){const t={};t.database=Fd(this.serializer),this.F_(t)}G_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>Qw(this.serializer,s))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{}class qC extends jC{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.J_=!1}Y_(){if(this.J_)throw new gt(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,n,s,l){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Qo(t,Hd(n,s),l,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new gt(Z.UNKNOWN,c.toString())})}Wo(t,n,s,l,c){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Wo(t,Hd(n,s),l,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new gt(Z.UNKNOWN,d.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class HC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Hi(n),this.ea=!1):ot("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="RemoteStore";class GC{constructor(t,n,s,l,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=c,this.ca.vo(d=>{s.enqueueAndForget(async()=>{Ms(this)&&(ot(Is,"Restarting streams for network reachability change."),await async function(p){const _=St(p);_.aa.add(4),await Vl(_),_.la.set("Unknown"),_.aa.delete(4),await rh(_)}(this))})}),this.la=new HC(s,l)}}async function rh(r){if(Ms(r))for(const t of r.ua)await t(!0)}async function Vl(r){for(const t of r.ua)await t(!1)}function OE(r,t){const n=St(r);n._a.has(t.targetId)||(n._a.set(t.targetId,t),Nm(n)?Om(n):Ya(n).b_()&&Dm(n,t))}function Im(r,t){const n=St(r),s=Ya(n);n._a.delete(t),s.b_()&&NE(n,t),n._a.size===0&&(s.b_()?s.v_():Ms(n)&&n.la.set("Unknown"))}function Dm(r,t){if(r.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ya(r).U_(t)}function NE(r,t){r.ha.Ke(t),Ya(r).K_(t)}function Om(r){r.ha=new kw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r._a.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),Ya(r).start(),r.la.ta()}function Nm(r){return Ms(r)&&!Ya(r).w_()&&r._a.size>0}function Ms(r){return St(r).aa.size===0}function ME(r){r.ha=void 0}async function FC(r){r.la.set("Online")}async function QC(r){r._a.forEach((t,n)=>{Dm(r,t)})}async function KC(r,t){ME(r),Nm(r)?(r.la.ia(t),Om(r)):r.la.set("Unknown")}async function YC(r,t,n){if(r.la.set("Online"),t instanceof pE&&t.state===2&&t.cause)try{await async function(l,c){const d=c.cause;for(const g of c.targetIds)l._a.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l._a.delete(g),l.ha.removeTarget(g))}(r,t)}catch(s){ot(Is,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await zc(r,s)}else if(t instanceof Tc?r.ha.Xe(t):t instanceof gE?r.ha.ot(t):r.ha.nt(t),!n.isEqual(At.min()))try{const s=await CE(r.localStore);n.compareTo(s)>=0&&await function(c,d){const g=c.ha.It(d);return g.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const T=c._a.get(_);T&&c._a.set(_,T.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,_)=>{const T=c._a.get(p);if(!T)return;c._a.set(p,T.withResumeToken(je.EMPTY_BYTE_STRING,T.snapshotVersion)),NE(c,p);const C=new br(T.target,p,_,T.sequenceNumber);Dm(c,C)}),c.remoteSyncer.applyRemoteEvent(g)}(r,n)}catch(s){ot(Is,"Failed to raise snapshot:",s),await zc(r,s)}}async function zc(r,t,n){if(!Ka(t))throw t;r.aa.add(1),await Vl(r),r.la.set("Offline"),n||(n=()=>CE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ot(Is,"Retrying IndexedDB access"),await n(),r.aa.delete(1),await rh(r)})}function VE(r,t){return t().catch(n=>zc(r,n,t))}async function sh(r){const t=St(r),n=xr(t);let s=t.oa.length>0?t.oa[t.oa.length-1].batchId:mm;for(;XC(t);)try{const l=await OC(t.localStore,s);if(l===null){t.oa.length===0&&n.v_();break}s=l.batchId,$C(t,l)}catch(l){await zc(t,l)}xE(t)&&PE(t)}function XC(r){return Ms(r)&&r.oa.length<10}function $C(r,t){r.oa.push(t);const n=xr(r);n.b_()&&n.W_&&n.G_(t.mutations)}function xE(r){return Ms(r)&&!xr(r).w_()&&r.oa.length>0}function PE(r){xr(r).start()}async function ZC(r){xr(r).H_()}async function JC(r){const t=xr(r);for(const n of r.oa)t.G_(n.mutations)}async function WC(r,t,n){const s=r.oa.shift(),l=Tm.from(s,t,n);await VE(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await sh(r)}async function tI(r,t){t&&xr(r).W_&&await async function(s,l){if(function(d){return Uw(d)&&d!==Z.ABORTED}(l.code)){const c=s.oa.shift();xr(s).D_(),await VE(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l)),await sh(s)}}(r,t),xE(r)&&PE(r)}async function Sv(r,t){const n=St(r);n.asyncQueue.verifyOperationInProgress(),ot(Is,"RemoteStore received new credentials");const s=Ms(n);n.aa.add(3),await Vl(n),s&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.aa.delete(3),await rh(n)}async function eI(r,t){const n=St(r);t?(n.aa.delete(2),await rh(n)):t||(n.aa.add(2),await Vl(n),n.la.set("Unknown"))}function Ya(r){return r.Pa||(r.Pa=function(n,s,l){const c=St(n);return c.Y_(),new zC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{jo:FC.bind(null,r),Jo:QC.bind(null,r),Zo:KC.bind(null,r),Q_:YC.bind(null,r)}),r.ua.push(async t=>{t?(r.Pa.D_(),Nm(r)?Om(r):r.la.set("Unknown")):(await r.Pa.stop(),ME(r))})),r.Pa}function xr(r){return r.Ta||(r.Ta=function(n,s,l){const c=St(n);return c.Y_(),new BC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{jo:()=>Promise.resolve(),Jo:ZC.bind(null,r),Zo:tI.bind(null,r),z_:JC.bind(null,r),j_:WC.bind(null,r)}),r.ua.push(async t=>{t?(r.Ta.D_(),await sh(r)):(await r.Ta.stop(),r.oa.length>0&&(ot(Is,`Stopping write stream with ${r.oa.length} pending writes`),r.oa=[]))})),r.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(t,n,s,l,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,c){const d=Date.now()+s,g=new Mm(t,n,d,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vm(r,t){if(Hi("AsyncQueue",`${t}: ${r}`),Ka(r))return new gt(Z.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{static emptySet(t){return new Ma(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||pt.comparator(n.key,s.key):(n,s)=>pt.comparator(n.key,s.key),this.keyedMap=ol(),this.sortedSet=new ae(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ma)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Ma;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(){this.Ia=new ae(pt.comparator)}track(t){const n=t.doc.key,s=this.Ia.get(n);s?t.type!==0&&s.type===3?this.Ia=this.Ia.insert(n,t):t.type===3&&s.type!==1?this.Ia=this.Ia.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Ia=this.Ia.remove(n):t.type===1&&s.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:t.doc}):Et(63341,{Vt:t,Ea:s}):this.Ia=this.Ia.insert(n,t)}da(){const t=[];return this.Ia.inorderTraversal((n,s)=>{t.push(s)}),t}}class Ba{constructor(t,n,s,l,c,d,g,p,_){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,n,s,l,c){const d=[];return n.forEach(g=>{d.push({type:0,doc:g})}),new Ba(t,n,Ma.emptySet(n),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Jc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class iI{constructor(){this.queries=Rv(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,s){const l=St(n),c=l.queries;l.queries=Rv(),c.forEach((d,g)=>{for(const p of g.Ra)p.onError(s)})})(this,new gt(Z.ABORTED,"Firestore shutting down"))}}function Rv(){return new Os(r=>eE(r),Jc)}async function rI(r,t){const n=St(r);let s=3;const l=t.query;let c=n.queries.get(l);c?!c.Va()&&t.ma()&&(s=2):(c=new nI,s=t.ma()?0:1);try{switch(s){case 0:c.Aa=await n.onListen(l,!0);break;case 1:c.Aa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=Vm(d,`Initialization of query '${wa(t.query)}' failed`);return void t.onError(g)}n.queries.set(l,c),c.Ra.push(t),t.ga(n.onlineState),c.Aa&&t.pa(c.Aa)&&xm(n)}async function sI(r,t){const n=St(r),s=t.query;let l=3;const c=n.queries.get(s);if(c){const d=c.Ra.indexOf(t);d>=0&&(c.Ra.splice(d,1),c.Ra.length===0?l=t.ma()?0:1:!c.Va()&&t.ma()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function aI(r,t){const n=St(r);let s=!1;for(const l of t){const c=l.query,d=n.queries.get(c);if(d){for(const g of d.Ra)g.pa(l)&&(s=!0);d.Aa=l}}s&&xm(n)}function oI(r,t,n){const s=St(r),l=s.queries.get(t);if(l)for(const c of l.Ra)c.onError(n);s.queries.delete(t)}function xm(r){r.fa.forEach(t=>{t.next()})}var Yd,wv;(wv=Yd||(Yd={})).ya="default",wv.Cache="cache";class lI{constructor(t,n,s){this.query=t,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new Ba(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ba?this.Da(t)&&(this.wa.next(t),n=!0):this.va(t,this.onlineState)&&(this.Ca(t),n=!0),this.Sa=t,n}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),n=!0),n}va(t,n){if(!t.fromCache||!this.ma())return!0;const s=n!=="Offline";return(!this.options.Fa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(t){t=Ba.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==Yd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(t){this.key=t}}class LE{constructor(t){this.key=t}}class uI{constructor(t,n){this.query=t,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Pt(),this.mutatedKeys=Pt(),this.Ua=nE(t),this.Ka=new Ma(this.Ua)}get Wa(){return this.qa}Ga(t,n){const s=n?n.za:new bv,l=n?n.Ka:this.Ka;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((T,C)=>{const D=l.get(T),q=Wc(this.query,C)?C:null,K=!!D&&this.mutatedKeys.has(D.key),J=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let $=!1;D&&q?D.data.isEqual(q.data)?K!==J&&(s.track({type:3,doc:q}),$=!0):this.ja(D,q)||(s.track({type:2,doc:q}),$=!0,(p&&this.Ua(q,p)>0||_&&this.Ua(q,_)<0)&&(g=!0)):!D&&q?(s.track({type:0,doc:q}),$=!0):D&&!q&&(s.track({type:1,doc:D}),$=!0,(p||_)&&(g=!0)),$&&(q?(d=d.add(q),c=J?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{Ka:d,za:s,ys:g,mutatedKeys:c}}ja(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const c=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const d=t.za.da();d.sort((T,C)=>function(q,K){const J=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Vt:$})}};return J(q)-J(K)}(T.type,C.type)||this.Ua(T.doc,C.doc)),this.Ha(s),l=l!=null&&l;const g=n&&!l?this.Ja():[],p=this.$a.size===0&&this.current&&!l?1:0,_=p!==this.Qa;return this.Qa=p,d.length!==0||_?{snapshot:new Ba(this.query,t.Ka,c,d,t.mutatedKeys,p===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:g}:{Ya:g}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new bv,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Pt(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const n=[];return t.forEach(s=>{this.$a.has(s)||n.push(new LE(s))}),this.$a.forEach(s=>{t.has(s)||n.push(new UE(s))}),n}Xa(t){this.qa=t.Ns,this.$a=Pt();const n=this.Ga(t.documents);return this.applyChanges(n,!0)}eu(){return Ba.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Pm="SyncEngine";class cI{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class hI{constructor(t){this.key=t,this.tu=!1}}class fI{constructor(t,n,s,l,c,d){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.nu={},this.ru=new Os(g=>eE(g),Jc),this.iu=new Map,this.su=new Set,this.ou=new ae(pt.comparator),this._u=new Map,this.au=new bm,this.uu={},this.cu=new Map,this.lu=za.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function dI(r,t,n=!0){const s=HE(r);let l;const c=s.ru.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.eu()):l=await kE(s,t,n,!0),l}async function mI(r,t){const n=HE(r);await kE(n,t,!0,!1)}async function kE(r,t,n,s){const l=await NC(r.localStore,ai(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await gI(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&n&&OE(r.remoteStore,l),g}async function gI(r,t,n,s,l){r.Pu=(C,D,q)=>async function(J,$,rt,st){let at=$.view.Ga(rt);at.ys&&(at=await _v(J.localStore,$.query,!1).then(({documents:N})=>$.view.Ga(N,at)));const bt=st&&st.targetChanges.get($.targetId),it=st&&st.targetMismatches.get($.targetId)!=null,dt=$.view.applyChanges(at,J.isPrimaryClient,bt,it);return Iv(J,$.targetId,dt.Ya),dt.snapshot}(r,C,D,q);const c=await _v(r.localStore,t,!0),d=new uI(t,c.Ns),g=d.Ga(c.documents),p=Ml.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),_=d.applyChanges(g,r.isPrimaryClient,p);Iv(r,n,_.Ya);const T=new cI(t,n,d);return r.ru.set(t,T),r.iu.has(n)?r.iu.get(n).push(t):r.iu.set(n,[t]),_.snapshot}async function pI(r,t,n){const s=St(r),l=s.ru.get(t),c=s.iu.get(l.targetId);if(c.length>1)return s.iu.set(l.targetId,c.filter(d=>!Jc(d,t))),void s.ru.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Qd(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Im(s.remoteStore,l.targetId),Xd(s,l.targetId)}).catch(Qa)):(Xd(s,l.targetId),await Qd(s.localStore,l.targetId,!0))}async function yI(r,t){const n=St(r),s=n.ru.get(t),l=n.iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Im(n.remoteStore,s.targetId))}async function _I(r,t,n){const s=RI(r);try{const l=await function(d,g){const p=St(d),_=we.now(),T=g.reduce((q,K)=>q.add(K.key),Pt());let C,D;return p.persistence.runTransaction("Locally write mutations","readwrite",q=>{let K=Gi(),J=Pt();return p.Cs.getEntries(q,T).next($=>{K=$,K.forEach((rt,st)=>{st.isValidDocument()||(J=J.add(rt))})}).next(()=>p.localDocuments.getOverlayedDocuments(q,K)).next($=>{C=$;const rt=[];for(const st of g){const at=Nw(st,C.get(st.key).overlayedDocument);at!=null&&rt.push(new Ns(st.key,at,Y0(at.value.mapValue),Bi.exists(!0)))}return p.mutationQueue.addMutationBatch(q,_,rt,g)}).next($=>{D=$;const rt=$.applyToLocalDocumentSet(C,J);return p.documentOverlayCache.saveOverlays(q,$.batchId,rt)})}).then(()=>({batchId:D.batchId,changes:rE(C)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(d,g,p){let _=d.uu[d.currentUser.toKey()];_||(_=new ae(Dt)),_=_.insert(g,p),d.uu[d.currentUser.toKey()]=_}(s,l.batchId,n),await xl(s,l.changes),await sh(s.remoteStore)}catch(l){const c=Vm(l,"Failed to persist write");n.reject(c)}}async function zE(r,t){const n=St(r);try{const s=await IC(n.localStore,t);t.targetChanges.forEach((l,c)=>{const d=n._u.get(c);d&&(Ft(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.tu=!0:l.modifiedDocuments.size>0?Ft(d.tu,14607):l.removedDocuments.size>0&&(Ft(d.tu,42227),d.tu=!1))}),await xl(n,s,t)}catch(s){await Qa(s)}}function Cv(r,t,n){const s=St(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.ru.forEach((c,d)=>{const g=d.view.ga(t);g.snapshot&&l.push(g.snapshot)}),function(d,g){const p=St(d);p.onlineState=g;let _=!1;p.queries.forEach((T,C)=>{for(const D of C.Ra)D.ga(g)&&(_=!0)}),_&&xm(p)}(s.eventManager,t),l.length&&s.nu.Q_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function vI(r,t,n){const s=St(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s._u.get(t),c=l&&l.key;if(c){let d=new ae(pt.comparator);d=d.insert(c,Xe.newNoDocument(c,At.min()));const g=Pt().add(c),p=new nh(At.min(),new Map,new ae(Dt),d,g);await zE(s,p),s.ou=s.ou.remove(c),s._u.delete(t),Um(s)}else await Qd(s.localStore,t,!1).then(()=>Xd(s,t,n)).catch(Qa)}async function EI(r,t){const n=St(r),s=t.batch.batchId;try{const l=await CC(n.localStore,t);jE(n,s,null),BE(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await xl(n,l)}catch(l){await Qa(l)}}async function TI(r,t,n){const s=St(r);try{const l=await function(d,g){const p=St(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let T;return p.mutationQueue.lookupMutationBatch(_,g).next(C=>(Ft(C!==null,37113),T=C.keys(),p.mutationQueue.removeMutationBatch(_,C))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,T,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T)).next(()=>p.localDocuments.getDocuments(_,T))})}(s.localStore,t);jE(s,t,n),BE(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await xl(s,l)}catch(l){await Qa(l)}}function BE(r,t){(r.cu.get(t)||[]).forEach(n=>{n.resolve()}),r.cu.delete(t)}function jE(r,t,n){const s=St(r);let l=s.uu[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(n?c.reject(n):c.resolve(),l=l.remove(t)),s.uu[s.currentUser.toKey()]=l}}function Xd(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.iu.get(t))r.ru.delete(s),n&&r.nu.Tu(s,n);r.iu.delete(t),r.isPrimaryClient&&r.au.Ur(t).forEach(s=>{r.au.containsKey(s)||qE(r,s)})}function qE(r,t){r.su.delete(t.path.canonicalString());const n=r.ou.get(t);n!==null&&(Im(r.remoteStore,n),r.ou=r.ou.remove(t),r._u.delete(n),Um(r))}function Iv(r,t,n){for(const s of n)s instanceof UE?(r.au.addReference(s.key,t),AI(r,s)):s instanceof LE?(ot(Pm,"Document no longer in limbo: "+s.key),r.au.removeReference(s.key,t),r.au.containsKey(s.key)||qE(r,s.key)):Et(19791,{Iu:s})}function AI(r,t){const n=t.key,s=n.path.canonicalString();r.ou.get(n)||r.su.has(s)||(ot(Pm,"New document in limbo: "+n),r.su.add(s),Um(r))}function Um(r){for(;r.su.size>0&&r.ou.size<r.maxConcurrentLimboResolutions;){const t=r.su.values().next().value;r.su.delete(t);const n=new pt(ce.fromString(t)),s=r.lu.next();r._u.set(s,new hI(n)),r.ou=r.ou.insert(n,s),OE(r.remoteStore,new br(ai(vm(n.path)),s,"TargetPurposeLimboResolution",Yc.le))}}async function xl(r,t,n){const s=St(r),l=[],c=[],d=[];s.ru.isEmpty()||(s.ru.forEach((g,p)=>{d.push(s.Pu(p,t,n).then(_=>{var T;if((_||n)&&s.isPrimaryClient){const C=_?!_.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,C?"current":"not-current")}if(_){l.push(_);const C=wm.Ps(p.targetId,_);c.push(C)}}))}),await Promise.all(d),s.nu.Q_(l),await async function(p,_){const T=St(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>Y.forEach(_,D=>Y.forEach(D.ls,q=>T.persistence.referenceDelegate.addReference(C,D.targetId,q)).next(()=>Y.forEach(D.hs,q=>T.persistence.referenceDelegate.removeReference(C,D.targetId,q)))))}catch(C){if(!Ka(C))throw C;ot(Cm,"Failed to update sequence numbers: "+C)}for(const C of _){const D=C.targetId;if(!C.fromCache){const q=T.Ss.get(D),K=q.snapshotVersion,J=q.withLastLimboFreeSnapshotVersion(K);T.Ss=T.Ss.insert(D,J)}}}(s.localStore,c))}async function SI(r,t){const n=St(r);if(!n.currentUser.isEqual(t)){ot(Pm,"User change. New user:",t.toKey());const s=await wE(n.localStore,t);n.currentUser=t,function(c,d){c.cu.forEach(g=>{g.forEach(p=>{p.reject(new gt(Z.CANCELLED,d))})}),c.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await xl(n,s.Ms)}}function bI(r,t){const n=St(r),s=n._u.get(t);if(s&&s.tu)return Pt().add(s.key);{let l=Pt();const c=n.iu.get(t);if(!c)return l;for(const d of c){const g=n.ru.get(d);l=l.unionWith(g.view.Wa)}return l}}function HE(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=zE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vI.bind(null,t),t.nu.Q_=aI.bind(null,t.eventManager),t.nu.Tu=oI.bind(null,t.eventManager),t}function RI(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=EI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=TI.bind(null,t),t}class Bc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ih(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,n){return null}fu(t,n){return null}Vu(t){return wC(this.persistence,new SC,t.initialUser,this.serializer)}Ru(t){return new RE(Rm.Ei,this.serializer)}Au(t){return new VC}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bc.provider={build:()=>new Bc};class wI extends Bc{constructor(t){super(),this.cacheSizeBytes=t}mu(t,n){Ft(this.persistence.referenceDelegate instanceof kc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new lC(s,t.asyncQueue,n)}Ru(t){const n=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new RE(s=>kc.Ei(s,n),this.serializer)}}class $d{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Cv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=SI.bind(null,this.syncEngine),await eI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new iI}()}createDatastore(t){const n=ih(t.databaseInfo.databaseId),s=function(c){return new kC(c)}(t.databaseInfo);return function(c,d,g,p){return new qC(c,d,g,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,l,c,d,g){return new GC(s,l,c,d,g)}(this.localStore,this.datastore,t.asyncQueue,n=>Cv(this.syncEngine,n,0),function(){return Tv.C()?new Tv:new xC}())}createSyncEngine(t,n){return function(l,c,d,g,p,_,T){const C=new fI(l,c,d,g,p,_);return T&&(C.hu=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(l){const c=St(l);ot(Is,"RemoteStore shutting down."),c.aa.add(5),await Vl(c),c.ca.shutdown(),c.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}$d.provider={build:()=>new $d};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):Hi("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr="FirestoreClient";class II{constructor(t,n,s,l,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Ye.UNAUTHENTICATED,this.clientId=k0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{ot(Pr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(ot(Pr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Vm(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Rd(r,t){r.asyncQueue.verifyOperationInProgress(),ot(Pr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await wE(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function Dv(r,t){r.asyncQueue.verifyOperationInProgress();const n=await DI(r);ot(Pr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>Sv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>Sv(t.remoteStore,l)),r._onlineComponents=t}async function DI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(Pr,"Using user provided OfflineComponentProvider");try{await Rd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;Pa("Error using user provided cache. Falling back to memory cache: "+n),await Rd(r,new Bc)}}else ot(Pr,"Using default OfflineComponentProvider"),await Rd(r,new wI(void 0));return r._offlineComponents}async function GE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(Pr,"Using user provided OnlineComponentProvider"),await Dv(r,r._uninitializedComponentsProvider._online)):(ot(Pr,"Using default OnlineComponentProvider"),await Dv(r,new $d))),r._onlineComponents}function OI(r){return GE(r).then(t=>t.syncEngine)}async function NI(r){const t=await GE(r),n=t.eventManager;return n.onListen=dI.bind(null,t.syncEngine),n.onUnlisten=pI.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=mI.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=yI.bind(null,t.syncEngine),n}function MI(r,t,n={}){const s=new Dr;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,_){const T=new CI({next:D=>{T.yu(),d.enqueueAndForget(()=>sI(c,C));const q=D.docs.has(g);!q&&D.fromCache?_.reject(new gt(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&D.fromCache&&p&&p.source==="server"?_.reject(new gt(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(D)},error:D=>_.reject(D)}),C=new lI(vm(g.path),T,{includeMetadataChanges:!0,Fa:!0});return rI(c,C)}(await NI(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(r,t,n){if(!n)throw new gt(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function xI(r,t,n,s){if(t===!0&&s===!0)throw new gt(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Nv(r){if(!pt.isDocumentKey(r))throw new gt(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Lm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Et(12329,{type:typeof r})}function Sl(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new gt(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lm(r);throw new gt(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="firestore.googleapis.com",Mv=!0;class Vv{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new gt(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QE,this.ssl=Mv}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Mv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=bE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<aC)throw new gt(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}xI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FE((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new gt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new gt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new gt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class km{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new gt(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new UR;switch(s.type){case"firstParty":return new BR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new gt(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,Gc("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Ov.get(n);s&&(ot("ComponentProvider","Removing Datastore"),Ov.delete(n),s.terminate())}(this),Promise.resolve()}}function PI(r,t,n,s={}){var l;r=Sl(r,km);const c=Rl(t),d=r._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),p=`${t}:${n}`;d.host!==QE&&d.host!==p&&Pa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},d),{host:p,ssl:c,emulatorOptions:s});if(!bs(_,g)&&(r._setSettings(_),c&&(Qv(`https://${p}`),Gc("Firestore",!0)),s.mockUserToken)){let T,C;if(typeof s.mockUserToken=="string")T=s.mockUserToken,C=Ye.MOCK_USER;else{T=aS(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const D=s.mockUserToken.sub||s.mockUserToken.user_id;if(!D)throw new gt(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new Ye(D)}r._authCredentials=new LR(new U0(T,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new zm(this.firestore,t,this._query)}}class Dn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Dn(this.firestore,t,this._key)}}class bl extends zm{constructor(t,n,s){super(t,n,vm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Dn(this.firestore,null,new pt(t))}withConverter(t){return new bl(this.firestore,t,this._path)}}function KE(r,t,...n){if(r=On(r),arguments.length===1&&(t=k0.newId()),VI("doc","path",t),r instanceof km){const s=ce.fromString(t,...n);return Nv(s),new Dn(r,null,new pt(s))}{if(!(r instanceof Dn||r instanceof bl))throw new gt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ce.fromString(t,...n));return Nv(s),new Dn(r.firestore,r instanceof bl?r.converter:null,new pt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="AsyncQueue";class Pv{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new IE(this,"async_queue_retry"),this.ju=()=>{const s=bd();s&&ot(xv,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=t;const n=bd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const n=bd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Dr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!Ka(t))throw t;ot(xv,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const n=this.Hu.then(()=>(this.Wu=!0,t().catch(s=>{throw this.Ku=s,this.Wu=!1,Hi("INTERNAL UNHANDLED ERROR: ",Uv(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=n,n}enqueueAfterDelay(t,n,s){this.Ju(),this.zu.indexOf(t)>-1&&(n=0);const l=Mm.createAndSchedule(this,t,n,s,c=>this.Xu(c));return this.Uu.push(l),l}Ju(){this.Ku&&Et(47125,{ec:Uv(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const n of this.Uu)if(n.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const n=this.Uu.indexOf(t);this.Uu.splice(n,1)}}function Uv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Bm extends km{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new Pv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Pv(t),this._firestoreClient=void 0,await t}}}function UI(r,t){const n=typeof r=="object"?r:$v(),s=typeof r=="string"?r:Nc,l=em(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=rS("firestore");c&&PI(l,...c)}return l}function YE(r){if(r._terminated)throw new gt(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||LI(r),r._firestoreClient}function LI(r){var t,n,s;const l=r._freezeSettings(),c=function(g,p,_,T){return new ew(g,p,_,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,FE(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new II(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ja(je.fromBase64String(t))}catch(n){throw new gt(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ja(je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new gt(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new gt(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new gt(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=/^__.*__$/;class zI{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Ns(t,this.data,this.fieldMask,n,this.fieldTransforms):new Nl(t,this.data,n,this.fieldTransforms)}}function $E(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{oc:r})}}class Gm{constructor(t,n,s,l,c,d){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this._c(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new Gm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.ac({path:s,cc:!1});return l.lc(t),l}hc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.ac({path:s,cc:!1});return l._c(),l}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return jc(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if($E(this.oc)&&kI.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class BI{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||ih(t)}dc(t,n,s,l=!1){return new Gm({oc:t,methodName:n,Ec:s,path:Be.emptyPath(),cc:!1,Ic:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jI(r){const t=r._freezeSettings(),n=ih(r._databaseId);return new BI(r._databaseId,!!t.ignoreUndefinedProperties,n)}function qI(r,t,n,s,l,c={}){const d=r.dc(c.merge||c.mergeFields?2:0,t,n,l);tT("Data must be an object, but it was:",d,s);const g=JE(s,d);let p,_;if(c.merge)p=new Bn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const C of c.mergeFields){const D=HI(t,C,n);if(!d.contains(D))throw new gt(Z.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);FI(T,D)||T.push(D)}p=new Bn(T),_=d.fieldTransforms.filter(C=>p.covers(C.field))}else p=null,_=d.fieldTransforms;return new zI(new In(g),p,_)}function ZE(r,t){if(WE(r=On(r)))return tT("Unsupported field value:",t,r),JE(r,t);if(r instanceof XE)return function(s,l){if(!$E(l.oc))throw l.Tc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Tc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(s,l){const c=[];let d=0;for(const g of s){let p=ZE(g,l.Pc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(r,t)}return function(s,l){if((s=On(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Rw(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=we.fromDate(s);return{timestampValue:Lc(l.serializer,c)}}if(s instanceof we){const c=new we(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Lc(l.serializer,c)}}if(s instanceof qm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ja)return{bytesValue:yE(l.serializer,s._byteString)};if(s instanceof Dn){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.Tc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Sm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Hm)return function(d,g){return{mapValue:{fields:{[Q0]:{stringValue:K0},[Mc]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw g.Tc("VectorValues must only contain numeric values.");return Em(g.serializer,_)})}}}}}}(s,l);throw l.Tc(`Unsupported field value: ${Lm(s)}`)}(r,t)}function JE(r,t){const n={};return B0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ds(r,(s,l)=>{const c=ZE(l,t.uc(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function WE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof we||r instanceof qm||r instanceof ja||r instanceof Dn||r instanceof XE||r instanceof Hm)}function tT(r,t,n){if(!WE(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const s=Lm(n);throw s==="an object"?t.Tc(r+" a custom object"):t.Tc(r+" "+s)}}function HI(r,t,n){if((t=On(t))instanceof jm)return t._internalPath;if(typeof t=="string")return eT(r,t);throw jc("Field path arguments must be of type string or ",r,!1,void 0,n)}const GI=new RegExp("[~\\*/\\[\\]]");function eT(r,t,n){if(t.search(GI)>=0)throw jc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new jm(...t.split("."))._internalPath}catch{throw jc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function jc(r,t,n,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${l}`),p+=")"),new gt(Z.INVALID_ARGUMENT,g+r+p)}function FI(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(t,n,s,l,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new QI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(iT("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QI extends nT{data(){return super.data()}}function iT(r,t){return typeof t=="string"?eT(r,t):t instanceof jm?t._internalPath:t._delegate._internalPath}class KI{convertValue(t,n="none"){switch(Vr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Mr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Ds(t,(l,c)=>{s[l]=this.convertValue(c,n)}),s}convertVectorValue(t){var n,s,l;const c=(l=(s=(n=t.fields)===null||n===void 0?void 0:n[Mc].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(d=>me(d.doubleValue));return new Hm(c)}convertGeoPoint(t){return new qm(me(t.latitude),me(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=$c(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(_l(t));default:return null}}convertTimestamp(t){const n=Nr(t);return new we(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ce.fromString(t);Ft(SE(s),9688,{name:t});const l=new vl(s.get(1),s.get(3)),c=new pt(s.popFirst(5));return l.isEqual(n)||Hi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(r,t,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class rT extends nT{constructor(t,n,s,l,c,d){super(t,n,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new $I(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(iT("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class $I extends rT{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(r){r=Sl(r,Dn);const t=Sl(r.firestore,Bm);return MI(YE(t),r._key).then(n=>e2(t,r,n))}class JI extends KI{constructor(t){super(),this.firestore=t}convertBytes(t){return new ja(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Dn(this.firestore,null,n)}}function WI(r,t,n){r=Sl(r,Dn);const s=Sl(r.firestore,Bm),l=YI(r.converter,t,n);return t2(s,[qI(jI(s),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,Bi.none())])}function t2(r,t){return function(s,l){const c=new Dr;return s.asyncQueue.enqueueAndForget(async()=>_I(await OI(s),l,c)),c.promise}(YE(r),t)}function e2(r,t,n){const s=n.docs.get(t._key),l=new JI(r);return new rT(r,l,t._key,s,new XI(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(l){Fa=l})(Ha),Va(new Rs("firestore",(s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new Bm(new kR(s.getProvider("auth-internal")),new jR(d,s.getProvider("app-check-internal")),function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new gt(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vl(_.options.projectId,T)}(d,l),d);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Cr(q_,H_,t),Cr(q_,H_,"esm2017")})();const n2={apiKey:"AIzaSyDdys6xkXRUIkb_Q4jYzOfutDgrqc-6H28",authDomain:"math-crow.firebaseapp.com",projectId:"math-crow",storageBucket:"math-crow.firebasestorage.app",messagingSenderId:"372664559387",appId:"1:372664559387:web:4f9b9b09342fc9392555be",measurementId:"G-MZBJMBBLPS"},sT=Xv(n2),wd=xR(sT),aT=UI(sT),i2=new Li,ah=async(r,t)=>{if(!r)return;const n=KE(aT,"users",r.uid);try{await WI(n,t==null?void 0:t.toFireStore(),{merge:!0})}catch(s){console.error("Error saving user data:",s),alert("Failed to save data.")}},r2=XA((r,t)=>{ah(r,t)},5e3),oT=Rt.createContext(void 0),Pl=()=>{const r=Rt.useContext(oT);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r},s2=()=>{const{setFactors:r,factors:t}=qa(),{user:n}=Pl(),{incrementStreak:s}=Jd(),{userData:l,setUserData:c}=qc(),[d,g]=Rt.useState(!1),p=Rt.useMemo(()=>t.factor2.toString().length>1,[t.product]),_=Rt.useMemo(()=>t.product.toString().length,[t.product]),[T,C]=Rt.useState(()=>Array.from({length:_},()=>"")),[D,q]=Rt.useState(0);Rt.useEffect(()=>{t.numGridCorrect===t.productGridList.length?(g(!0),p||J()):g(!1)},[t.numGridCorrect]),Rt.useEffect(()=>{C(Array.from({length:_},()=>"")),q(0)},[t.resetCounter,_]),Rt.useEffect(()=>{D===t.productList.length&&J()},[D]);const K=(rt,st)=>{let at="";rt.target.value!==""&&(at=Number(rt.target.value));const bt=[...T];bt[st]=at,(at===""||at<10)&&C(bt),at===t.productList[st]&&(rt.target.value="",s(),q(D+1))},J=()=>{l.correctAnswer(t.factor1-1,t.factor2-1),r2(n,l),c(l.clone()),t.next(),r(t.clone()),g(!1)},$=rt=>{const st=t.productList.length-D-1;return rt!==st};return ft.jsx("div",{className:` mt-2 border-t-6 border-[rgb(20,128,223)] h-auto flex flex-row gap-2 justify-end ${!d||!p?"invisible":""}`,children:T.map((rt,st)=>ft.jsx("input",{className:`mt-2 product-grid-cell ${$(st)?"bg-gray-500":""}`,type:"number",value:T[st],readOnly:$(st),onChange:at=>K(at,st)},st))})},a2=()=>{const{factors:r}=qa(),t=n=>{if(r.numGridCorrect===r.productGridList.length)return!1;const s=r.factor1.toString().length,l=s-n-1,c=r.product.toString().length,d=Math.floor(r.numGridCorrect/c),g=Math.min(r.numGridCorrect%c-d,s-1);return l===g};return ft.jsx("div",{className:" text-[10vh] font-bold text-[rgb(20,128,223)]",children:r.factor1.toString().split("").map((n,s)=>ft.jsx("span",{className:`${t(s)?"text-[#bb2020]":""}`,children:n},s))})},o2=()=>{const{factors:r}=qa(),t=n=>{const s=r.product.toString().length,l=Math.floor(r.numGridCorrect/s);return r.factor2.toString().length-n-1===l};return ft.jsxs("div",{className:"  border-b-6 border-[rgb(20,128,223)] text-[10vh] font-bold text-[rgb(20,128,223)]",children:["X",r.factor2.toString().split("").map((n,s)=>ft.jsx("span",{className:`${t(s)?"text-[#bb2020]":""}`,children:n},s))]})},l2=()=>ft.jsxs("div",{className:"  leading-none m-auto flex flex-col items-end w-fit h-fit",children:[ft.jsx(QA,{}),ft.jsx(a2,{}),ft.jsx(o2,{}),ft.jsx(FA,{}),ft.jsx(s2,{})]});class Fm{constructor(t){Fe(this,"index");Fe(this,"factor1");Fe(this,"factor2");Fe(this,"product");Fe(this,"productList",[]);Fe(this,"factorsOrder");Fe(this,"productGridList",[]);Fe(this,"numGridCorrect",0);Fe(this,"carryList",[]);Fe(this,"resetCounter",0);Fe(this,"numCarryCorrect",0);this.index=0,this.factorsOrder=[];for(let n=1;n<=12;n++)this.factorsOrder.push(n);this.factorsOrder=this.shuffleArray(this.factorsOrder),this.factor1=t,this.factor2=this.factorsOrder[this.index],this.product=this.factor1*this.factor2,this.productList=this.initProductList(this.product),[this.productGridList,this.carryList]=this.initAnswers()}initProductList(t){const n=[];for(let s=0;s<this.product.toString().length;s++)n.push(parseInt(t.toString()[s]));return n}initAnswers(){const t=[],n=[],s=this.factor1.toString(),l=this.factor2.toString();let c=0;const d=this.product.toString().length;let g=0;for(let p=l.length-1;p>=0;p--){g=0;for(let T=0;T<c;T++)t.push(0),g++;let _=0;for(let T=s.length-1;T>=0;T--){const C=parseInt(s[T]),D=parseInt(l[p]);let q=C*D+_;if(_=Math.floor(q/10),q=q%10,t.push(q),g++,_>0&&g<s.length){const K={value:_,place:d-g-1,order:t.length-1};n.push(K)}}for(_>0&&(t.push(_),g++),g;g<d;g++)t.push(0);c++}return[t,n]}next(){this.index<10?(this.index+=1,this.factor2=this.factorsOrder[this.index],this.product=this.factor1*this.factor2,this.productList=this.initProductList(this.product),[this.productGridList,this.carryList]=this.initAnswers(),this.numGridCorrect=0,this.numCarryCorrect=0,this.resetCounter++):(this.index=0,this.factorsOrder=this.shuffleArray(this.factorsOrder),this.factor2=this.factorsOrder[this.index],this.product=this.factor1*this.factor2,this.productList=this.initProductList(this.product),[this.productGridList,this.carryList]=this.initAnswers(),this.numGridCorrect=0,this.numCarryCorrect=0,this.resetCounter++)}correctGrid(){this.numGridCorrect+=1}correctCarry(){this.numCarryCorrect+=1}nextCarry(){if(this.carryList[this.numCarryCorrect]!==void 0)return this.carryList[this.numCarryCorrect]}clone(){const t=new Fm(this.factor1);return t.index=this.index,t.factorsOrder=this.factorsOrder,t.factor1=this.factor1,t.factor2=this.factor2,t.product=this.product,t.productList=this.productList,t.numGridCorrect=this.numGridCorrect,t.productGridList=this.productGridList,t.carryList=this.carryList,t.resetCounter=this.resetCounter,t.numCarryCorrect=this.numCarryCorrect,t}setLevel(t){this.factor1=t,this.index=12,this.next()}shuffleArray(t){const n=[...t];for(let s=n.length-1;s>0;s--){const l=Math.floor(Math.random()*(s+1));[n[s],n[l]]=[n[l],n[s]]}return n}}function u2({children:r}){const[t,n]=Rt.useState(new Fm(1));return ft.jsx(Lv.Provider,{value:{factors:t,setFactors:n},children:r})}const c2="/MathCrow/assets/orch-hit-1-CsffWDYV.mp3",h2=Object.freeze(Object.defineProperty({__proto__:null,default:c2},Symbol.toStringTag,{value:"Module"})),f2="/MathCrow/assets/orch-hit-10-ux3tHloy.mp3",d2=Object.freeze(Object.defineProperty({__proto__:null,default:f2},Symbol.toStringTag,{value:"Module"})),m2="/MathCrow/assets/orch-hit-11-CONLuYIA.mp3",g2=Object.freeze(Object.defineProperty({__proto__:null,default:m2},Symbol.toStringTag,{value:"Module"})),p2="/MathCrow/assets/orch-hit-12-CxAX3g2A.mp3",y2=Object.freeze(Object.defineProperty({__proto__:null,default:p2},Symbol.toStringTag,{value:"Module"})),_2="/MathCrow/assets/orch-hit-2-CUKZb2-K.mp3",v2=Object.freeze(Object.defineProperty({__proto__:null,default:_2},Symbol.toStringTag,{value:"Module"})),E2="/MathCrow/assets/orch-hit-3-Ps1Pdv85.mp3",T2=Object.freeze(Object.defineProperty({__proto__:null,default:E2},Symbol.toStringTag,{value:"Module"})),A2="/MathCrow/assets/orch-hit-4-CBoR7lba.mp3",S2=Object.freeze(Object.defineProperty({__proto__:null,default:A2},Symbol.toStringTag,{value:"Module"})),b2="/MathCrow/assets/orch-hit-5-Cc8k6qBw.mp3",R2=Object.freeze(Object.defineProperty({__proto__:null,default:b2},Symbol.toStringTag,{value:"Module"})),w2="/MathCrow/assets/orch-hit-6-B27W21CZ.mp3",C2=Object.freeze(Object.defineProperty({__proto__:null,default:w2},Symbol.toStringTag,{value:"Module"})),I2="/MathCrow/assets/orch-hit-7-DH3w1fY6.mp3",D2=Object.freeze(Object.defineProperty({__proto__:null,default:I2},Symbol.toStringTag,{value:"Module"})),O2="/MathCrow/assets/orch-hit-8-aacTRlPQ.mp3",N2=Object.freeze(Object.defineProperty({__proto__:null,default:O2},Symbol.toStringTag,{value:"Module"})),M2="/MathCrow/assets/orch-hit-9-DsvL1Ygm.mp3",V2=Object.freeze(Object.defineProperty({__proto__:null,default:M2},Symbol.toStringTag,{value:"Module"})),x2=Object.assign({"/src/assets/sounds/orch-hit-1.mp3":h2,"/src/assets/sounds/orch-hit-10.mp3":d2,"/src/assets/sounds/orch-hit-11.mp3":g2,"/src/assets/sounds/orch-hit-12.mp3":y2,"/src/assets/sounds/orch-hit-2.mp3":v2,"/src/assets/sounds/orch-hit-3.mp3":T2,"/src/assets/sounds/orch-hit-4.mp3":S2,"/src/assets/sounds/orch-hit-5.mp3":R2,"/src/assets/sounds/orch-hit-6.mp3":C2,"/src/assets/sounds/orch-hit-7.mp3":D2,"/src/assets/sounds/orch-hit-8.mp3":N2,"/src/assets/sounds/orch-hit-9.mp3":V2}),P2=Object.entries(x2).sort(([r],[t])=>{var l,c;const n=parseInt(((l=r.match(/(\d+)\.mp3$/))==null?void 0:l[1])||"0"),s=parseInt(((c=t.match(/(\d+)\.mp3$/))==null?void 0:c[1])||"0");return n-s}).map(([,r])=>r.default);class U2{constructor(){Fe(this,"audios",[]);this.audios=P2.map(t=>{const n=new Audio(t);return n.load(),n})}playSound(t){let n=0;t>11?n=11:n=t,this.audios[n].volume=.1,this.audios[n].currentTime=0,this.audios[n].play()}}function L2({children:r}){const[t]=Rt.useState(new U2),[n,s]=Rt.useState(0),l=Rt.useRef(null),c=()=>{s(d=>d+1),t.playSound(n),l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{s(0)},5e3)};return ft.jsx(kv.Provider,{value:{incrementStreak:c},children:r})}const k2=({children:r})=>{const[t,n]=Rt.useState(null),[s,l]=Rt.useState(!0);Rt.useEffect(()=>Ab(wd,p=>{n(p),l(!1)}),[]);const c=async()=>{try{await Hb(wd,i2)}catch(g){console.error("Login failed:",g)}},d=async()=>{await Sb(wd)};return ft.jsx(oT.Provider,{value:{user:t,loading:s,loginWithGoogle:c,logout:d},children:r})},z2=()=>{const r=[0,1,2,3,4,5,6,7,8,9,10,11,12],[t,n]=Rt.useState(0),{setFactors:s,factors:l}=qa();Rt.useEffect(()=>{n(l.factor1)},[l.factor1]);const c=d=>{n(Number(d.target.value)),l.setLevel(Number(d.target.value)),s(l.clone())};return ft.jsxs("div",{className:"flex flex-col",children:[ft.jsx("div",{className:"text-[5vh]",children:"Selector"}),r.map(d=>ft.jsxs("label",{className:"flex items-center mb-2",children:[ft.jsx("input",{type:"radio",name:"options",className:"h-[3vh] w-[3vh] accent-[rgb(20,128,223)] mr-2 cursor-pointer",value:d,checked:t===d,onChange:c}),ft.jsx("div",{className:"text-[3vh]",children:d})]},d))]})},B2=()=>{const{loginWithGoogle:r,user:t}=Pl(),n=Rt.useMemo(()=>t!=null,[t]);return ft.jsx("button",{disabled:n,onClick:r,className:"p-2 bg-blue-600 text-white rounded",children:n?`Welcome ${t==null?void 0:t.displayName}`:"Login With Google"})},j2=()=>{const{logout:r,user:t}=Pl(),n=Rt.useMemo(()=>t!=null,[t]),{userData:s}=qc(),l=()=>{ah(t,s),r()};return ft.jsx("button",{onClick:l,className:`p-2 bg-blue-600 text-white rounded ${n?"":"hidden"}`,children:"Log out"})},q2=()=>{const{user:r}=Pl(),t=Rt.useMemo(()=>r!=null,[r]),{userData:n}=qc(),s=async()=>{ah(r,n)};return ft.jsx("button",{onClick:s,className:`p-2 bg-blue-600 text-white rounded ${t?"":"hidden"}`,children:"Save"})},H2=()=>{const r=[0,255,128],t=s=>{const l=[200,200,200],c=n.maxCorrect;let d=0;c!==0&&(d=s/n.maxCorrect);const g=d*r[0]+(1-d)*l[0],p=d*r[1]+(1-d)*l[1],_=d*r[2]+(1-d)*l[2];return[g,p,_]},{userData:n}=qc();return ft.jsxs("div",{className:" mr-auto h-fit w-fit flex flex-col items-center",children:[n.historyGrid.map((s,l)=>ft.jsx("div",{className:" h-auto flex flex-row",children:s.map((c,d)=>ft.jsx("div",{className:"border-1 border-black w-[1.5vh] h-[1.5vh] rounded",style:{backgroundColor:`rgb(${t(c).join(",")})`}},`${l}-${d}`))},l)),ft.jsx("div",{className:"text-[3vh] font-bold items-center",children:n.numCorrect})]})},G2=()=>{const[r,t]=Rt.useState(!0),n=()=>{t(!r)};return ft.jsxs("div",{className:`fixed top-0 left-0 h-full bg-[#2c3e50] text-[#ecf0f1] overflow-x-hidden transition-all duration-300 p-4 ${r?"w-[200px]":"w-[50px]"}`,children:[ft.jsx("button",{className:"bg-none border-none text-inherit text-2xl cursor-pointer outline-none mb-4",onClick:n,children:r?"<":">"}),r&&ft.jsx("nav",{children:ft.jsx("ul",{className:"list-none p-0",children:ft.jsxs("li",{className:"my-4",children:[ft.jsx(B2,{}),ft.jsx(j2,{}),ft.jsx(q2,{}),ft.jsx(z2,{}),ft.jsx(H2,{})]})})})]})};class As{constructor(){Fe(this,"historyGrid");Fe(this,"numCorrect");Fe(this,"maxCorrect");this.historyGrid=Array.from({length:12},()=>Array.from({length:12},()=>0)),this.numCorrect=0,this.maxCorrect=0}toFireStore(){return{historyGrid:this.historyGrid.flat(),numCorrect:this.numCorrect,maxCorrect:this.maxCorrect}}correctAnswer(t,n){this.historyGrid[t][n]+=1,this.numCorrect+=1,this.historyGrid[t][n]>this.maxCorrect&&(this.maxCorrect=this.historyGrid[t][n])}clone(){const t=new As;return t.historyGrid=this.historyGrid,t.numCorrect=this.numCorrect,t.maxCorrect=this.maxCorrect,t}static fromFireStore(t){let n=new As;const s=[],l=t.historyGrid;for(let c=0;c<12;c++)s.push(l.slice(c*12,(c+1)*12));return n.historyGrid=s,n.numCorrect=t.numCorrect,n.maxCorrect=t.maxCorrect,n}}const F2=({children:r})=>{const{user:t}=Pl(),[n,s]=Rt.useState(new As),l=async()=>{s(new As);let c=!1;if(!t)return;const d=KE(aT,"users",t.uid);try{const g=await ZI(d);if(g.exists()){c=!0;const p=g.data();s(As.fromFireStore(p))}}catch(g){console.error("Failed to fetch user data:",g)}c||ah(t,new As)};return Rt.useEffect(()=>{l()},[t==null?void 0:t.uid]),ft.jsx(zv.Provider,{value:{userData:n,setUserData:s},children:r})},Q2=()=>ft.jsx(k2,{children:ft.jsx(F2,{children:ft.jsx(L2,{children:ft.jsxs(u2,{children:[ft.jsx(l2,{}),ft.jsx(G2,{})]})})})});GA.createRoot(document.getElementById("root")).render(ft.jsx(Rt.StrictMode,{children:ft.jsx(Q2,{})}));
